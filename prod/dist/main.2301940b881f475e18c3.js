!function(e){function t(t){for(var o,a,i=t[0],l=t[1],c=t[2],u=0,p=[];u<i.length;u++)a=i[u],s[a]&&p.push(s[a][0]),s[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(d&&d(t);p.length;)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,i=1;i<n.length;i++){var l=n[i];0!==s[l]&&(o=!1)}o&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},s={main:0},r=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(){return Promise.resolve()},a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=l;r.push(["./app/react/index.js","vendor","pdfjs-dist"]),n()}({"./app/react/Activitylog/Activitylog.js":
/*!**********************************************!*\
  !*** ./app/react/Activitylog/Activitylog.js ***!
  \**********************************************/
/*! exports provided: ActivityLog, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ActivityLog",function(){return d});n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! ../App/RouteHandler */"./app/react/App/RouteHandler.js"),r=n(/*! ../BasicReducer */"./app/react/BasicReducer/index.js"),a=n(/*! ../utils/api */"./app/react/utils/api.js"),i=n(/*! ./components/ActivitylogForm */"./app/react/Activitylog/components/ActivitylogForm.js"),l=n(/*! ./components/ActivitylogList */"./app/react/Activitylog/components/ActivitylogList.js");function c(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class d extends s.default{static async requestState(e){const t=await a.default.get("activitylog",e);return[r.actions.set("activitylog/search",t.json),r.actions.set("activitylog/list",t.json.rows)]}render(){return c("div",{className:"activity-log"},void 0,c(i.default,{},void 0,c(l.default,{})))}}t.default=d},"./app/react/Activitylog/actions/activitylogActions.js":
/*!*************************************************************!*\
  !*** ./app/react/Activitylog/actions/activitylogActions.js ***!
  \*************************************************************/
/*! exports provided: activitylogSearch, activitylogSearchMore */function(e,t,n){"use strict";n.r(t),n.d(t,"activitylogSearch",function(){return i}),n.d(t,"activitylogSearchMore",function(){return l});var o=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),s=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js"),r=n(/*! ../../utils/api */"./app/react/utils/api.js");const a=(e,t=!1)=>{const n=t?"concat":"set";return t=>r.default.get("activitylog",new s.RequestParams(e)).then(e=>{t(o.actions.set("activitylog/search",e.json)),t(o.actions[n]("activitylog/list",e.json.rows))})};function i(e){return a(e)}function l(e){return a(e,!0)}},"./app/react/Activitylog/components/ActivitylogForm.js":
/*!*************************************************************!*\
  !*** ./app/react/Activitylog/components/ActivitylogForm.js ***!
  \*************************************************************/
/*! exports provided: mapStateToProps, mapDispatchToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"mapStateToProps",function(){return m}),n.d(t,"mapDispatchToProps",function(){return f});var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js")),i=n(/*! redux */"./node_modules/redux/es/index.js"),l=(n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),n(/*! ../../ReactReduxForms */"./app/react/ReactReduxForms/index.js")),c=n(/*! ../../I18N */"./app/react/I18N/index.js"),d=n(/*! ../actions/activitylogActions */"./app/react/Activitylog/actions/activitylogActions.js");function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class p extends s.Component{constructor(e){super(e),this.state={query:{}},this.handleSubmit=this.handleSubmit.bind(this),this.loadMore=this.loadMore.bind(this),this.methodOptions=[{label:"POST",value:"POST"},{label:"GET",value:"GET"},{label:"PUT",value:"PUT"},{label:"DELETE",value:"DELETE"}]}handleSubmit(e){const{submit:t}=this.props,n=Object.keys(e).reduce((t,n)=>e[n]?Object.assign(t,{[n]:e[n]}):t,{});this.setState({query:n}),t(n)}loadMore(){const{searchResults:e,searchMore:t}=this.props;if(e.get("remainingRows")){const{query:n}=this.state,o=e.getIn(["rows",-1,"time"]);t(Object.assign({},n,{before:o}))}}render(){const{children:e,searchResults:t}=this.props;return u("div",{},void 0,u("div",{className:"activity-log-form"},void 0,u(a.LocalForm,{onSubmit:this.handleSubmit},void 0,u("div",{className:"form-group col-sm-12 col-md-6 col-lg-2"},void 0,u("label",{htmlFor:"find"},void 0,"User"),u(a.Control.text,{className:"form-control",model:".username",id:"username"})),u("div",{className:"form-group col-sm-12 col-md-6 col-lg-4"},void 0,u("label",{htmlFor:"find"},void 0,"Find"),u(a.Control.text,{className:"form-control",model:".find",id:"find",placeholder:"by ids, methods, keywords, etc."})),u("div",{className:"form-group col-sm-12 col-lg-6"},void 0,u("label",{htmlFor:"time"},void 0,"Time"),u(l.DateRange,{className:"form-control",model:".time",id:"time",format:"YYYY-MM-DD",useTimezone:!0})),u("div",{className:"form-group col-sm-12"},void 0,u("input",{type:"submit",className:"btn btn-success",value:"Search"})))),e,u("div",{className:"text-center"},void 0,u("button",{type:"button",className:`btn btn-default btn-load-more ${t.get("remainingRows")?"":"disabled"}`,onClick:()=>{this.loadMore()}},void 0,Object(c.t)("System","x more"))))}}p.defaultProps={children:null};const m=({activitylog:e})=>({searchResults:e.search}),f=e=>Object(i.bindActionCreators)({submit:d.activitylogSearch,searchMore:d.activitylogSearchMore},e);t.default=Object(r.connect)(m,f)(p)},"./app/react/Activitylog/components/ActivitylogList.js":
/*!*************************************************************!*\
  !*** ./app/react/Activitylog/components/ActivitylogList.js ***!
  \*************************************************************/
/*! exports provided: mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"mapStateToProps",function(){return l});var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),n(/*! ./ActivitylogRow */"./app/react/Activitylog/components/ActivitylogRow.js"));function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function l({activitylog:e}){return{list:e.list}}t.default=Object(r.connect)(l,null)(class extends s.Component{render(){const{list:e}=this.props;return i("div",{className:"activity-log-list"},void 0,i("table",{className:"table"},void 0,i("thead",{},void 0,i("tr",{},void 0,i("th",{},void 0,"Action"),i("th",{},void 0,"User"),i("th",{className:"activitylog-description"},void 0,"Description"),i("th",{className:"activitylog-time"},void 0,"Time"))),i("tbody",{},void 0,e.map(e=>i(a.default,{entry:e},e.get("_id"))))))}})},"./app/react/Activitylog/components/ActivitylogRow.js":
/*!************************************************************!*\
  !*** ./app/react/Activitylog/components/ActivitylogRow.js ***!
  \************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! react */"./node_modules/react/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! moment */"./node_modules/moment/moment.js")),a=n.n(r),i=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),l=n(/*! ./DescriptionWrapper */"./app/react/Activitylog/components/DescriptionWrapper.js");function c(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const d=e=>{switch(e){case"CREATE":return c("span",{className:"badge btn-color-9"},void 0,e);case"UPDATE":return c("span",{className:"badge btn-color-6"},void 0,e);case"DELETE":return c("span",{className:"badge btn-color-2"},void 0,e);case"RAW":default:return c("span",{className:"badge btn-color-17"},void 0,e)}};class u extends s.Component{constructor(e){super(e),this.state={expanded:!1},this.toggleExpand=this.toggleExpand.bind(this)}toggleExpand(){const{expanded:e}=this.state;this.setState({expanded:!e})}render(){const{entry:e}=this.props,{expanded:t}=this.state,n=`${a()(e.get("time")).format("L")} ${a()(e.get("time")).locale("en").format("LTS")}`,o=e.get("semantic").toJS();let s=c(l.default,{entry:e,toggleExpand:this.toggleExpand,expanded:t},void 0,c("span",{className:"activitylog-extra"},void 0,e.get("method")," : ",e.get("url")));return o.beautified&&(s=c(l.default,{entry:e,toggleExpand:this.toggleExpand,expanded:t},void 0,c("span",{},void 0,c("span",{className:"activitylog-prefix"},void 0,o.description),c("span",{className:"activitylog-name"},void 0," ",o.name),c("span",{className:"activitylog-extra"},void 0," ",o.extra)))),c("tr",{className:o.beautified?"activitylog-beautified":"activitylog-raw"},e.get("_id"),c("td",{},void 0,o.beautified?d(o.action):d("RAW")),c("td",{},void 0,e.get("username")||"-"),c("td",{},void 0,s),c("td",{className:"activitylog-time"},void 0,n))}}u.defaultProps={entry:Object(i.Map)()},t.default=u},"./app/react/Activitylog/components/DescriptionWrapper.js":
/*!****************************************************************!*\
  !*** ./app/react/Activitylog/components/DescriptionWrapper.js ***!
  \****************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o;n(/*! react */"./node_modules/react/index.js"),n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! immutable */"./node_modules/immutable/dist/immutable.js");function s(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const r=e=>{const{entry:t,toggleExpand:n,expanded:o,children:r}=e;return s("div",{},void 0,s("div",{},void 0,s("span",{className:"expand",onClick:()=>{n()}},void 0,r)),o&&s("div",{className:"expanded-content"},void 0,s("table",{},void 0,s("tbody",{},void 0,t.getIn(["semantic","beautified"])&&s("tr",{},void 0,s("td",{},void 0,"Route"),s("td",{},void 0,t.get("method")," : ",t.get("url"))),s("tr",{},void 0,s("td",{},void 0,"Query"),s("td",{className:"tdquery"},void 0,t.get("query"))),s("tr",{},void 0,s("td",{},void 0,"Body"),s("td",{className:"tdbody"},void 0,t.get("body")))))))};r.defaultProps={children:s("span",{}),expanded:!1},t.default=r},"./app/react/Activitylog/reducer.js":
/*!******************************************!*\
  !*** ./app/react/Activitylog/reducer.js ***!
  \******************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! redux */"./node_modules/redux/es/index.js"),s=n(/*! ../BasicReducer */"./app/react/BasicReducer/index.js");t.default=Object(o.combineReducers)({search:Object(s.default)("activitylog/search",{}),list:Object(s.default)("activitylog/list",[])})},"./app/react/App.js":
/*!**************************!*\
  !*** ./app/react/App.js ***!
  \**************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=n(/*! react-router */"./node_modules/react-router/es/index.js"),a=(n(/*! react */"./node_modules/react/index.js"),n(/*! ./App/Provider */"./app/react/App/Provider.js")),i=n(/*! ./Routes */"./app/react/Routes.js"),l=n(/*! ./store.js */"./app/react/store.js");function c(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=(()=>c(s.Provider,{store:l.store},void 0,c(a.default,{},void 0,c(r.Router,{history:r.browserHistory},void 0,i.default))))},"./app/react/App/App.js":
/*!******************************!*\
  !*** ./app/react/App/App.js ***!
  \******************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! isomorphic-fetch */"./node_modules/isomorphic-fetch/fetch-npm-browserify.js"),r=n.n(s),a=n(/*! prop-types */"./node_modules/prop-types/index.js"),i=n.n(a),l=n(/*! react */"./node_modules/react/index.js"),c=n.n(l),d=(n(/*! bootstrap/dist/css/bootstrap.css */"./node_modules/bootstrap/dist/css/bootstrap.css"),n(/*! react-widgets/lib/scss/react-widgets.scss */"./node_modules/react-widgets/lib/scss/react-widgets.scss"),n(/*! nprogress/nprogress.css */"./node_modules/nprogress/nprogress.css"),n(/*! ../Notifications */"./app/react/Notifications/index.js")),u=n(/*! ./Cookiepopup */"./app/react/App/Cookiepopup.js"),p=n(/*! ../I18N */"./app/react/I18N/index.js"),m=n(/*! ../UI/Icon/library */"./app/react/UI/Icon/library.js"),f=n(/*! ../UI */"./app/react/UI/index.js"),h=(n(/*! ./scss/styles.scss */"./app/react/App/scss/styles.scss"),n(/*! ./Menu */"./app/react/App/Menu.js")),y=n(/*! ./SiteName */"./app/react/App/SiteName.js"),v=n(/*! ./Confirm */"./app/react/App/Confirm.js"),b=n(/*! ./GoogleAnalytics */"./app/react/App/GoogleAnalytics.js"),g=n(/*! ./Matomo */"./app/react/App/Matomo.js");function j(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}Object(m.loadIcons)();class S extends l.Component{constructor(e,t){super(e,t),this.fetch=e.fetch||r.a,this.state={showmenu:!1,confirmOptions:{}},this.toggleMenu=this.toggleMenu.bind(this)}getChildContext(){return{confirm:this.confirm.bind(this)}}toggleMenu(){this.setState({showmenu:!this.state.showmenu})}closeMenu(){this.setState({showmenu:!1})}confirm(e){this.setState({confirmOptions:e})}renderTools(){return c.a.Children.map(this.props.children,e=>{if(e.type.renderTools)return e.type.renderTools()})}render(){const{routes:e,location:t,params:n}=this.props;let o="bars",s="menuNav";this.state.showmenu&&(o="times",s+=" is-active");const r=e.reduce((e,t)=>Object.keys(t).includes("customHomePageId")?t.customHomePageId:e,""),a=!t.pathname.match("settings")&&n.pageId?n.pageId:"";return j("div",{id:"app",className:r||a?`pageId_${r||a}`:""},void 0,j(d.default,{}),j(u.default,{}),j("div",{className:"content"},void 0,j("nav",{},void 0,j("h1",{},void 0,j(y.default,{}))),j("header",{},void 0,j("button",{className:"menu-button",onClick:this.toggleMenu},void 0,j(f.Icon,{icon:o})),j("h1",{className:"logotype"},void 0,j(y.default,{})),this.renderTools(),j(h.default,{location:t,onClick:this.toggleMenu,className:s})),j("div",{className:"app-content container-fluid"},void 0,c.a.createElement(v.default,this.state.confirmOptions),j(p.TranslateForm,{}),this.props.children,j(b.default,{}),j(g.default,{}))))}}S.defaultProps={params:{},routes:[]},S.childContextTypes={confirm:i.a.func,locale:i.a.string},S.contextTypes={getUser:i.a.func,router:i.a.object},t.default=S},"./app/react/App/Confirm.js":
/*!**********************************!*\
  !*** ./app/react/App/Confirm.js ***!
  \**********************************/
/*! exports provided: Confirm, default */function(e,t,n){"use strict";n.r(t),n.d(t,"Confirm",function(){return d});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=n(/*! ../I18N */"./app/react/I18N/index.js"),i=n(/*! ../Layout/Modal */"./app/react/Layout/Modal.js"),l=n(/*! ../components/Elements/Loader */"./app/react/components/Elements/Loader.js");function c(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class d extends s.Component{constructor(e){super(e),this.state={isOpen:e.isOpen,isLoading:e.isLoading,confirmInputValue:""},this.accept=this.accept.bind(this),this.cancel=this.cancel.bind(this),this.close=this.close.bind(this),this.handleInput=this.handleInput.bind(this)}componentWillReceiveProps(e){e.accept!==this.props.accept&&this.setState({isOpen:!0})}close(){this.setState({isOpen:!1,confirmInputValue:"",isLoading:!1})}accept(){if(this.props.accept){const e=this.props.accept();if(e&&e instanceof Promise)return this.setState({isLoading:!0}),e.then(this.close),void e.catch(this.close)}this.close()}cancel(){this.props.cancel&&this.props.cancel(),this.close()}handleInput(e){this.setState({confirmInputValue:e.target.value})}renderExtraConfirm(){return c(r.a.Fragment,{},void 0,c("p",{},void 0," If you want to continue, please type '",this.props.extraConfirmWord,"' "),c("input",{type:"text",onChange:this.handleInput,value:this.state.confirmInputValue}))}render(){const{type:e}=this.props;return c(i.default,{isOpen:this.state.isOpen,type:e},void 0,c(i.default.Body,{},void 0,c("h4",{},void 0,this.props.title),c("p",{},void 0,this.props.message),this.props.extraConfirm&&!this.state.isLoading&&this.renderExtraConfirm(),this.state.isLoading&&c(l.default,{})),!this.state.isLoading&&c(i.default.Footer,{},void 0,!this.props.noCancel&&c("button",{type:"button",className:"btn btn-default cancel-button",onClick:this.cancel},void 0,Object(a.t)("System","Cancel")),c("button",{type:"button",disabled:this.props.extraConfirm&&this.state.confirmInputValue!==this.props.extraConfirmWord,className:`btn confirm-button btn-${e}`,onClick:this.accept},void 0,Object(a.t)("System","Accept"))))}}d.defaultProps={isLoading:!1,extraConfirm:!1,isOpen:!1,noCancel:!1,type:"danger",title:"Confirm action",message:"Are you sure you want to continue?",extraConfirmWord:"CONFIRM"},t.default=d},"./app/react/App/Cookiepopup.js":
/*!**************************************!*\
  !*** ./app/react/App/Cookiepopup.js ***!
  \**************************************/
/*! exports provided: Cookiepopup, default */function(e,t,n){"use strict";n.r(t),n.d(t,"Cookiepopup",function(){return u});var o,s=n(/*! tiny-cookie */"./node_modules/tiny-cookie/lib/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=n(/*! ../utils */"./app/react/utils/index.js"),l=n(/*! ../I18N */"./app/react/I18N/index.js"),c=n(/*! ../Notifications/components/Notification */"./app/react/Notifications/components/Notification.js");function d(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class u extends r.Component{constructor(e){super(e),this.state={cookieExists:!i.isClient||i.isClient&&Boolean(s.get("cookiepolicy"))},this.close=this.close.bind(this)}close(){s.set("cookiepolicy",1,{expires:3650}),this.setState({cookieExists:!0})}render(){const{cookiepolicy:e}=this.props,{cookieExists:t}=this.state;if(!e||t)return d("div",{className:"alert-wrapper"});const n=d(l.Translate,{},void 0,"To bring you a better experience, this site uses cookies.");return d("div",{className:"alert-wrapper"},void 0,d(c.Notification,{id:"cookiepolicy",removeNotification:this.close,message:n}))}}t.default=Object(a.connect)(e=>({cookiepolicy:Boolean(e.settings.collection.get("cookiepolicy"))}))(u)},"./app/react/App/Footer.js":
/*!*********************************!*\
  !*** ./app/react/App/Footer.js ***!
  \*********************************/
/*! exports provided: mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"mapStateToProps",function(){return u});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! ../I18N */"./app/react/I18N/index.js"),i=n(/*! reselect */"./node_modules/reselect/lib/index.js"),l=n(/*! ../Auth */"./app/react/Auth/index.js");function c(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const d=Object(i.createSelector)(e=>e.user,e=>e.toJS());function u(e){return{user:d(e),siteName:e.settings.collection.get("site_name")}}t.default=Object(r.connect)(u)(class extends s.Component{render(){return c("footer",{},void 0,c("ul",{className:"footer-nav"},void 0,c("li",{className:"footer-nav_item"},void 0,c("div",{className:"footer-tooltip"},void 0,c("p",{},void 0,"Uwazi is developed by ",c("img",{src:"/public/huridocs-logo.svg",title:"uwazi",alt:"uwazi"})),c("p",{},void 0,"in Kenya, Ecuador, Spain, Germany and USA.")),c("a",{href:"https://www.uwazi.io/",target:"_blank",className:"footer-logo"},void 0,c("img",{src:"/public/logo.svg",title:"uwazi",alt:"uwazi"}))),c("li",{className:"footer-nav_separator"},void 0," "),c("li",{className:"footer-nav_item footer-collection_name"},void 0,c("span",{},void 0,this.props.siteName)),c("li",{className:"footer-nav_separator"},void 0," "),c("li",{className:"footer-nav_item"},void 0,c(a.I18NLink,{to:"/library"},void 0,Object(a.t)("System","Library"))),c(l.NeedAuthorization,{roles:["admin","editor"]},void 0,c("li",{className:"footer-nav_item"},void 0,c(a.I18NLink,{to:"/uploads"},void 0,Object(a.t)("System","Uploads")))),(()=>this.props.user._id?c("li",{className:"footer-nav_item"},void 0,c(a.I18NLink,{to:"/settings"},void 0,Object(a.t)("System","Settings"))):c("li",{className:"footer-nav_item"},void 0,c(a.I18NLink,{to:"/login"},void 0,Object(a.t)("System","Login"))))()))}})},"./app/react/App/GoogleAnalytics.js":
/*!******************************************!*\
  !*** ./app/react/App/GoogleAnalytics.js ***!
  \******************************************/
/*! exports provided: trackPage, GoogleAnalytics, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"trackPage",function(){return i}),n.d(t,"GoogleAnalytics",function(){return l}),n.d(t,"mapStateToProps",function(){return c});var o,s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),a=n(/*! ../utils */"./app/react/utils/index.js");function i(){a.isClient&&window.gtag&&window.gtag("send","pageview"),a.isClient&&window._paq&&(window._paq.push(["setCustomUrl",window.location.href]),window._paq.push(["deleteCustomVariables","page"]),window._paq.push(["setGenerationTimeMs",0]),window._paq.push(["trackPageView"]))}class l extends r.Component{constructor(e){super(e),e.analyticsTrackingId&&a.isClient&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",e.analyticsTrackingId),i())}render(){return!!this.props.analyticsTrackingId&&function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("script",{async:!0,src:`https://www.googletagmanager.com/gtag/js?id=${this.props.analyticsTrackingId}`})}}function c({settings:e}){return{analyticsTrackingId:e.collection.get("analyticsTrackingId")}}l.defaultProps={analyticsTrackingId:""},t.default=Object(s.connect)(c)(l)},"./app/react/App/LoadingProgressBar.js":
/*!*********************************************!*\
  !*** ./app/react/App/LoadingProgressBar.js ***!
  \*********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ../utils */"./app/react/utils/index.js"),s=n(/*! nprogress */"./node_modules/nprogress/nprogress.js"),r=n.n(s);const a={requests:0,start:()=>{o.isClient&&(r.a.configure({showSpinner:!1,easing:"ease",speed:800,minimum:.2}),r.a.start(),a.requests+=1)},done:()=>{if(o.isClient&&r.a){if(a.requests-=1,a.requests<=0)return void r.a.done();r.a.inc(.1)}}};t.default=a},"./app/react/App/Matomo.js":
/*!*********************************!*\
  !*** ./app/react/App/Matomo.js ***!
  \*********************************/
/*! exports provided: Matomo, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"Matomo",function(){return a}),n.d(t,"mapStateToProps",function(){return i});var o,s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js"));class a extends r.Component{render(){if(!this.props.id&&!this.props.url)return!1;return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("script",{type:"text/javascript",dangerouslySetInnerHTML:{__html:`\n              var _paq = _paq || [];\n              _paq.push(['trackPageView']);\n              _paq.push(['enableLinkTracking']);\n              (function() {\n                var u="${this.props.url.replace(/\/?$/,"/")}";\n                _paq.push(['setTrackerUrl', u+'piwik.php']);\n                _paq.push(['setSiteId', '${this.props.id}']);\n                var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];\n                g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);\n              })();\n        `}})}}function i({settings:e}){try{const{id:t,url:n}=JSON.parse(e.collection.get("matomoConfig"));return{id:t,url:n}}catch(e){return{}}}a.defaultProps={id:"",url:""},t.default=Object(s.connect)(i)(a)},"./app/react/App/Menu.js":
/*!*******************************!*\
  !*** ./app/react/App/Menu.js ***!
  \*******************************/
/*! exports provided: Menu, mapStateToProps, mapDispatchToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"Menu",function(){return f}),n.d(t,"mapStateToProps",function(){return h}),n.d(t,"mapDispatchToProps",function(){return y});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! redux */"./node_modules/redux/es/index.js"),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=n(/*! ../Multireducer */"./app/react/Multireducer/index.js"),l=n(/*! ../Auth */"./app/react/Auth/index.js"),c=n(/*! ../I18N */"./app/react/I18N/index.js"),d=n(/*! ../Library/actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),u=n(/*! ../SemanticSearch/actions/actions */"./app/react/SemanticSearch/actions/actions.js"),p=n(/*! ../UI */"./app/react/UI/index.js");function m(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class f extends s.Component{libraryUrl(){const{searchTerm:e}=this.props.location.query,t=Object(d.processFilters)(this.props.librarySearch,this.props.libraryFilters.toJS());return t.searchTerm=e,`/library/${Object(d.encodeSearch)(t)}`}uploadsUrl(){const e=Object(d.processFilters)(this.props.uploadsSearch,this.props.uploadsFilters.toJS());return`/uploads/${Object(d.encodeSearch)(e)}`}renderSemanticSearchButton(){return!!this.props.semanticSearch&&m(l.NeedAuthorization,{roles:["admin"]},void 0,m("li",{className:"menuNav-item semantic-search"},void 0,m("button",{type:"button",onClick:this.props.showSemanticSearch,className:"menuNav-btn btn btn-default"},void 0,m(p.Icon,{icon:"flask"}),m("span",{className:"tab-link-tooltip"},void 0,Object(c.t)("System","Semantic search")))))}render(){const{links:e}=this.props,t=this.props.user.toJS(),n=e.map(e=>{const t=e.get("url")||"/";return t.startsWith("http")?m("li",{className:"menuNav-item"},e.get("_id"),m("a",{href:t,className:"btn menuNav-btn",target:"_blank"},void 0,Object(c.t)("Menu",e.get("title")))):m("li",{className:"menuNav-item"},e.get("_id"),m(c.I18NLink,{to:t,className:"btn menuNav-btn"},void 0,Object(c.t)("Menu",e.get("title"))))});return m("ul",{onClick:this.props.onClick,className:this.props.className},void 0,m("li",{className:"menuItems"},void 0,m("ul",{className:"menuNav-list"},void 0,n)),m("li",{className:"menuActions"},void 0,m("ul",{className:"menuNav-list"},void 0,this.renderSemanticSearchButton(),m("li",{className:"menuNav-item"},void 0,m(c.I18NLink,{to:this.libraryUrl(),className:"menuNav-btn btn btn-default"},void 0,m(p.Icon,{icon:"th"}),m("span",{className:"tab-link-tooltip"},void 0,Object(c.t)("System","Public documents")))),m(l.NeedAuthorization,{roles:["admin","editor"]},void 0,m("li",{className:"menuNav-item"},void 0,m(c.I18NLink,{to:this.uploadsUrl(),className:"menuNav-btn btn btn-default"},void 0,m("span",{},void 0,m(p.Icon,{icon:"cloud-upload-alt"})),m("span",{className:"tab-link-tooltip"},void 0,Object(c.t)("System","Private documents"))))),m(l.NeedAuthorization,{roles:["admin","editor"]},void 0,m("li",{className:"menuNav-item"},void 0,m(c.I18NLink,{to:"/settings/account",className:"menuNav-btn btn btn-default"},void 0,m(p.Icon,{icon:"cog"}),m("span",{className:"tab-link-tooltip"},void 0,Object(c.t)("System","Account settings"))))),t._id?null:m("li",{className:"menuNav-item"},void 0,m(c.I18NLink,{to:"/login",className:"menuNav-btn btn btn-default"},void 0,m(p.Icon,{icon:"power-off"}),m("span",{className:"tab-link-tooltip"},void 0,Object(c.t)("System","Sign in"))))),m(c.I18NMenu,{})))}}function h({user:e,settings:t,library:n,uploads:o}){const s=t.collection.toJS().features||{};return{user:e,librarySearch:n.search,libraryFilters:n.filters,uploadsSearch:o.search,uploadsFilters:o.filters,uploadsSelectedSorting:o.selectedSorting,links:t.collection.get("links"),semanticSearch:s.semanticSearch}}function y(e){return Object(r.bindActionCreators)({showSemanticSearch:u.showSemanticSearch},Object(i.wrapDispatch)(e,"library"))}f.defaultProps={semanticSearch:!1,showSemanticSearch:()=>{}},t.default=Object(a.connect)(h,y)(f)},"./app/react/App/NoMatch.js":
/*!**********************************!*\
  !*** ./app/react/App/NoMatch.js ***!
  \**********************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! ./RouteHandler */"./app/react/App/RouteHandler.js"),r=n(/*! react-helmet */"./node_modules/react-helmet/lib/Helmet.js"),a=n.n(r);function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=class extends s.default{render(){return i("div",{},void 0,i(a.a,{title:"Not Found"}),i("h2",{},void 0,"404"))}}},"./app/react/App/Provider.js":
/*!***********************************!*\
  !*** ./app/react/App/Provider.js ***!
  \***********************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! react */"./node_modules/react/index.js"),s=n(/*! prop-types */"./node_modules/prop-types/index.js"),r=n.n(s),a=n(/*! ../utils */"./app/react/utils/index.js");class i extends o.Component{constructor(e){super(e),this.data=a.isClient&&window.__reduxData__?window.__reduxData__:e.initialData,this.renderedFromServer=!0,this.user=a.isClient&&window.__user__?window.__user__:e.user}getChildContext(){return{getInitialData:this.getInitialData.bind(this),isRenderedFromServer:this.isRenderedFromServer.bind(this),getUser:this.getUser.bind(this),language:this.props.language}}getUser(){return this.user}isRenderedFromServer(){const{renderedFromServer:e}=this;return this.renderedFromServer=!1,e}getInitialData(){const{data:e}=this;return delete this.data,e}render(){const{children:e}=this.props;return o.Children.only(e)}}i.childContextTypes={getInitialData:r.a.func,isRenderedFromServer:r.a.func,getUser:r.a.func,language:r.a.string},t.default=i},"./app/react/App/RouteHandler.js":
/*!***************************************!*\
  !*** ./app/react/App/RouteHandler.js ***!
  \***************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! react */"./node_modules/react/index.js"),s=n(/*! prop-types */"./node_modules/prop-types/index.js"),r=n.n(s),a=n(/*! moment */"./node_modules/moment/moment.js"),i=n.n(a),l=n(/*! ../I18N */"./app/react/I18N/index.js"),c=n(/*! ../../shared/JSONUtils */"./app/shared/JSONUtils.js"),d=n(/*! ../utils/api */"./app/react/utils/api.js"),u=n(/*! ../utils/RequestParams */"./app/react/utils/RequestParams.js"),p=n(/*! ../utils */"./app/react/utils/index.js");function m(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(null==e)return{};var n,o,s=function(e,t){if(null==e)return{};var n,o,s={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}const y=({store:e})=>e.getState().locale,v=e=>{i.a.locale(e),d.default.locale(e),l.I18NUtils.saveLocale(e)};class b extends o.Component{static requestState(){return Promise.resolve([])}emptyState(){}static renderTools(){}isRenderedFromServer(){const e=b.renderedFromServer;return b.renderedFromServer=!1,e}constructor(e,t){super(e,t),v(y(t)),!this.isRenderedFromServer()&&p.isClient&&this.getClientState(this.props)}componentWillReceiveProps(e){this.urlHasChanged(e)&&(this.emptyState(),this.getClientState(e))}async getClientState(e){let t;e.location&&(t=c.default.parseNested(e.location.query));const{store:n={getState:()=>{}}}=this.context,o=e.params,{lang:s}=o,r=h(o,["lang"]),a=new u.RequestParams(function(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};m(n,!0).forEach(function(t){f(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):m(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}({},t,{},r),{});(await this.constructor.requestState(a,n.getState())).forEach(e=>{n.dispatch(e)})}urlHasChanged(e){const{params:t={},routes:n=[]}=e,{params:o,routes:s}=this.props,r=Object.keys(t).reduce((t,n)=>t&&e.params[n]===o[n],!0),a=Object.keys(t).length===Object.keys(o).length,i=s.reduce((e,t)=>e+t.path,""),l=n.reduce((e,t)=>e+t.path,"");return!r||!a||!(i===l)}render(){return!1}}b.renderedFromServer=!0,b.defaultProps={params:{}},b.contextTypes={getInitialData:r.a.func,isRenderedFromServer:r.a.func,router:r.a.object,store:r.a.object},t.default=b},"./app/react/App/ShowIf.js":
/*!*********************************!*\
  !*** ./app/react/App/ShowIf.js ***!
  \*********************************/
/*! exports provided: ShowIf, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ShowIf",function(){return s});n(/*! prop-types */"./node_modules/prop-types/index.js");var o=n(/*! react */"./node_modules/react/index.js");class s extends o.Component{render(){return!!this.props.if&&this.props.children}}t.default=s},"./app/react/App/SiteName.js":
/*!***********************************!*\
  !*** ./app/react/App/SiteName.js ***!
  \***********************************/
/*! exports provided: SiteName, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"SiteName",function(){return d}),n.d(t,"mapStateToProps",function(){return u});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! react-helmet */"./node_modules/react-helmet/lib/Helmet.js"),i=n.n(a),l=n(/*! ../I18N */"./app/react/I18N/index.js");function c(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class d extends s.Component{render(){return c("div",{},void 0,c(i.a,{titleTemplate:`%s • ${this.props.siteName}`,meta:[{"char-set":"utf-8"},{name:"description",content:"Uwazi docs"}]}),c(l.I18NLink,{to:"/"},void 0,this.props.siteName))}}function u(e){return{siteName:e.settings.collection.get("site_name")}}t.default=Object(r.connect)(u)(d)},"./app/react/App/scss/styles.scss":
/*!****************************************!*\
  !*** ./app/react/App/scss/styles.scss ***!
  \****************************************/
/*! no static exports found */function(e,t,n){},"./app/react/App/sockets.js":
/*!**********************************!*\
  !*** ./app/react/App/sockets.js ***!
  \**********************************/
/*! no exports provided */function(e,t,n){"use strict";n.r(t);var o=n(/*! ../BasicReducer */"./app/react/BasicReducer/index.js"),s=n(/*! ../I18N */"./app/react/I18N/index.js"),r=n(/*! ../Notifications */"./app/react/Notifications/index.js"),a=n(/*! ../store */"./app/react/store.js"),i=n(/*! ../socket */"./app/react/socket.js");let l,c;i.default.on("disconnect",e=>{"transport close"===e&&(l&&a.store.dispatch(r.notificationActions.removeNotification(l)),c=setTimeout(()=>{l=a.store.dispatch(r.notificationActions.notify("Lost connection to the server, your changes may be lost","danger",!1))},8e3))}),i.default.on("reconnect",()=>{clearTimeout(c),l&&(a.store.dispatch(r.notificationActions.removeNotification(l)),l=a.store.dispatch(r.notificationActions.notify("Connected to server","success")),l=null)}),i.default.on("templateChange",e=>{a.store.dispatch(o.actions.update("templates",e))}),i.default.on("templateDelete",e=>{a.store.dispatch(o.actions.remove("templates",{_id:e.id}))}),i.default.on("updateSettings",e=>{a.store.dispatch(o.actions.set("settings/collection",e))}),i.default.on("thesauriChange",e=>{a.store.dispatch(o.actions.update("thesauris",e))}),i.default.on("thesauriDelete",e=>{a.store.dispatch(o.actions.remove("thesauris",{_id:e.id}))}),i.default.on("translationsChange",e=>{a.store.dispatch(o.actions.update("translations",e)),s.t.resetCachedTranslation(),s.Translate.resetCachedTranslation()}),i.default.on("IMPORT_CSV_START",()=>a.store.dispatch(o.actions.set("importStart",!0))),i.default.on("IMPORT_CSV_PROGRESS",e=>a.store.dispatch(o.actions.set("importProgress",e))),i.default.on("IMPORT_CSV_ERROR",e=>a.store.dispatch(o.actions.set("importError",e))),i.default.on("IMPORT_CSV_END",()=>a.store.dispatch(o.actions.set("importEnd",!0)))},"./app/react/Attachments/actions/actionTypes.js":
/*!******************************************************!*\
  !*** ./app/react/Attachments/actions/actionTypes.js ***!
  \******************************************************/
/*! exports provided: START_UPLOAD_ATTACHMENT, ATTACHMENT_PROGRESS, ATTACHMENT_COMPLETE, ATTACHMENT_DELETED, ATTACHMENT_RENAMED, UPDATE_DOCUMENT_FILE */function(e,t,n){"use strict";n.r(t),n.d(t,"START_UPLOAD_ATTACHMENT",function(){return o}),n.d(t,"ATTACHMENT_PROGRESS",function(){return s}),n.d(t,"ATTACHMENT_COMPLETE",function(){return r}),n.d(t,"ATTACHMENT_DELETED",function(){return a}),n.d(t,"ATTACHMENT_RENAMED",function(){return i}),n.d(t,"UPDATE_DOCUMENT_FILE",function(){return l});const o="START_UPLOAD_ATTACHMENT",s="ATTACHMENT_PROGRESS",r="ATTACHMENT_COMPLETE",a="ATTACHMENT_DELETED",i="ATTACHMENT_RENAMED",l="UPDATE_DOCUMENT_FILE"},"./app/react/Attachments/actions/actions.js":
/*!**************************************************!*\
  !*** ./app/react/Attachments/actions/actions.js ***!
  \**************************************************/
/*! exports provided: uploadAttachment, renameAttachment, deleteAttachment, loadForm, submitForm, resetForm */function(e,t,n){"use strict";n.r(t),n.d(t,"uploadAttachment",function(){return p}),n.d(t,"renameAttachment",function(){return m}),n.d(t,"deleteAttachment",function(){return f}),n.d(t,"loadForm",function(){return h}),n.d(t,"submitForm",function(){return y}),n.d(t,"resetForm",function(){return v});var o=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),s=n(/*! superagent */"./node_modules/superagent/lib/client.js"),r=n.n(s),a=n(/*! ../../config.js */"./app/react/config.js"),i=n(/*! ../../Notifications/actions/notificationsActions */"./app/react/Notifications/actions/notificationsActions.js"),l=n(/*! ../../Library/actions/actionTypes */"./app/react/Library/actions/actionTypes.js"),c=n(/*! ../../utils/api */"./app/react/utils/api.js"),d=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js"),u=n(/*! ./actionTypes */"./app/react/Attachments/actions/actionTypes.js");function p(e,t,n,o={}){return s=>{s({type:u.START_UPLOAD_ATTACHMENT,entity:e}),r.a.post(`${a.APIURL}attachments/upload`).set("Accept","application/json").set("X-Requested-With","XMLHttpRequest").field("entityId",e).field("allLanguages",Boolean(o.allLanguages)).attach("file",t,t.name).on("progress",t=>{s({type:u.ATTACHMENT_PROGRESS,entity:e,progress:Math.floor(t.percent)})}).on("response",t=>{s({type:u.ATTACHMENT_COMPLETE,entity:e,file:JSON.parse(t.text),__reducerKey:n})}).end()}}function m(e,t,n,s){return r=>c.default.post("attachments/rename",new d.RequestParams({entityId:e,_id:s._id,originalname:s.originalname,language:s.language})).then(a=>{e===s._id&&r({type:u.UPDATE_DOCUMENT_FILE,entity:e,file:a.json,__reducerKey:n}),r({type:u.ATTACHMENT_RENAMED,entity:e,file:a.json,__reducerKey:n}),r(o.actions.reset(t)),r(Object(i.notify)("Attachment renamed","success"))})}function f(e,t,n){return o=>c.default.delete("attachments/delete",new d.RequestParams({attachmentId:t._id})).then(s=>{o({type:u.ATTACHMENT_DELETED,entity:e,file:t,__reducerKey:n}),o({type:l.UPDATE_DOCUMENT,doc:s.json,__reducerKey:n}),o({type:l.UNSELECT_ALL_DOCUMENTS,__reducerKey:n}),o({type:l.SELECT_DOCUMENT,doc:s.json,__reducerKey:n}),o(Object(i.notify)("Attachment deleted","success"))})}function h(e,t){return n=>{n(o.actions.reset(e)),n(o.actions.load(e,t))}}function y(e){return t=>{t(o.actions.submit(e))}}function v(e){return t=>{t(o.actions.reset(e))}}},"./app/react/Attachments/components/Attachment.js":
/*!********************************************************!*\
  !*** ./app/react/Attachments/components/Attachment.js ***!
  \********************************************************/
/*! exports provided: Attachment, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"Attachment",function(){return S}),n.d(t,"mapStateToProps",function(){return _});var o,s=n(/*! prop-types */"./node_modules/prop-types/index.js"),r=n.n(s),a=n(/*! react */"./node_modules/react/index.js"),i=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),l=n(/*! redux */"./node_modules/redux/es/index.js"),c=n(/*! filesize */"./node_modules/filesize/lib/filesize.js"),d=n.n(c),u=n(/*! ../../Auth */"./app/react/Auth/index.js"),p=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),m=n(/*! ../../Metadata/components/UploadButton */"./app/react/Metadata/components/UploadButton.js"),f=n(/*! ./AttachmentForm */"./app/react/Attachments/components/AttachmentForm.js"),h=n(/*! ../../UI */"./app/react/UI/index.js"),y=n(/*! ../actions/actions */"./app/react/Attachments/actions/actions.js");function v(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const b=e=>e.substr(e.lastIndexOf(".")+1),g=(e,t,n)=>{const o={};return o.itemClassName=e?"item-source-document":"",o.typeClassName=e?"primary":"empty",o.icon=e?"file-pdf-o":"paperclip",o.deletable=!0,o.replaceable=e,o.downloadHref=e?`/api/documents/download?_id=${t}`:`/api/attachments/download?_id=${t}&file=${n}`,o},j=(e,t)=>{let n=null;return"pdf"===b(e.filename)&&(n=v("span",{},void 0,v(h.Icon,{icon:"file-pdf"})," pdf")),-1!==["png","gif","jpg"].indexOf(b(e.filename.toLowerCase()))&&(n=v("img",{src:t.downloadHref,alt:e.filename})),v("div",{className:"attachment-thumbnail"},void 0,n)};class S extends a.Component{deleteAttachment(e){this.context.confirm({accept:()=>{this.props.deleteAttachment(this.props.parentId,e,this.props.storeKey)},title:"Confirm delete",message:this.props.deleteMessage})}render(){const{file:e,parentId:t,parentSharedId:n,model:o,isSourceDocument:s,storeKey:r}=this.props,a=e.size?d()(e.size):"",i=g(s,t,e.filename);let l=v("a",{className:"attachment-link",href:i.downloadHref},void 0,j(e,i),v("span",{className:"attachment-name"},void 0,v("span",{},void 0,e.originalname),v(p.default,{if:Boolean(a)},void 0,v("span",{className:"attachment-size"},void 0,a)))),c=v("div",{},void 0,v(u.NeedAuthorization,{roles:["admin","editor"]},void 0,v("div",{className:"attachment-buttons"},void 0,v(p.default,{if:!this.props.readOnly},void 0,v("button",{className:"item-shortcut btn btn-default",onClick:this.props.loadForm.bind(this,o,e)},void 0,v(h.Icon,{icon:"pencil-alt"}))),v(p.default,{if:i.deletable&&!this.props.readOnly},void 0,v("button",{className:"item-shortcut btn btn-default btn-hover-danger",onClick:this.deleteAttachment.bind(this,e)},void 0,v(h.Icon,{icon:"trash-alt"}))),v(p.default,{if:i.replaceable&&!this.props.readOnly},void 0,v(m.default,{documentId:t,documentSharedId:n,storeKey:r})))));return this.props.beingEdited&&!this.props.readOnly&&(l=v("div",{className:"attachment-link"},void 0,j(e,i),v("span",{className:"attachment-name"},void 0,v(f.default,{model:this.props.model,isSourceDocument:s,onSubmit:this.props.renameAttachment.bind(this,t,o,r)}))),c=v("div",{className:"attachment-buttons"},void 0,v("div",{className:"item-shortcut-group"},void 0,v(u.NeedAuthorization,{roles:["admin","editor"]},void 0,v("button",{className:"item-shortcut btn btn-primary",onClick:this.props.resetForm.bind(this,o)},void 0,v(h.Icon,{icon:"times"}))),v(u.NeedAuthorization,{roles:["admin","editor"]},void 0,v("button",{className:"item-shortcut btn btn-success",onClick:this.props.submitForm.bind(this,o,r)},void 0,v(h.Icon,{icon:"save"})))))),v("div",{className:"attachment"},void 0,l,c)}}function _({attachments:e},t){return{model:"attachments.edit.attachment",beingEdited:t.file._id&&e.edit.attachment._id===t.file._id}}S.defaultProps={deleteMessage:"Are you sure you want to delete this attachment?"},S.contextTypes={confirm:r.a.func},t.default=Object(i.connect)(_,function(e){return Object(l.bindActionCreators)({deleteAttachment:y.deleteAttachment,renameAttachment:y.renameAttachment,loadForm:y.loadForm,submitForm:y.submitForm,resetForm:y.resetForm},e)})(S)},"./app/react/Attachments/components/AttachmentForm.js":
/*!************************************************************!*\
  !*** ./app/react/Attachments/components/AttachmentForm.js ***!
  \************************************************************/
/*! exports provided: AttachmentForm, default */function(e,t,n){"use strict";n.r(t),n.d(t,"AttachmentForm",function(){return p});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),i=n(/*! ../../ReactReduxForms */"./app/react/ReactReduxForms/index.js"),l=n(/*! ../../../shared/languagesList */"./app/shared/languagesList.ts"),c=n(/*! ../../I18N/t */"./app/react/I18N/t.js"),d=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js");function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class p extends s.Component{render(){const{model:e}=this.props,t=Object.keys(l.languages).map(e=>({value:l.languages[e].franc,label:l.languages[e].elastic}));return t.push({value:"other",label:"other"}),u(a.Form,{id:"attachmentForm",model:e,onSubmit:this.props.onSubmit,validators:{originalname:{required:e=>!!e&&""!==e.trim()}}},void 0,u(i.FormGroup,{model:e,field:"originalname"},void 0,u(a.Field,{model:".originalname"},void 0,u("input",{className:"form-control"}))),u(d.default,{if:this.props.isSourceDocument},void 0,u(i.FormGroup,{className:"set-language"},void 0,u("label",{},void 0,Object(c.default)("System","Language")),u(i.Select,{model:".language",className:"form-control",options:t}))))}}t.default=Object(r.connect)()(p)},"./app/react/Attachments/components/AttachmentsList.js":
/*!*************************************************************!*\
  !*** ./app/react/Attachments/components/AttachmentsList.js ***!
  \*************************************************************/
/*! exports provided: AttachmentsList, default */function(e,t,n){"use strict";n.r(t),n.d(t,"AttachmentsList",function(){return v});var o,s=n(/*! prop-types */"./node_modules/prop-types/index.js"),r=n.n(s),a=n(/*! react */"./node_modules/react/index.js"),i=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),l=n(/*! ../../utils/advancedSort */"./app/react/utils/advancedSort.js"),c=n(/*! ../../I18N */"./app/react/I18N/index.js"),d=n(/*! ../../Auth */"./app/react/Auth/index.js"),u=n(/*! ./Attachment */"./app/react/Attachments/components/Attachment.js"),p=n(/*! ./UploadAttachment */"./app/react/Attachments/components/UploadAttachment.js"),m=n(/*! ../../Metadata/components/UploadButton */"./app/react/Metadata/components/UploadButton.js"),f=n(/*! ../../Library/components/ViewDocButton */"./app/react/Library/components/ViewDocButton.js"),h=n(/*! ../../Layout/Tip */"./app/react/Layout/Tip.js");function y(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class v extends a.Component{getExtension(e){return e.substr(e.lastIndexOf(".")+1)}arrangeFiles(e,t){if(!e.length)return e;const n=[];t&&n.push(e.shift());const o=Object(l.advancedSort)(e,{property:"originalname"});return n.concat(o)}renderMainDocument(e){const{parentId:t,parentSharedId:n,readOnly:o,storeKey:s}=this.props,r=o||Boolean(this.props.isTargetDoc);return e?(e._id=t,y("div",{},void 0,y("h2",{},void 0,Object(c.t)("System","Document")),y("div",{className:"attachments-list"},void 0,y(u.default,{file:e,parentId:t,readOnly:r,storeKey:s,parentSharedId:n,isSourceDocument:!0,deleteMessage:"Warning, Deleting the main file will also delete table of content and main files for the other languages of this entity"})),this.props.entityView&&e&&y(f.default,{file:e,sharedId:n,processed:this.props.processed,storeKey:s}))):r?null:y(d.NeedAuthorization,{},void 0,y("div",{className:"attachment-buttons main-file"},void 0,y("h2",{},void 0,Object(c.t)("System","Document"),y(h.default,{},void 0,"Main file: add a file as the main content")),y(m.default,{documentId:t,documentSharedId:n,storeKey:s})))}render(){const{parentId:e,parentSharedId:t,isDocumentAttachments:n,readOnly:o,storeKey:s}=this.props,r=this.arrangeFiles(this.props.files.toJS(),n),a=o||Boolean(this.props.isTargetDoc);let i=null;this.props.isTargetDoc||(i=y(d.NeedAuthorization,{roles:["admin","editor"]},void 0,y("div",{className:"attachment-add"},void 0,y(p.default,{entity:this.props.parentId,storeKey:s}))));const l=n?r[0]:null,m=r.filter((e,t)=>l&&0!==t||!l);return y("div",{},void 0,this.renderMainDocument(l),y("h2",{},void 0,Object(c.t)("System","Attachments")),y("div",{className:"attachments-list"},void 0,m.map((n,o)=>y(u.default,{file:n,parentId:e,readOnly:a,storeKey:s,parentSharedId:t,isSourceDocument:!1},o))),i)}}v.contextTypes={confirm:r.a.func},t.default=Object(i.connect)(function({user:e}){return{user:e,progress:null,model:"documentViewer.sidepanel.attachment"}})(v)},"./app/react/Attachments/components/UploadAttachment.js":
/*!**************************************************************!*\
  !*** ./app/react/Attachments/components/UploadAttachment.js ***!
  \**************************************************************/
/*! exports provided: UploadAttachment, mapStateToProps, mapDispatchToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"UploadAttachment",function(){return u}),n.d(t,"mapStateToProps",function(){return p}),n.d(t,"mapDispatchToProps",function(){return m});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! ../../I18N/t */"./app/react/I18N/t.js"),l=n(/*! ../../UI */"./app/react/UI/index.js"),c=n(/*! ../actions/actions */"./app/react/Attachments/actions/actions.js");function d(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class u extends s.Component{onChangeSingle(e){const t=e.target.files[0];this.props.uploadAttachment(this.props.entity,t,this.props.storeKey)}onChangeAll(e){const t=e.target.files[0];this.props.uploadAttachment(this.props.entity,t,this.props.storeKey,{allLanguages:!0})}renderUploadButton(){let e=null;return this.props.languages.size>1&&(e=d("label",{htmlFor:"upload-attachment-all-input",className:"btn btn-success btn-xs add"},void 0,d("span",{className:"btn-label"},void 0,d(l.Icon,{icon:"link"})," ",Object(i.default)("System","Add to all languages")),d("input",{onChange:this.onChangeAll.bind(this),type:"file",id:"upload-attachment-all-input",style:{display:"none"}}))),d("div",{},void 0,d("label",{htmlFor:"upload-attachment-input",className:"btn btn-success btn-xs add"},void 0,d("span",{className:"btn-label"},void 0,d(l.Icon,{icon:"paperclip"})," ",Object(i.default)("System","Add file")),d("input",{onChange:this.onChangeSingle.bind(this),type:"file",id:"upload-attachment-input",style:{display:"none"}})),e)}renderProgress(e){return d("div",{className:"btn btn-default btn-disabled"},void 0,d("span",{className:"btn-label"},void 0,Object(i.default)("System","Uploading")),d("span",{},void 0,"  ",e,"%"))}render(){const e=this.props.progress.get(this.props.entity);return e?this.renderProgress(e):this.renderUploadButton()}}function p({attachments:e,settings:t}){return{progress:e.progress,languages:t.collection.get("languages")}}function m(e){return Object(a.bindActionCreators)({uploadAttachment:c.uploadAttachment},e)}t.default=Object(r.connect)(p,m)(u)},"./app/react/Attachments/index.js":
/*!****************************************!*\
  !*** ./app/react/Attachments/index.js ***!
  \****************************************/
/*! exports provided: AttachmentsList, UploadAttachment, manageAttachmentsReducer, reducer */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./components/AttachmentsList */"./app/react/Attachments/components/AttachmentsList.js");n.d(t,"AttachmentsList",function(){return o.default});var s=n(/*! ./components/UploadAttachment */"./app/react/Attachments/components/UploadAttachment.js");n.d(t,"UploadAttachment",function(){return s.default});var r=n(/*! ./reducers/manageAttachmentsReducer */"./app/react/Attachments/reducers/manageAttachmentsReducer.js");n.d(t,"manageAttachmentsReducer",function(){return r.default});var a=n(/*! ./reducers/reducer */"./app/react/Attachments/reducers/reducer.js");n.d(t,"reducer",function(){return a.default})},"./app/react/Attachments/reducers/manageAttachmentsReducer.js":
/*!********************************************************************!*\
  !*** ./app/react/Attachments/reducers/manageAttachmentsReducer.js ***!
  \********************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return i});var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n(/*! ../actions/actionTypes */"./app/react/Attachments/actions/actionTypes.js");const r=(e,t)=>e.getIn(t.concat(["_id"])),a=(e,t)=>e.getIn(t.concat(["attachments"]))||Object(o.fromJS)([]);function i(e,{useDefaults:t=!0,setInArray:n=[]}={}){return(i,l)=>{let c=i;const d=l||{};if(t&&(c=i||{}),d.type===s.ATTACHMENT_COMPLETE&&r(c,n)===d.entity){const e=a(c,n);return c.setIn(n.concat(["attachments"]),e.push(Object(o.fromJS)(d.file)))}if(d.type===s.ATTACHMENT_DELETED&&r(c,n)===d.entity){const e=a(c,n);return((c.getIn(n.concat(["file"]))||Object(o.fromJS)({})).get("filename")===d.file.filename?c.setIn(n.concat(["file"]),null):c).setIn(n.concat(["attachments"]),e.filterNot(e=>e.get("filename")===d.file.filename))}if(d.type===s.ATTACHMENT_RENAMED&&r(c,n)===d.entity){if(r(c,n)===d.file._id)return c.setIn(n.concat(["file"]),Object(o.fromJS)(d.file));const e=a(c,n);return c.setIn(n.concat(["attachments"]),e.map(e=>e.get("_id")===d.file._id?e.set("originalname",d.file.originalname):e))}return e(c,d)}}},"./app/react/Attachments/reducers/progressReducer.js":
/*!***********************************************************!*\
  !*** ./app/react/Attachments/reducers/progressReducer.js ***!
  \***********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return a});var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n(/*! ../actions/actionTypes */"./app/react/Attachments/actions/actionTypes.js");const r={};function a(e=r,t={}){return t.type===s.START_UPLOAD_ATTACHMENT?e.set(t.entity,0):t.type===s.ATTACHMENT_PROGRESS?e.set(t.entity,t.progress):t.type===s.ATTACHMENT_COMPLETE?e.delete(t.entity):Object(o.fromJS)(e)}},"./app/react/Attachments/reducers/reducer.js":
/*!***************************************************!*\
  !*** ./app/react/Attachments/reducers/reducer.js ***!
  \***************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! redux */"./node_modules/redux/es/index.js"),s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! ./progressReducer */"./app/react/Attachments/reducers/progressReducer.js");t.default=Object(o.combineReducers)({progress:r.default,edit:Object(o.combineReducers)({attachment:Object(s.modelReducer)("attachments.edit.attachment"),form:Object(s.formReducer)("attachments.edit.attachment")})})},"./app/react/Auth/actions.js":
/*!***********************************!*\
  !*** ./app/react/Auth/actions.js ***!
  \***********************************/
/*! exports provided: login, recoverPassword, resetPassword, unlockAccount */function(e,t,n){"use strict";n.r(t),n.d(t,"login",function(){return i}),n.d(t,"recoverPassword",function(){return l}),n.d(t,"resetPassword",function(){return c}),n.d(t,"unlockAccount",function(){return d});var o=n(/*! ../utils/api */"./app/react/utils/api.js"),s=n(/*! ../BasicReducer */"./app/react/BasicReducer/index.js"),r=n(/*! ../Notifications/actions/notificationsActions */"./app/react/Notifications/actions/notificationsActions.js"),a=n(/*! ../utils/RequestParams */"./app/react/utils/RequestParams.js");function i(e){const t=new a.RequestParams(e);return async e=>{await o.default.post("login",t);const n=await o.default.get("user");e(s.actions.set("auth/user",n.json))}}function l(e){const t=new a.RequestParams({email:e});return e=>o.default.post("recoverpassword",t).then(()=>{e(Object(r.notify)("Instructions to reset your password have been send, please check your email","success"))})}function c(e,t){const n=new a.RequestParams({password:e,key:t});return e=>o.default.post("resetpassword",n).then(()=>{e(Object(r.notify)("Password changed success","success"))})}function d(e){const t=new a.RequestParams(e);return e=>o.default.post("unlockaccount",t).then(()=>{e(Object(r.notify)("Account unlocked successfully","success"))})}},"./app/react/Auth/components/NeedAuthorization.js":
/*!********************************************************!*\
  !*** ./app/react/Auth/components/NeedAuthorization.js ***!
  \********************************************************/
/*! exports provided: NeedAuthorization, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"NeedAuthorization",function(){return r}),n.d(t,"mapStateToProps",function(){return a});n(/*! prop-types */"./node_modules/prop-types/index.js");var o=n(/*! react */"./node_modules/react/index.js"),s=n(/*! react-redux */"./node_modules/react-redux/es/index.js");class r extends o.Component{render(){return!!this.props.authorized&&this.props.children}}function a({user:e},t){const n=t.roles||["admin"];return{authorized:!(!e.get("_id")||!n.includes(e.get("role")))}}t.default=Object(s.connect)(a)(r)},"./app/react/Auth/index.js":
/*!*********************************!*\
  !*** ./app/react/Auth/index.js ***!
  \*********************************/
/*! exports provided: default, NeedAuthorization */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./actions */"./app/react/Auth/actions.js"),s=n(/*! ./components/NeedAuthorization */"./app/react/Auth/components/NeedAuthorization.js");n.d(t,"NeedAuthorization",function(){return s.default}),t.default={actions:o}},"./app/react/Auth/reducer.js":
/*!***********************************!*\
  !*** ./app/react/Auth/reducer.js ***!
  \***********************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ../BasicReducer */"./app/react/BasicReducer/index.js");t.default=Object(o.default)("auth/user",{})},"./app/react/BasicReducer/index.js":
/*!*****************************************!*\
  !*** ./app/react/BasicReducer/index.js ***!
  \*****************************************/
/*! exports provided: default, actions */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./reducer */"./app/react/BasicReducer/reducer.js");n.d(t,"actions",function(){return o.actions}),t.default=o.default},"./app/react/BasicReducer/reducer.js":
/*!*******************************************!*\
  !*** ./app/react/BasicReducer/reducer.js ***!
  \*******************************************/
/*! exports provided: default, update, updateIn, set, unset, push, concat, concatIn, remove, actions */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return m}),n.d(t,"update",function(){return f}),n.d(t,"updateIn",function(){return h}),n.d(t,"set",function(){return y}),n.d(t,"unset",function(){return v}),n.d(t,"push",function(){return b}),n.d(t,"concat",function(){return g}),n.d(t,"concatIn",function(){return j}),n.d(t,"remove",function(){return S}),n.d(t,"actions",function(){return _});var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n.n(o);const r="SET",a="UPDATE",i="UPDATE_IN",l="UNSET",c="REMOVE",d="PUSH",u="CONCAT",p="CONCAT_IN";function m(e,t){return(n=t,o={})=>{let m;switch(o.type){case`${e}/${r}`:return s.a.fromJS(o.value);case`${e}/${l}`:return s.a.fromJS(t);case`${e}/${d}`:return n.push(s.a.fromJS(o.value));case`${e}/${u}`:return n.concat(s.a.fromJS(o.value));case`${e}/${p}`:return n.updateIn(o.key,e=>e.concat(s.a.fromJS(o.value)));case`${e}/${c}`:return s.a.fromJS(n).filter(e=>e.get("_id")!==o.value._id);case`${e}/${a}`:return-1===(m=n.findIndex(e=>e.get("_id")===o.value._id))?n.push(s.a.fromJS(o.value)):n.set(m,s.a.fromJS(o.value));case`${e}/${i}`:return-1===(m=n.getIn(o.key).findIndex(e=>e.get("_id")===o.value._id))?n.updateIn(o.key,e=>e.push(s.a.fromJS(o.value))):n.setIn([...o.key,m],s.a.fromJS(o.value));default:return s.a.fromJS(n)}}}function f(e,t){return{type:`${e}/${a}`,value:t}}function h(e,t,n){return{type:`${e}/${i}`,key:t,value:n}}function y(e,t){return{type:`${e}/${r}`,value:t}}function v(e){return{type:`${e}/${l}`}}function b(e,t){return{type:`${e}/${d}`,value:t}}function g(e,t){return{type:`${e}/${u}`,value:t}}function j(e,t,n){return{type:`${e}/${p}`,key:t,value:n}}function S(e,t){return{type:`${e}/${c}`,value:t}}const _={update:f,updateIn:h,set:y,unset:v,push:b,concat:g,concatIn:j,remove:S}},"./app/react/Charts/components/Bar.js":
/*!********************************************!*\
  !*** ./app/react/Charts/components/Bar.js ***!
  \********************************************/
/*! exports provided: RechartsBar, default */function(e,t,n){"use strict";n.r(t),n.d(t,"RechartsBar",function(){return f});var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! recharts */"./node_modules/recharts/es6/index.js")),l=n(/*! ../utils/arrayUtils */"./app/react/Charts/utils/arrayUtils.js"),c=n(/*! ../utils/colorScheme */"./app/react/Charts/utils/colorScheme.js");function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class p extends r.a.Component{render(){return this.props.active?u("div",{style:{backgroundColor:"#fff",border:"1px solid #ccc"}},void 0,u("div",{style:{backgroundColor:"#eee",borderBottom:"1px dashed #ccc",padding:"5px"}},void 0,this.props.chartLabel),u("div",{style:{padding:"5px"}},void 0,this.props.payload[0].payload.name,":  ",u("b",{style:{color:"#600"}},void 0,this.props.payload[0].value))):null}}const m=e=>{const{index:t}=e;return r.a.createElement(i.Rectangle,d({},e,{stroke:"none",fill:c.default[t%c.default.length]}))};class f extends s.Component{componentWillMount(){this.mountData(this.props)}componentWillReceiveProps(e){e&&this.mountData(e)}mountData(e){let t=[];e.data&&(t=e.data.map(e=>({name:e.label,value:e.results,xAxisName:""}))),this.setState({fullData:t})}render(){return u(i.ResponsiveContainer,{height:320},void 0,u(i.BarChart,{height:300,data:this.state.fullData,margin:{top:0,right:30,left:0,bottom:0}},void 0,u(i.XAxis,{dataKey:"xAxisName",label:this.props.chartLabel}),u(i.YAxis,{}),u(i.CartesianGrid,{strokeDasharray:"2 4"}),u(i.Tooltip,{content:u(p,{parentData:this.state.fullData,chartLabel:this.props.chartLabel})}),u(i.Bar,{dataKey:"value",fill:"#D24040",shape:u(m,{})}),u(i.Legend,{payload:l.default.formatPayload(this.state.fullData)})))}}t.default=Object(a.connect)()(f)},"./app/react/Charts/components/ColoredBar.js":
/*!***************************************************!*\
  !*** ./app/react/Charts/components/ColoredBar.js ***!
  \***************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! react */"./node_modules/react/index.js"),s=n.n(o),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! recharts */"./node_modules/recharts/es6/index.js")),a=n(/*! ../utils/colorScheme */"./app/react/Charts/utils/colorScheme.js");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}const l=e=>{const{index:t,color:n}=e,o="light"!==n?a.default:a.light;return s.a.createElement(r.Rectangle,i({},e,{stroke:"none",fill:o[t%a.default.length]}))};l.defaultProps={color:"default",index:0},t.default=l},"./app/react/Charts/components/ExtendedTooltip.js":
/*!********************************************************!*\
  !*** ./app/react/Charts/components/ExtendedTooltip.js ***!
  \********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o;n(/*! react */"./node_modules/react/index.js"),n(/*! prop-types */"./node_modules/prop-types/index.js");function s(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const r=e=>{if(e.active){const t=e.payload[0],n=e.payload[1];return s("div",{style:{backgroundColor:"#fff",border:"1px solid #ccc"}},void 0,s("div",{style:{backgroundColor:"#eee",borderBottom:"1px dashed #ccc",padding:"5px"}},void 0,t.payload.name,":  ",s("b",{style:{color:"#600"}},void 0,t.value+n.value)),s("div",{style:{padding:"5px"}},void 0,t.payload.setALabel,":  ",s("b",{style:{color:"#600"}},void 0,t.value),s("br",{}),n.payload.setBLabel,":  ",s("b",{style:{color:"#600"}},void 0,n.value)))}return null};r.defaultProps={payload:[],active:!1},t.default=r},"./app/react/Charts/components/LibraryChart.js":
/*!*****************************************************!*\
  !*** ./app/react/Charts/components/LibraryChart.js ***!
  \*****************************************************/
/*! exports provided: LibraryChartComponent, default */function(e,t,n){"use strict";n.r(t),n.d(t,"LibraryChartComponent",function(){return d});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! ../../I18N */"./app/react/I18N/index.js"),i=n(/*! ./Pie */"./app/react/Charts/components/Pie.js"),l=n(/*! ./Bar */"./app/react/Charts/components/Bar.js");function c(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class d extends s.Component{constructor(e){super(e),this.state={type:"pie"},this.maxPieItems=14,this.assignType=this.assignType.bind(this),this.typeButton=this.typeButton.bind(this)}assignType(e){return()=>{this.setState({type:e})}}clusterResults(e){return e.reduce((e,t,n)=>{const o=e;return n<this.maxPieItems&&o.push(t),n===this.maxPieItems&&o.push({label:Object(a.t)("System","Other"),results:t.results}),n>this.maxPieItems&&(o[o.length-1].results+=t.results),o},[])}typeButton(e){return c("button",{className:`btn btn-sm ${this.state.type===e?"btn-success":"btn-default"}`,onClick:this.assignType(e)},void 0,c("i",{className:`fa fa-${e}-chart`}))}render(){if(!this.props.options)return null;const e="pie"===this.state.type?c(i.default,{data:this.clusterResults(this.props.options)}):c(l.default,{data:this.props.options,chartLabel:this.props.label});return c("div",{className:"item item-chart"},void 0,c("div",{},void 0,c("div",{className:"item-chart-type"},void 0,this.typeButton("pie"),this.typeButton("bar")),c("p",{},void 0,this.props.label),e))}}d.defaultProps={options:[],label:null},t.default=Object(r.connect)()(d)},"./app/react/Charts/components/LibraryCharts.js":
/*!******************************************************!*\
  !*** ./app/react/Charts/components/LibraryCharts.js ***!
  \******************************************************/
/*! exports provided: LibraryCharts, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"LibraryCharts",function(){return m}),n.d(t,"mapStateToProps",function(){return f});var o,s=n(/*! react */"./node_modules/react/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react-redux */"./node_modules/react-redux/es/index.js")),a=n(/*! ../../I18N */"./app/react/I18N/index.js"),i=n(/*! ../../Library/helpers/libraryFilters */"./app/react/Library/helpers/libraryFilters.js"),l=n(/*! ./LibraryChart */"./app/react/Charts/components/LibraryChart.js"),c=n(/*! ../utils/arrayUtils */"./app/react/Charts/utils/arrayUtils.js");function d(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function u(e){const t=e;return t.options=t.options.map(e=>{const n=e;return n.label=Object(a.t)(t.content,n.label,null,!1),n}),t}function p(e){const t=e;return t.options=c.default.sortValues(t.options),t}class m extends s.Component{itemResults(e){const{aggregations:t}=this,n=(t.all&&t.all.types?t.all.types.buckets:[]).find(t=>t.key===e.id);return n?n.filtered.doc_count:e.items?e.items.reduce((e,t)=>e+this.itemResults(t),0):0}conformDocumentTypesToFields(){let e=this.props.collection.toJS().filters||[];return e.length&&"uploads"!==this.props.storeKey||(e=this.props.templates.toJS().map(e=>({id:e._id,name:e.name}))),"uploads"===this.props.storeKey&&e.unshift({id:"missing",name:Object(a.t)("System","No type")}),[{options:e.map(e=>({label:Object(a.t)(e.id,e.name),results:this.itemResults(e)})),label:Object(a.t)("System","Document and entity types")}]}render(){let e=[];return this.props.aggregations&&(this.aggregations=this.props.aggregations.toJS(),this.props.fields.size&&(e=Object(i.parseWithAggregations)(this.props.fields.toJS(),this.aggregations).filter(e=>("select"===e.type||"multiselect"===e.type)&&e.options.length).map(u).map(p)),e=e.length?e:this.conformDocumentTypesToFields()),d("div",{className:"documents-list"},void 0,d("div",{className:"main-wrapper"},void 0,d("div",{className:"item-group item-group-charts"},void 0,e.map((e,t)=>d(l.default,{options:e.options,label:Object(a.t)(this.props.translationContext,e.label)},t)))))}}function f(e,t){const n=t.storeKey&&e[t.storeKey].filters.get("documentTypes");return{aggregations:t.storeKey?e[t.storeKey].aggregations:null,fields:t.storeKey?e[t.storeKey].filters.get("properties"):null,collection:e.settings.collection,templates:e.templates,translationContext:n?e[t.storeKey].filters.getIn(["documentTypes",0]):null}}t.default=Object(r.connect)(f)(m)},"./app/react/Charts/components/Pie.js":
/*!********************************************!*\
  !*** ./app/react/Charts/components/Pie.js ***!
  \********************************************/
/*! exports provided: RechartsPie, default */function(e,t,n){"use strict";n.r(t),n.d(t,"RechartsPie",function(){return u});var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! recharts */"./node_modules/recharts/es6/index.js")),i=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),l=n.n(i),c=n(/*! ../utils/colorScheme */"./app/react/Charts/utils/colorScheme.js");function d(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class u extends s.Component{mountData(e){let t=l.a.fromJS([]);e.data&&(t=l.a.fromJS(e.data.map(e=>({name:e.label,value:e.results,enabled:!0})))),this.setState({activeIndex:0,fullData:t})}componentWillMount(){this.mountData(this.props)}componentWillReceiveProps(e){e&&this.mountData(e)}renderActiveShape(e){const t=Math.PI/180,{cx:n,cy:o,midAngle:s,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c,fill:u,payload:p,percent:m,value:f}=e,h=Math.sin(-t*s),y=Math.cos(-t*s),v=n+(i+10)*y,b=o+(i+10)*h,g=n+(i+22)*y,j=o+(i+22)*h,S=g+22*(y>=0?1:-1),_=j,x=y>=0?"start":"end";return d("g",{},void 0,d("text",{x:n,y:o,dy:8,textAnchor:"middle",fill:u},void 0,function(e,t){return e.length<=t?e:`${e.substring(0,t-3)}...`}(p.name,14)),d(a.Sector,{cx:n,cy:o,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c,fill:u,stroke:"#fff"}),d(a.Sector,{cx:n,cy:o,startAngle:l,endAngle:c,innerRadius:i+6,outerRadius:i+10,fill:u}),d("path",{d:`M${v},${b}L${g},${j}L${S},${_}`,stroke:u,fill:"none"}),d("circle",{cx:S,cy:_,r:2,fill:u,stroke:"none"}),d("text",{x:S+12*(y>=0?1:-1),y:_,textAnchor:x,fill:"#333"},void 0,`${p.name}: ${f}`),d("text",{x:S+12*(y>=0?1:-1),y:_,dy:18,textAnchor:x,fill:"#999"},void 0,`(${(100*m).toFixed(2)}%)`))}getFilteredIndex(e,t){const n={};let o=-1;return e.forEach((e,t)=>{if(e.get("enabled"))return o+=1,void(n[t]=o);n[t]=null}),n[t]}onIndexEnter(e,t){this.setState({activeIndex:t})}onFullIndexEnter(e,t){this.onIndexEnter(null,this.getFilteredIndex(this.state.fullData,t))}onIndexClick(e,t){const n=this.state.fullData,o=!n.getIn([t,"enabled"]);let s=null;const r=n.setIn([t,"enabled"],o);o&&(s=this.getFilteredIndex(r,t)),this.setState({activeIndex:s,fullData:r})}render(){const e=[],t=this.state.fullData.toJS(),n=t.reduce((t,n,o)=>(n.enabled&&(t.push(n),e.push(c.default[o%c.default.length])),t),[]);return d(a.ResponsiveContainer,{height:320},void 0,d(a.PieChart,{},void 0,d(a.Pie,{data:n,dataKey:"value",cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,activeIndex:this.state.activeIndex,activeShape:this.renderActiveShape,animationBegin:200,animationDuration:500,onMouseEnter:this.onIndexEnter.bind(this),onClick:this.onIndexEnter.bind(this),fill:"#8884d8"},void 0,n.map((t,n)=>d(a.Cell,{fill:e[n],opacity:.8},n))),d(a.Legend,{onMouseEnter:this.onFullIndexEnter.bind(this),onClick:this.onIndexClick.bind(this),payload:t.map((e,n)=>({value:e.name,type:"rect",color:t[n].enabled?c.default[n%c.default.length]:"#aaa",formatter:()=>d("span",{style:{color:t[n].enabled?"#333":"#999"}},void 0,e.name)}))})))}}t.default=Object(r.connect)()(u)},"./app/react/Charts/components/StackedDualBarChart.js":
/*!************************************************************!*\
  !*** ./app/react/Charts/components/StackedDualBarChart.js ***!
  \************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! react */"./node_modules/react/index.js"),n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! recharts */"./node_modules/recharts/es6/index.js"),r=n(/*! ../utils/arrayUtils */"./app/react/Charts/utils/arrayUtils.js"),a=n(/*! ./ExtendedTooltip */"./app/react/Charts/components/ExtendedTooltip.js"),i=n(/*! ./ColoredBar */"./app/react/Charts/components/ColoredBar.js");function l(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const c=e=>{const{data:t,chartLabel:n}=e;return l(s.ResponsiveContainer,{height:320},void 0,l(s.BarChart,{height:300,data:t,margin:{top:0,right:30,left:0,bottom:0}},void 0,l(s.XAxis,{dataKey:"xAxisName",label:""}),l(s.YAxis,{}),l(s.CartesianGrid,{strokeDasharray:"2 4"}),l(s.Tooltip,{content:l(a.default,{parentData:t,chartLabel:n})}),l(s.Bar,{dataKey:"setAValue",fill:"#D24040",shape:l(i.default,{}),stackId:"unique"}),l(s.Bar,{dataKey:"setBValue",fill:"#D24040",shape:l(i.default,{color:"light"}),stackId:"unique"}),l(s.Legend,{payload:r.default.formatPayload(t)})))};c.defaultProps={data:[],chartLabel:null},t.default=c},"./app/react/Charts/index.js":
/*!***********************************!*\
  !*** ./app/react/Charts/index.js ***!
  \***********************************/
/*! exports provided: ColoredBar, ExtendedTooltip, StackedDualBarChart, colorScheme, arrayUtils */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./components/ColoredBar */"./app/react/Charts/components/ColoredBar.js");n.d(t,"ColoredBar",function(){return o.default});var s=n(/*! ./components/ExtendedTooltip */"./app/react/Charts/components/ExtendedTooltip.js");n.d(t,"ExtendedTooltip",function(){return s.default});var r=n(/*! ./components/StackedDualBarChart */"./app/react/Charts/components/StackedDualBarChart.js");n.d(t,"StackedDualBarChart",function(){return r.default});var a=n(/*! ./utils/colorScheme */"./app/react/Charts/utils/colorScheme.js");n.d(t,"colorScheme",function(){return a.default});var i=n(/*! ./utils/arrayUtils */"./app/react/Charts/utils/arrayUtils.js");n.d(t,"arrayUtils",function(){return i.default})},"./app/react/Charts/utils/arrayUtils.js":
/*!**********************************************!*\
  !*** ./app/react/Charts/utils/arrayUtils.js ***!
  \**********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! ../../I18N */"./app/react/I18N/index.js"),r=n(/*! ../../Library/helpers/libraryFilters */"./app/react/Library/helpers/libraryFilters.js"),a=n(/*! ./colorScheme */"./app/react/Charts/utils/colorScheme.js");t.default={sortValues:function(e){return e.sort((e,t)=>!e.others&&!t.others&&(e.results===t.results?e.label.toLowerCase().localeCompare(t.label.toLowerCase()):t.results-e.results)),e},formatPayload:function(e){return e.map((e,t)=>({value:e.name,type:"rect",color:a.default[t%a.default.length],formatter:()=>(function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}})("span",{style:{color:"#333"}},void 0,e.name)}))},formatDataForChart:(e,t,n,{context:o,excludeZero:a,maxCategories:i,aggregateOthers:l=!1})=>{const c=Object(r.populateOptions)([{content:o}],n.toJS()),{options:d}=c[0];let u=e.toJS().filter(e=>"missing"!==e.key);a&&(u=u.filter(e=>0!==e.filtered.doc_count));let p=u.sort((e,t)=>t.filtered.doc_count-e.filtered.doc_count);return Number(i)&&((p=u.slice(0,Number(i)))[p.length]=u.slice(Number(i)).reduce((e,t)=>(e.filtered.doc_count+=t.filtered.doc_count,e),{others:l,key:"others",filtered:{doc_count:0}})),p.map(e=>{if(e.others&&e.filtered.doc_count)return{others:!0,id:e.key,label:"others",results:e.filtered.doc_count};const t=d&&d.find(t=>t.id===e.key);return t?{id:e.key,label:Object(s.t)(o,t.label,null,!1),results:e.filtered.doc_count}:null}).filter(e=>!!e)}}},"./app/react/Charts/utils/colorScheme.js":
/*!***********************************************!*\
  !*** ./app/react/Charts/utils/colorScheme.js ***!
  \***********************************************/
/*! exports provided: default, light */function(e,t,n){"use strict";n.r(t),n.d(t,"light",function(){return o}),t.default=["#0088FE","#00ABC4","#00C49F","#A8C400","#FFBB28","#FF8042","#D24040","#A250B3"];const o=["#7fc3fe","#7fd4e1","#7fe1ce","#d3e17f","#ffdc93","#ffbfa0","#e89f9f","#d0a7d8"]},"./app/react/Connections/actions/actionTypes.js":
/*!******************************************************!*\
  !*** ./app/react/Connections/actions/actionTypes.js ***!
  \******************************************************/
/*! exports provided: SET_RELATION_TYPE, SET_TARGET_DOCUMENT, CONNECTION_CREATED, OPEN_CONNECTION_PANEL, CLOSE_CONNECTION_PANEL, SEARCHING_CONNECTIONS, CREATING_CONNECTION, CREATING_RANGED_CONNECTION, CANCEL_RANGED_CONNECTION */function(e,t,n){"use strict";n.r(t),n.d(t,"SET_RELATION_TYPE",function(){return o}),n.d(t,"SET_TARGET_DOCUMENT",function(){return s}),n.d(t,"CONNECTION_CREATED",function(){return r}),n.d(t,"OPEN_CONNECTION_PANEL",function(){return a}),n.d(t,"CLOSE_CONNECTION_PANEL",function(){return i}),n.d(t,"SEARCHING_CONNECTIONS",function(){return l}),n.d(t,"CREATING_CONNECTION",function(){return c}),n.d(t,"CREATING_RANGED_CONNECTION",function(){return d}),n.d(t,"CANCEL_RANGED_CONNECTION",function(){return u});const o="SET_RELATION_TYPE",s="SET_TARGET_DOCUMENT",r="CONNECTION_CREATED",a="OPEN_CONNECTION_PANEL",i="CLOSE_CONNECTION_PANEL",l="SEARCHING_CONNECTIONS",c="CREATING_CONNECTION",d="CREATING_RANGED_CONNECTION",u="CANCEL_RANGED_CONNECTION"},"./app/react/Connections/actions/actions.js":
/*!**************************************************!*\
  !*** ./app/react/Connections/actions/actions.js ***!
  \**************************************************/
/*! exports provided: immidiateSearch, search, startNewConnection, setRelationType, setTargetDocument, saveConnection, selectRangedTarget */function(e,t,n){"use strict";n.r(t),n.d(t,"immidiateSearch",function(){return d}),n.d(t,"search",function(){return p}),n.d(t,"startNewConnection",function(){return m}),n.d(t,"setRelationType",function(){return f}),n.d(t,"setTargetDocument",function(){return h}),n.d(t,"saveConnection",function(){return y}),n.d(t,"selectRangedTarget",function(){return v});var o=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),s=n(/*! ../../Notifications */"./app/react/Notifications/index.js"),r=n(/*! ../../utils/api */"./app/react/utils/api.js"),a=n(/*! ../../utils/debounce */"./app/react/utils/debounce.js"),i=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js"),l=n(/*! ./actionTypes */"./app/react/Connections/actions/actionTypes.js"),c=n(/*! ./uiActions */"./app/react/Connections/actions/uiActions.js");function d(e,t,n){e(c.searching());const s=new i.RequestParams({searchTerm:t,fields:["title"]});return r.default.get("search",s).then(t=>{let s=t.json.rows;"targetRanged"===n&&(s=s.filter(e=>"entity"!==e.type)),e(o.actions.set("connections/searchResults",s))})}const u=Object(a.default)(d,400);function p(e,t){return n=>(n(o.actions.set("connections/searchTerm",e)),u(n,e,t))}function m(e,t){return n=>d(n,"",e).then(()=>{n(o.actions.set("connections/searchTerm","")),n(c.openPanel(e,t))})}function f(e){return{type:l.SET_RELATION_TYPE,template:e}}function h(e){return{type:l.SET_TARGET_DOCUMENT,id:e}}function y(e,t=(()=>{})){return(n,o)=>{n({type:l.CREATING_CONNECTION}),"basic"!==e.type&&(e.language=o().locale),delete e.type;const a={entity:e.sourceDocument,template:null,range:e.sourceRange},c={entity:e.targetDocument,template:e.template};e.targetRange&&void 0!==e.targetRange.start&&(c.range=e.targetRange);const d={delete:[],save:[[a,c]]};return r.default.post("relationships/bulk",new i.RequestParams(d)).then(e=>{n({type:l.CONNECTION_CREATED}),t(e.json),n(s.notificationActions.notify("saved successfully !","success"))})}}function v(e,t){return n=>{n({type:l.CREATING_RANGED_CONNECTION}),t(e.targetDocument)}}},"./app/react/Connections/actions/uiActions.js":
/*!****************************************************!*\
  !*** ./app/react/Connections/actions/uiActions.js ***!
  \****************************************************/
/*! exports provided: openPanel, closePanel, searching */function(e,t,n){"use strict";n.r(t),n.d(t,"openPanel",function(){return s}),n.d(t,"closePanel",function(){return r}),n.d(t,"searching",function(){return a});var o=n(/*! ./actionTypes */"./app/react/Connections/actions/actionTypes.js");function s(e,t){return{type:o.OPEN_CONNECTION_PANEL,sourceDocument:t,connectionType:e}}function r(){return{type:o.CLOSE_CONNECTION_PANEL}}function a(){return{type:o.SEARCHING_CONNECTIONS}}},"./app/react/Connections/components/ActionButton.js":
/*!**********************************************************!*\
  !*** ./app/react/Connections/components/ActionButton.js ***!
  \**********************************************************/
/*! exports provided: ActionButton, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ActionButton",function(){return p}),n.d(t,"mapStateToProps",function(){return m});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! validate.js */"./node_modules/validate.js/validate.js"),l=n.n(i),c=n(/*! ../../UI */"./app/react/UI/index.js"),d=n(/*! ../actions/actions */"./app/react/Connections/actions/actions.js");function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class p extends s.Component{onClick(e,t){e&&("save"===this.props.action&&this.props.saveConnection(t,this.props.onCreate),"connect"===this.props.action&&this.props.selectRangedTarget(t,this.props.onRangedConnect))}render(){const e=this.props.connection.toJS(),t={sourceDocument:{presence:!0},targetDocument:{presence:!0},template:{presence:!0}};"basic"===this.props.type&&delete e.sourceRange,"basic"!==this.props.type&&(t.sourceRange={presence:!0});const n=!l()(e,t)&&!this.props.busy,o="save"===this.props.action?"btn btn-success":"edit-metadata btn btn-success";let s="arrow-right";return this.props.busy&&(s="spinner"),"save"===this.props.action&&(s="save"),u("button",{className:o,disabled:!n,onClick:this.onClick.bind(this,n,e)},void 0,u(c.Icon,{icon:s,spin:!!this.props.busy}))}}function m({connections:e}){return{type:e.connection.get("type"),connection:e.connection,busy:e.uiState.get("creating")||e.uiState.get("connecting")}}t.default=Object(r.connect)(m,function(e){return Object(a.bindActionCreators)({saveConnection:d.saveConnection,selectRangedTarget:d.selectRangedTarget},e)})(p)},"./app/react/Connections/components/CreateConnectionPanel.js":
/*!*******************************************************************!*\
  !*** ./app/react/Connections/components/CreateConnectionPanel.js ***!
  \*******************************************************************/
/*! exports provided: CreateConnectionPanel, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"CreateConnectionPanel",function(){return v}),n.d(t,"mapStateToProps",function(){return b});var o,s=n(/*! redux */"./node_modules/redux/es/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),i=n(/*! ../../UI */"./app/react/UI/index.js"),l=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),c=n(/*! ../../Layout/SidePanel */"./app/react/Layout/SidePanel.js"),d=n(/*! ../../I18N */"./app/react/I18N/index.js"),u=n(/*! ../actions/uiActions */"./app/react/Connections/actions/uiActions.js"),p=n(/*! ../actions/actions */"./app/react/Connections/actions/actions.js"),m=n(/*! ./ActionButton */"./app/react/Connections/components/ActionButton.js"),f=n(/*! ./SearchForm */"./app/react/Connections/components/SearchForm.js"),h=n(/*! ./SearchResults */"./app/react/Connections/components/SearchResults.js");function y(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class v extends a.Component{renderCheckType(e){return this.props.connection.get("template")===e.get("_id")?y(i.Icon,{icon:"check"}):y(i.Icon,{icon:["far","square"]})}render(){const{uiState:e,searchResults:t}=this.props,n=this.props.connection.toJS(),o="basic"===n.type?"Connection":"Reference",s=Boolean(this.props.uiState.get("open")&&this.props.containerId===n.sourceDocument),r=this.props.pdfInfo?this.props.pdfInfo.toJS():null,a=`${this.props.className} create-reference`;return y(c.default,{open:s,className:a},void 0,y("div",{className:"sidepanel-header"},void 0,y("h1",{},void 0,"Create ",o),y("button",{className:"closeSidepanel close-modal",onClick:this.props.closePanel},void 0,y(i.Icon,{icon:"times"})),y("div",{className:"connections-list-title"},void 0,Object(d.t)("System","Select relationship type")),y("ul",{className:"connections-list multiselect"},void 0,this.props.relationTypes.map(e=>y("li",{onClick:()=>this.props.setRelationType(e.get("_id")),className:"multiselectItem"},e.get("_id"),y("label",{className:"multiselectItem-label",htmlFor:e.get("_id")},void 0,y("span",{className:"multiselectItem-icon"},void 0,this.renderCheckType(e)),y("span",{className:"multiselectItem-name"},void 0,e.get("name"))))))),y("div",{className:"sidepanel-footer"},void 0,y("button",{className:"btn btn-primary",onClick:this.props.closePanel},void 0,y(i.Icon,{icon:"times"})),y(l.default,{if:"targetRanged"!==n.type},void 0,y(m.default,{action:"save",onCreate:e=>{this.props.onCreate(e,r)}})),y(l.default,{if:"targetRanged"===n.type},void 0,y(m.default,{action:"connect",onRangedConnect:this.props.onRangedConnect}))),y("div",{className:"sidepanel-body"},void 0,y("div",{className:"search-box"},void 0,y(f.default,{connectionType:n.type})),y(h.default,{results:t,searching:e.get("searching"),selected:n.targetDocument,onClick:this.props.setTargetDocument})))}}const b=({connections:e,relationTypes:t,documentViewer:n})=>({uiState:e.uiState,pdfInfo:n.doc.get("pdfInfo"),connection:e.connection,searchResults:e.searchResults,relationTypes:t});t.default=Object(r.connect)(b,function(e){return Object(s.bindActionCreators)({setRelationType:p.setRelationType,setTargetDocument:p.setTargetDocument,closePanel:u.closePanel},e)})(v)},"./app/react/Connections/components/SearchForm.js":
/*!********************************************************!*\
  !*** ./app/react/Connections/components/SearchForm.js ***!
  \********************************************************/
/*! exports provided: SearchForm, default */function(e,t,n){"use strict";n.r(t),n.d(t,"SearchForm",function(){return c});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! ../../Layout/SearchInput */"./app/react/Layout/SearchInput.js"),l=n(/*! ../actions/actions */"./app/react/Connections/actions/actions.js");class c extends s.Component{render(){return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{value:this.props.searchTerm,onChange:e=>this.props.search(e.target.value,this.props.connectionType)})}}t.default=Object(r.connect)(function({connections:e}){return{searchTerm:e.searchTerm}},function(e){return Object(a.bindActionCreators)({search:l.search},e)})(c)},"./app/react/Connections/components/SearchResults.js":
/*!***********************************************************!*\
  !*** ./app/react/Connections/components/SearchResults.js ***!
  \***********************************************************/
/*! exports provided: SearchResults, default */function(e,t,n){"use strict";n.r(t),n.d(t,"SearchResults",function(){return l});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! ../../Layout */"./app/react/Layout/index.js"),a=n(/*! ../../components/Elements/Loader */"./app/react/components/Elements/Loader.js");function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class l extends s.Component{render(){const e=i("div",{className:"cs-loader-container"},void 0," ",i(a.default,{})),t=this.props.results.toJS().map((e,t)=>i("div",{className:`item ${this.props.selected===e.sharedId?"is-selected":""}`,onClick:()=>this.props.onClick(e.sharedId,e)},t,i("div",{className:"item-info"},void 0,i("div",{className:"item-name"},void 0,i(r.Icon,{className:"item-icon item-icon-center",data:e.icon}),e.title)),i("div",{className:"item-actions"},void 0,i(r.TemplateLabel,{template:e.template}))));return i("div",{},void 0,this.props.searching?e:"",i("div",{className:"item-group"},void 0,t))}}t.default=l},"./app/react/Connections/index.js":
/*!****************************************!*\
  !*** ./app/react/Connections/index.js ***!
  \****************************************/
/*! exports provided: CreateConnectionPanel, actions, uiActions */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./components/CreateConnectionPanel */"./app/react/Connections/components/CreateConnectionPanel.js");n.d(t,"CreateConnectionPanel",function(){return o.default});var s=n(/*! ./actions/actions */"./app/react/Connections/actions/actions.js");n.d(t,"actions",function(){return s});var r=n(/*! ./actions/uiActions */"./app/react/Connections/actions/uiActions.js");n.d(t,"uiActions",function(){return r})},"./app/react/Connections/reducers/connectionReducer.js":
/*!*************************************************************!*\
  !*** ./app/react/Connections/reducers/connectionReducer.js ***!
  \*************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n(/*! ../../Viewer/actions/actionTypes */"./app/react/Viewer/actions/actionTypes.js"),r=n(/*! ../actions/actionTypes */"./app/react/Connections/actions/actionTypes.js");const a={template:"",targetDocument:"",sourceDocument:""};t.default=function(e=a,t={}){let n;switch(t.type){case r.OPEN_CONNECTION_PANEL:return(n=(e=>{const t=e.toJS();return["template","targetDocument","sourceDocument"].forEach(e=>{t[e]=""}),Object(o.fromJS)(t)})(e.set("type",t.connectionType))).set("sourceDocument",t.sourceDocument);case r.SET_RELATION_TYPE:return e.set("template",t.template);case r.SET_TARGET_DOCUMENT:return e.set("targetDocument",t.id);case"connections/searchResults/SET":return t.value.find(t=>t.sharedId===e.get("targetDocument"))?e:e.delete("targetDocument");case s.SET_SELECTION:return e.set("sourceRange",t.sourceRange);case s.UNSET_SELECTION:case r.CONNECTION_CREATED:return e.delete("sourceRange");default:return Object(o.fromJS)(e)}}},"./app/react/Connections/reducers/reducer.js":
/*!***************************************************!*\
  !*** ./app/react/Connections/reducers/reducer.js ***!
  \***************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! redux */"./node_modules/redux/es/index.js"),s=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),r=n(/*! ./connectionReducer */"./app/react/Connections/reducers/connectionReducer.js"),a=n(/*! ./uiReducer */"./app/react/Connections/reducers/uiReducer.js");t.default=Object(o.combineReducers)({connection:r.default,searchResults:Object(s.default)("connections/searchResults",[]),searchTerm:Object(s.default)("connections/searchTerm",""),uiState:a.default})},"./app/react/Connections/reducers/uiReducer.js":
/*!*****************************************************!*\
  !*** ./app/react/Connections/reducers/uiReducer.js ***!
  \*****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n(/*! ../actions/actionTypes */"./app/react/Connections/actions/actionTypes.js");const r={open:!1,connecting:!1};t.default=function(e=r,t={}){switch(t.type){case s.OPEN_CONNECTION_PANEL:return e.set("open",!0);case s.CLOSE_CONNECTION_PANEL:return e.set("connecting",!1).set("open",!1);case s.SEARCHING_CONNECTIONS:return e.set("searching",!0);case"connections/searchResults/SET":return e.set("searching",!1);case s.CREATING_CONNECTION:return e.set("creating",!0);case s.CREATING_RANGED_CONNECTION:return e.set("connecting",!0);case s.CANCEL_RANGED_CONNECTION:return e.set("connecting",!1);case s.CONNECTION_CREATED:return e.set("creating",!1).set("connecting",!1).set("open",!1);default:return Object(o.fromJS)(e)}}},"./app/react/ConnectionsList/actions/actions.js":
/*!******************************************************!*\
  !*** ./app/react/ConnectionsList/actions/actions.js ***!
  \******************************************************/
/*! exports provided: search, searchReferences, connectionsChanged, deleteConnection, loadAllReferences, loadMoreReferences, setFilter, resetSearch, switchView */function(e,t,n){"use strict";n.r(t),n.d(t,"search",function(){return f}),n.d(t,"searchReferences",function(){return h}),n.d(t,"connectionsChanged",function(){return y}),n.d(t,"deleteConnection",function(){return v}),n.d(t,"loadAllReferences",function(){return b}),n.d(t,"loadMoreReferences",function(){return g}),n.d(t,"setFilter",function(){return j}),n.d(t,"resetSearch",function(){return S}),n.d(t,"switchView",function(){return _});var o=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! ../../Notifications */"./app/react/Notifications/index.js"),a=n(/*! ../../Viewer/referencesAPI */"./app/react/Viewer/referencesAPI.js"),i=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),l=n(/*! ../../utils/prioritySortingCriteria */"./app/react/utils/prioritySortingCriteria.js"),c=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js"),d=n(/*! ../../Entities/actions/uiActions */"./app/react/Entities/actions/uiActions.js");function u(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function p(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};u(n,!0).forEach(function(t){m(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):u(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){const{sharedId:t,sort:n,filters:o}=e.data,s=e.data.search&&e.data.search.searchTerm?e.data.search.searchTerm.value:"";let r=p({sharedId:t},n);return o&&(r=p({sharedId:t},n,{},o.toJS(),{searchTerm:s})),a.default.search(e.onlyHeaders().add(r))}function h(){return async(e,t)=>{const n=t().relationships.list,s=await f(new c.RequestParams(n));e(o.actions.set("relationships/list/searchResults",s)),e(d.showTab("connections"))}}function y(){return(e,t)=>{const n=t().relationships.list,{sharedId:r}=n;return a.default.getGroupedByConnection(new c.RequestParams({sharedId:r})).then(e=>{const o=e.reduce((e,t)=>e.concat(t.templates.map(e=>e._id.toString())),[]),s=l.default.get({currentCriteria:n.sort,filteredTemplates:o,templates:t().templates});return Promise.all([e,s])}).then(([n,r])=>(e(o.actions.set("relationships/list/connectionsGroups",n)),e(s.actions.merge("relationships/list.sort",r)),h()(e,t)))}}function v(e){return async(t,n)=>(await a.default.delete(new c.RequestParams({_id:e._id})),t(r.notificationActions.notify("Connection deleted","success")),y()(t,n))}function b(){return async(e,t)=>{const n=t().relationships.list;return e(o.actions.set("relationships/list/filters",n.filters.set("limit",9999))),h()(e,t)}}function g(e){return function(t,n){const s=n().relationships.list;return t(o.actions.set("relationships/list/filters",s.filters.set("limit",e))),h()(t,n)}}function j(e){return function(t,n){const s=n().relationships.list,r=(s.filters.get("filter")||Object(i.fromJS)({})).merge(e);return t(o.actions.set("relationships/list/filters",s.filters.set("filter",r))),h()(t,n)}}function S(){return function(e,t){return e(s.actions.change("relationships/list/search.searchTerm","")),e(o.actions.set("relationships/list/filters",Object(i.fromJS)({}))),h()(e,t)}}function _(e){return function(t,n){if(t(o.actions.set("relationships/list/view",e)),"graph"===e)return b()(t,n)}}},"./app/react/ConnectionsList/components/ConnectionsGroup.js":
/*!******************************************************************!*\
  !*** ./app/react/ConnectionsList/components/ConnectionsGroup.js ***!
  \******************************************************************/
/*! exports provided: ConnectionsGroup, mapStateToProps, mapDispatchToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ConnectionsGroup",function(){return m}),n.d(t,"mapStateToProps",function(){return f}),n.d(t,"mapDispatchToProps",function(){return h});var o,s=n(/*! redux */"./node_modules/redux/es/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),i=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),l=n(/*! ../../I18N */"./app/react/I18N/index.js"),c=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),d=n(/*! ../../UI */"./app/react/UI/index.js"),u=n(/*! ../actions/actions */"./app/react/ConnectionsList/actions/actions.js");function p(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class m extends i.Component{toggleExpandGroup(){this.setState({expanded:!this.state.expanded})}toggleSelectGroup(){const{group:e}=this.props,t=this.state.selected?Object(a.fromJS)([]):e.get("templates").map(t=>e.get("key")+t.get("_id"));this.setGroupFilter(t),this.setState({selected:!this.state.selected,selectedItems:t})}toggleSelectItem(e){let t,n;this.state.selectedItems.includes(e)&&(n=!1,t=this.state.selectedItems.splice(this.state.selectedItems.indexOf(e),1)),this.state.selectedItems.includes(e)||(n=(t=this.state.selectedItems.push(e)).size===this.props.group.get("templates").size),this.setGroupFilter(t),this.setState({selectedItems:t,selected:n})}setGroupFilter(e){const t={};t[this.props.group.get("key")]=e,this.props.setFilter(t)}componentWillMount(){this.setState({expanded:!0,selected:!1,selectedItems:Object(a.fromJS)([])})}shouldComponentUpdate(e,t){return!Object(a.is)(this.props.group,e.group)||this.state.expanded!==t.expanded||this.state.selected!==t.selected||this.state.selectedItems.size!==t.selectedItems.size}componentWillReceiveProps(e){e.filters.size||this.setState({selected:!1,selectedItems:Object(a.fromJS)([])}),e.group.get("templates").size>this.props.group.get("templates").size&&this.setState({selected:!1})}render(){const e=this.props.group.toJS(),{connectionLabel:t,templates:n}=e;return p("li",{},void 0,p("div",{className:"multiselectItem"},void 0,p("input",{type:"checkbox",className:"form-control multiselectItem-input",id:`group${e.key}`,onChange:this.toggleSelectGroup.bind(this),checked:this.state.selected}),p("label",{htmlFor:`group${e.key}`,className:"multiselectItem-label"},void 0,p("span",{className:"multiselectItem-icon"},void 0,p(d.Icon,{icon:["far","square"],className:"checkbox-empty"}),p(d.Icon,{icon:"check",className:"checkbox-checked"})),p("span",{className:"multiselectItem-name"},void 0,p("b",{},void 0,e.key?Object(l.t)(e.context,t):Object(l.t)("System","No Label")))),p("span",{className:"multiselectItem-results"},void 0,p("span",{},void 0,e.templates.reduce((e,t)=>e+t.count,0)),p("span",{className:"multiselectItem-action",onClick:this.toggleExpandGroup.bind(this)},void 0,p(d.Icon,{icon:this.state.expanded?"caret-up":"caret-down"})))),p(c.default,{if:this.state.expanded},void 0,p("ul",{className:"multiselectChild is-active"},void 0,n.map((t,n)=>p("li",{className:"multiselectItem",title:t.label},n,p("input",{type:"checkbox",className:"multiselectItem-input",id:e.key+t._id,onChange:this.toggleSelectItem.bind(this,e.key+t._id),checked:this.state.selectedItems.includes(e.key+t._id)}),p("label",{className:"multiselectItem-label",htmlFor:e.key+t._id},void 0,p("span",{className:"multiselectItem-icon"},void 0,p(d.Icon,{icon:["far","square"],className:"checkbox-empty"}),p(d.Icon,{icon:"check",className:"checkbox-checked"})),p("span",{className:"multiselectItem-name"},void 0,Object(l.t)(t._id,t.label))),p("span",{className:"multiselectItem-results"},void 0,t.count))))))}}const f=({relationships:e})=>({filters:e.list.filters}),h=e=>Object(s.bindActionCreators)({setFilter:u.setFilter},e);t.default=Object(r.connect)(f,h)(m)},"./app/react/ConnectionsList/components/ConnectionsGroups.js":
/*!*******************************************************************!*\
  !*** ./app/react/ConnectionsList/components/ConnectionsGroups.js ***!
  \*******************************************************************/
/*! exports provided: ConnectionsGroups, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ConnectionsGroups",function(){return d});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! ../../UI */"./app/react/UI/index.js"),i=n(/*! ../../I18N */"./app/react/I18N/index.js"),l=n(/*! ./ConnectionsGroup */"./app/react/ConnectionsList/components/ConnectionsGroup.js");function c(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class d extends s.Component{render(){const{connectionsGroups:e}=this.props;let t=c("div",{className:"blank-state"},void 0,c(a.Icon,{icon:"exchange-alt"}),c("h4",{},void 0,Object(i.t)("System","No Relationships")),c("p",{},void 0,Object(i.t)("System","No Relationships description")));return e.size&&(t=c("div",{},void 0,c("div",{className:"nested-selector"},void 0,c("ul",{className:"multiselect is-active"},void 0,e.map(e=>c(l.default,{group:e},e.get("key"))))))),t}}t.default=Object(r.connect)(function({relationships:e}){return{connectionsGroups:e.list.connectionsGroups}})(d)},"./app/react/ConnectionsList/components/ConnectionsList.js":
/*!*****************************************************************!*\
  !*** ./app/react/ConnectionsList/components/ConnectionsList.js ***!
  \*****************************************************************/
/*! exports provided: mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"mapStateToProps",function(){return u});var o=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),s=n(/*! redux */"./node_modules/redux/es/index.js"),r=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),a=n(/*! ./SearchBar */"./app/react/ConnectionsList/components/SearchBar.js"),i=n(/*! ../../Relationships/components/RelationshipsGraphEdit */"./app/react/Relationships/components/RelationshipsGraphEdit.js"),l=n(/*! ../../Relationships/components/LoadMoreRelationshipsButton */"./app/react/Relationships/components/LoadMoreRelationshipsButton.js"),c=n(/*! ../../Layout/DocumentsList */"./app/react/Layout/DocumentsList.js"),d=n(/*! ../actions/actions */"./app/react/ConnectionsList/actions/actions.js");function u({relationships:e}){const t=e.list.searchResults;return{documents:t,connections:{totalRows:t.get("rows").filter(t=>t.get("sharedId")!==e.list.sharedId).reduce((e,t)=>e+t.get("connections").size,0)},filters:Object(r.fromJS)({documentTypes:[]}),search:e.list.sort,sortButtonsStateProperty:"relationships/list.sort",SearchBar:a.default,GraphView:i.default,view:"graph",LoadMoreButton:l.default,connectionsGroups:e.list.connectionsGroups}}t.default=Object(o.connect)(u,function(e){return Object(s.bindActionCreators)({searchDocuments:d.searchReferences},e)})(c.default)},"./app/react/ConnectionsList/components/ResetSearch.js":
/*!*************************************************************!*\
  !*** ./app/react/ConnectionsList/components/ResetSearch.js ***!
  \*************************************************************/
/*! exports provided: ResetSearch, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ResetSearch",function(){return p});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),l=n(/*! ../../I18N */"./app/react/I18N/index.js"),c=n(/*! ../../UI */"./app/react/UI/index.js"),d=n(/*! ../actions/actions */"./app/react/ConnectionsList/actions/actions.js");function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class p extends s.Component{render(){const{connectionsGroups:e}=this.props;return u(i.default,{if:Boolean(e.size)},void 0,u("button",{onClick:this.props.resetSearch,className:"btn btn-primary"},void 0,u(c.Icon,{icon:"sync"}),u("span",{className:"btn-label"},void 0,Object(l.t)("System","Reset"))))}}t.default=Object(r.connect)(function({relationships:e}){return{connectionsGroups:e.list.connectionsGroups}},function(e){return Object(a.bindActionCreators)({resetSearch:d.resetSearch},e)})(p)},"./app/react/ConnectionsList/components/SearchBar.js":
/*!***********************************************************!*\
  !*** ./app/react/ConnectionsList/components/SearchBar.js ***!
  \***********************************************************/
/*! exports provided: SearchBar, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"SearchBar",function(){return m}),n.d(t,"mapStateToProps",function(){return f});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! redux */"./node_modules/redux/es/index.js"),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),l=n(/*! ../../utils/debounce */"./app/react/utils/debounce.js"),c=n(/*! ../../I18N */"./app/react/I18N/index.js"),d=n(/*! ../../UI */"./app/react/UI/index.js"),u=n(/*! ../actions/actions */"./app/react/ConnectionsList/actions/actions.js");function p(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class m extends s.Component{componentWillMount(){this.changeSearchTerm=Object(l.default)(this.props.searchReferences,400)}componentWillReceiveProps(e){this.props.entityId!==e.entityId&&this.resetSearchTerm()}componentWillUnmount(){this.resetSearchTerm()}resetSearchTerm(){this.props.change("relationships/list/search.searchTerm","")}resetSearch(){this.resetSearchTerm(),this.props.searchReferences()}render(){const{search:e}=this.props,t=e.searchTerm&&e.searchTerm.value?e.searchTerm.value:"";return p("div",{className:"search-box"},void 0,p(i.Form,{model:"relationships/list/search",onSubmit:this.props.searchReferences,autoComplete:"off"},void 0,p("div",{className:`input-group${t?" is-active":""}`},void 0,p(i.Field,{model:"relationships/list/search.searchTerm"},void 0,p(d.Icon,{icon:"search"}),p("input",{type:"text",placeholder:Object(c.t)("System","Search related entities or documents",null,!1),className:"form-control",onChange:this.changeSearchTerm.bind(this),autoComplete:"off",value:t}),p(d.Icon,{icon:"times",onClick:this.resetSearch.bind(this)})))))}}function f({relationships:e}){const{entityId:t,search:n}=e.list;return{entityId:t,search:n}}t.default=Object(a.connect)(f,function(e){return Object(r.bindActionCreators)({searchReferences:u.searchReferences,change:i.actions.change},e)})(m)},"./app/react/ConnectionsList/index.js":
/*!********************************************!*\
  !*** ./app/react/ConnectionsList/index.js ***!
  \********************************************/
/*! exports provided: reducer, ResetSearch, ConnectionsGroups, ConnectionsList, actions */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./reducers/reducer */"./app/react/ConnectionsList/reducers/reducer.js");n.d(t,"reducer",function(){return o.default});var s=n(/*! ./components/ResetSearch */"./app/react/ConnectionsList/components/ResetSearch.js");n.d(t,"ResetSearch",function(){return s.default});var r=n(/*! ./components/ConnectionsGroups */"./app/react/ConnectionsList/components/ConnectionsGroups.js");n.d(t,"ConnectionsGroups",function(){return r.default});var a=n(/*! ./components/ConnectionsList */"./app/react/ConnectionsList/components/ConnectionsList.js");n.d(t,"ConnectionsList",function(){return a.default});var i=n(/*! ./actions/actions */"./app/react/ConnectionsList/actions/actions.js");n.d(t,"actions",function(){return i})},"./app/react/ConnectionsList/reducers/reducer.js":
/*!*******************************************************!*\
  !*** ./app/react/ConnectionsList/reducers/reducer.js ***!
  \*******************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! redux */"./node_modules/redux/es/index.js"),s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),a=n(/*! ../../utils/prioritySortingCriteria */"./app/react/utils/prioritySortingCriteria.js");t.default=Object(o.combineReducers)({entityId:Object(r.default)("connectionsList/entityId",""),entity:Object(r.default)("connectionsList/entity",{}),connectionsGroups:Object(r.default)("connectionsList/connectionsGroups",[]),searchResults:Object(r.default)("connectionsList/searchResults",{totalRows:0,rows:[]}),sort:Object(s.modelReducer)("connectionsList.sort",a.default.get()),filters:Object(r.default)("connectionsList/filters",{}),search:Object(s.formReducer)("connectionsList/search"),view:Object(r.default)("connectionsList/view","graph")})},"./app/react/ContextMenu/actions/actionTypes.js":
/*!******************************************************!*\
  !*** ./app/react/ContextMenu/actions/actionTypes.js ***!
  \******************************************************/
/*! exports provided: OPEN_MENU, CLOSE_MENU */function(e,t,n){"use strict";n.r(t),n.d(t,"OPEN_MENU",function(){return o}),n.d(t,"CLOSE_MENU",function(){return s});const o="OPEN_MENU",s="CLOSE_MENU"},"./app/react/ContextMenu/actions/contextMenuActions.js":
/*!*************************************************************!*\
  !*** ./app/react/ContextMenu/actions/contextMenuActions.js ***!
  \*************************************************************/
/*! exports provided: openMenu, closeMenu */function(e,t,n){"use strict";n.r(t),n.d(t,"openMenu",function(){return s}),n.d(t,"closeMenu",function(){return r});var o=n(/*! ./actionTypes */"./app/react/ContextMenu/actions/actionTypes.js");function s(){return{type:o.OPEN_MENU}}function r(){return{type:o.CLOSE_MENU}}},"./app/react/ContextMenu/components/Buttons.js":
/*!*****************************************************!*\
  !*** ./app/react/ContextMenu/components/Buttons.js ***!
  \*****************************************************/
/*! exports provided: Main */function(e,t,n){"use strict";n.r(t),n.d(t,"Main",function(){return s});var o;n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js");const s=({children:e,onClick:t,disabled:n})=>(function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}})("div",{className:`float-btn__main ${n?"disabled":"cta"}`,onClick:t},void 0,e)},"./app/react/ContextMenu/components/ContextMenu.js":
/*!*********************************************************!*\
  !*** ./app/react/ContextMenu/components/ContextMenu.js ***!
  \*********************************************************/
/*! exports provided: ContextMenu, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ContextMenu",function(){return c});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=n(/*! redux */"./node_modules/redux/es/index.js"),l=n(/*! ../actions/contextMenuActions */"./app/react/ContextMenu/actions/contextMenuActions.js");class c extends s.Component{render(){let e=(r.a.Children.map(this.props.children,e=>e)||[]).filter(e=>{const t=this.props.overrideShow&&this.props.show,n=e.type.name===this.props.type,o=e.type.WrappedComponent&&e.type.WrappedComponent.name===this.props.type;return t||n||o});const t=`ContextMenu-${this.props.align||"bottom"}`;return e=r.a.Children.map(e,e=>r.a.cloneElement(e,{active:this.props.open})),function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:`ContextMenu ${t}`,onMouseEnter:this.props.openMenu,onMouseLeave:this.props.closeMenu,onClick:this.props.closeMenu},void 0,e)}}t.default=Object(a.connect)(e=>e.contextMenu.toJS(),function(e){return Object(i.bindActionCreators)({openMenu:l.openMenu,closeMenu:l.closeMenu},e)})(c)},"./app/react/ContextMenu/index.js":
/*!****************************************!*\
  !*** ./app/react/ContextMenu/index.js ***!
  \****************************************/
/*! exports provided: default, MenuButtons */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./components/ContextMenu */"./app/react/ContextMenu/components/ContextMenu.js"),s=n(/*! ./components/Buttons */"./app/react/ContextMenu/components/Buttons.js");n.d(t,"MenuButtons",function(){return s}),t.default=o.default},"./app/react/ContextMenu/reducers/contextMenuReducer.js":
/*!**************************************************************!*\
  !*** ./app/react/ContextMenu/reducers/contextMenuReducer.js ***!
  \**************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return u});var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n.n(o),r=n(/*! ../actions/actionTypes */"./app/react/ContextMenu/actions/actionTypes.js"),a=n(/*! ../../Viewer/actions/actionTypes */"./app/react/Viewer/actions/actionTypes.js"),i=n(/*! ../../Uploads/actions/actionTypes */"./app/react/Uploads/actions/actionTypes.js"),l=n(/*! ../../Library/actions/actionTypes */"./app/react/Library/actions/actionTypes.js");const c={open:!1,menu:null},d={referencePanel:"ViewerSaveReferenceMenu",targetReferencePanel:"ViewerSaveTargetReferenceMenu",viewMetadataPanel:"MetadataPanelMenu"};function u(e=c,t={}){return t.type===r.OPEN_MENU?e.set("open",!0):t.type===r.CLOSE_MENU?e.set("open",!1):t.type===a.SET_SELECTION?e.set("type","ViewerTextSelectedMenu"):t.type===l.ENTER_LIBRARY?e.set("type","LibraryMenu"):t.type===i.ENTER_UPLOADS_SECTION?e.set("type","UploadsMenu"):t.type===a.OPEN_PANEL?e.set("type",d[t.panel]):t.type===a.UNSET_SELECTION||t.type===a.LOAD_DEFAULT_VIEWER_MENU||t.type===a.ADD_REFERENCE||t.type===a.CLOSE_PANEL||"viewer/targetDoc/SET"===t.type?e.set("type","ViewerDefaultMenu"):s.a.fromJS(e)}},"./app/react/DocumentForm/components/FormGroup.js":
/*!********************************************************!*\
  !*** ./app/react/DocumentForm/components/FormGroup.js ***!
  \********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o;n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js");t.default=(e=>{let t="form-group";return e.pristine&&!e.submitFailed||!1!==e.valid||(t+=" has-error"),function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:t},void 0,e.children)})},"./app/react/Documents/DocumentsAPI.js":
/*!*********************************************!*\
  !*** ./app/react/Documents/DocumentsAPI.js ***!
  \*********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ../utils/api */"./app/react/utils/api.js"),s=n(/*! ../Entities/EntitiesAPI */"./app/react/Entities/EntitiesAPI.js");t.default={get:e=>s.default.get(e),countByTemplate:e=>o.default.get("documents/count_by_template",e).then(e=>e.json),uploads:()=>o.default.get("documents/uploads").then(e=>e.json.rows),search:e=>o.default.get("documents/search",e).then(e=>e.json),getSuggestions:e=>o.default.get("documents/match_title",e).then(e=>e.json),list:e=>o.default.get("documents/list",e).then(e=>e.json.rows),save:e=>o.default.post("documents",e).then(e=>e.json),delete:e=>o.default.delete("documents",e).then(e=>e.json)}},"./app/react/Documents/components/DocumentSidePanel.js":
/*!*************************************************************!*\
  !*** ./app/react/Documents/components/DocumentSidePanel.js ***!
  \*************************************************************/
/*! exports provided: DocumentSidePanel, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"DocumentSidePanel",function(){return C}),n.d(t,"mapStateToProps",function(){return N});var o,s=n(/*! react-tabs-redux */"./node_modules/react-tabs-redux/lib/index.js"),r=n(/*! react-router */"./node_modules/react-router/es/index.js"),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),l=n.n(i),c=n(/*! prop-types */"./node_modules/prop-types/index.js"),d=n.n(c),u=n(/*! react */"./node_modules/react/index.js"),p=n(/*! ../../Metadata */"./app/react/Metadata/index.js"),m=n(/*! ../../Auth */"./app/react/Auth/index.js"),f=n(/*! ../../I18N */"./app/react/I18N/index.js"),h=n(/*! ../../Attachments/components/AttachmentsList */"./app/react/Attachments/components/AttachmentsList.js"),y=n(/*! ../../Viewer/components/ConnectionsList */"./app/react/Viewer/components/ConnectionsList.js"),v=n(/*! ../../ConnectionsList */"./app/react/ConnectionsList/index.js"),b=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),g=n(/*! ../../Layout/SidePanel */"./app/react/Layout/SidePanel.js"),j=n(/*! ../../SemanticSearch/components/DocumentResults */"./app/react/SemanticSearch/components/DocumentResults.js"),S=n(/*! ../../UI */"./app/react/UI/index.js"),_=n(/*! ../../Viewer */"./app/react/Viewer/index.js"),x=n(/*! ./SearchText */"./app/react/Documents/components/SearchText.js"),w=n(/*! ./ShowToc */"./app/react/Documents/components/ShowToc.js"),O=n(/*! ./SnippetsTab */"./app/react/Documents/components/SnippetsTab.js");function T(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class C extends u.Component{constructor(e){super(e),this.selectTab=this.selectTab.bind(this),this.firstRender=!0}componentWillReceiveProps(e){e.doc.get("_id")&&e.doc.get("_id")!==this.props.doc.get("_id")&&this.props.getDocumentReferences&&this.props.getDocumentReferences(e.doc.get("sharedId"),this.props.storeKey)}deleteDocument(){this.context.confirm({accept:()=>{this.props.deleteDocument(this.props.doc.toJS()).then(()=>{r.browserHistory.getCurrentLocation().pathname.match(/library|uploads|^\/$|^\/..\/$/)||r.browserHistory.goBack()})},title:"Confirm",message:"Are you sure you want to delete this item?"})}selectTab(e){this.props.showTab(e)}close(){this.props.formDirty?this.context.confirm({accept:()=>{this.props.resetForm(this.props.formPath),this.props.closePanel()},title:"Confirm",message:"All changes will be lost, are you sure you want to proceed?"}):(this.props.resetForm(this.props.formPath),this.props.closePanel())}render(){const{doc:e,docBeingEdited:t,DocumentForm:n,readOnly:o,references:r,EntityForm:a,connectionsGroups:l,isTargetDoc:c,excludeConnectionsTab:d,relationships:u}=this.props,_=this.props.tocFormComponent,C=e.get("attachments")?e.get("attachments").toJS():[],N=Object.assign({},e.get("file")?e.get("file").toJS():{}),I=e.get("file")?[N].concat(C):C,P=!this.props.doc.get("file");let{tab:k}=this.props;!P||"references"!==k&&"toc"!==k||(k="metadata");const E=l.reduce((e,t)=>(t.get("templates").forEach(t=>{e.totalConnections+=t.get("count")}),e),{totalConnections:0});return T(g.default,{open:this.props.open,className:"metadata-sidepanel"},void 0,T("div",{className:"sidepanel-header"},void 0,T("button",{className:"closeSidepanel close-modal",onClick:this.close.bind(this)},void 0,T(S.Icon,{icon:"times"})),T(s.Tabs,{selectedTab:k,renderActiveTabContentOnly:!0,handleSelect:this.selectTab},void 0,T("ul",{className:"nav nav-tabs"},void 0,(()=>{if(!this.props.raw&&e.get("semanticSearch"))return T("li",{},void 0,T(s.TabLink,{to:"semantic-search-results"},void 0,T(S.Icon,{icon:"flask"}),T("span",{className:"tab-link-tooltip"},void 0,Object(f.t)("System","Semantic search results"))))})(),(()=>{if(!this.props.raw)return T("li",{},void 0,T(s.TabLink,{to:"text-search"},void 0,T(O.default,{storeKey:this.props.storeKey})))})(),(()=>P||this.props.raw?T("span",{}):T("li",{},void 0,T(s.TabLink,{to:"toc"},void 0,T(S.Icon,{icon:"font"}),T("span",{className:"tab-link-tooltip"},void 0,Object(f.t)("System","Table of Content")))))(),(()=>P||this.props.raw?T("span",{}):T("li",{},void 0,T(s.TabLink,{to:"references"},void 0,T(S.Icon,{icon:"sitemap"}),T("span",{className:"connectionsNumber"},void 0,r.size),T("span",{className:"tab-link-tooltip"},void 0,Object(f.t)("System","References")))))(),(()=>this.props.raw?T("span",{}):T("li",{className:"tab-separator"}))(),T("li",{},void 0,T(s.TabLink,{to:"metadata",default:!0},void 0,T(S.Icon,{icon:"info-circle"}),T("span",{className:"tab-link-tooltip"},void 0,Object(f.t)("System","Info")))),(()=>{if(!c&&!d)return T("li",{},void 0,T(s.TabLink,{to:"connections"},void 0,T(S.Icon,{icon:"exchange-alt"}),T("span",{className:"connectionsNumber"},void 0,E.totalConnections),T("span",{className:"tab-link-tooltip"},void 0,Object(f.t)("System","Connections"))))})()))),T(b.default,{if:"metadata"===this.props.tab||!this.props.tab},void 0,T("div",{className:"sidepanel-footer"},void 0,T(p.MetadataFormButtons,{delete:this.deleteDocument.bind(this),data:this.props.doc,formStatePath:this.props.formPath,entityBeingEdited:t,includeViewButton:!t&&o,storeKey:this.props.storeKey}))),T(m.NeedAuthorization,{roles:["admin","editor"]},void 0,T(b.default,{if:"toc"===this.props.tab&&this.props.tocBeingEdited},void 0,T("div",{className:"sidepanel-footer"},void 0,T("button",{type:"submit",form:"tocForm",className:"edit-toc btn btn-success"},void 0,T(S.Icon,{icon:"save"}),T("span",{className:"btn-label"},void 0,"Save"))))),T(m.NeedAuthorization,{roles:["admin","editor"]},void 0,T(b.default,{if:"toc"===this.props.tab&&!this.props.tocBeingEdited&&!o},void 0,T("div",{className:"sidepanel-footer"},void 0,T("button",{onClick:()=>this.props.editToc(this.props.doc.get("toc").toJS()||[]),className:"edit-toc btn btn-success"},void 0,T(S.Icon,{icon:"pencil-alt"}),T("span",{className:"btn-label"},void 0,"Edit"))))),T("div",{className:"sidepanel-body"},void 0,T(s.Tabs,{selectedTab:this.props.tab||"metadata"},void 0,T(s.TabContent,{for:"text-search"},void 0,T(x.default,{doc:e,storeKey:this.props.storeKey,searchTerm:this.props.searchTerm})),T(s.TabContent,{for:"toc"},void 0,T(b.default,{if:!this.props.tocBeingEdited},void 0,T(w.default,{toc:e.get("toc"),readOnly:o})),T(b.default,{if:this.props.tocBeingEdited},void 0,T(_,{removeEntry:this.props.removeFromToc,indent:this.props.indentTocElement,onSubmit:this.props.saveToc,model:"documentViewer.tocForm",state:this.props.tocFormState,toc:this.props.tocForm}))),T(s.TabContent,{for:"metadata"},void 0,(()=>t&&!P?T(n,{storeKey:this.props.storeKey}):t&&P?T(a,{storeKey:this.props.storeKey}):T("div",{},void 0,T(p.ShowMetadata,{relationships:u,entity:this.props.doc.toJS(),showTitle:!0,showType:!0}),T(h.default,{files:Object(i.fromJS)(I),readOnly:!1,isTargetDoc:c,isDocumentAttachments:Boolean(e.get("file")),parentId:e.get("_id"),parentSharedId:e.get("sharedId"),storeKey:this.props.storeKey})))()),T(s.TabContent,{for:"references"},void 0,T(y.default,{referencesSection:"references",references:r,readOnly:o})),T(s.TabContent,{for:"connections"},void 0,T(v.ConnectionsGroups,{})),T(s.TabContent,{for:"semantic-search-results"},void 0,T(j.default,{doc:this.props.doc.toJS()})))))}}C.defaultProps={tab:"metadata",open:!1,tocBeingEdited:!1,docBeingEdited:!1,searchTerm:"",references:l.a.fromJS([]),relationships:l.a.fromJS([]),tocFormState:{},formDirty:!1,isTargetDoc:!1,readOnly:!1,getDocumentReferences:void 0},C.contextTypes={confirm:d.a.func},C.defaultProps={tocFormComponent:()=>!1,DocumentForm:()=>!1,EntityForm:()=>!1,raw:!1};const N=(e,t)=>{const n=e.documentViewer.targetDoc.get("_id")?_.selectors.selectTargetReferences(e):_.selectors.selectReferences(e);return{references:t.references?_.selectors.parseReferences(t.doc,t.references):n,excludeConnectionsTab:Boolean(t.references),connectionsGroups:e.relationships.list.connectionsGroups,relationships:t.references}};t.default=Object(a.connect)(N)(C)},"./app/react/Documents/components/SearchText.js":
/*!******************************************************!*\
  !*** ./app/react/Documents/components/SearchText.js ***!
  \******************************************************/
/*! exports provided: SearchText, default */function(e,t,n){"use strict";n.r(t),n.d(t,"SearchText",function(){return v});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! ../../I18N */"./app/react/I18N/index.js"),l=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),c=n(/*! ../../Library/actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),d=n(/*! ../../Viewer/actions/uiActions */"./app/react/Viewer/actions/uiActions.js"),u=n(/*! react-router */"./node_modules/react-router/es/index.js"),p=n(/*! ../../UI */"./app/react/UI/index.js"),m=n(/*! ../../Library/components/SearchTips */"./app/react/Library/components/SearchTips.js"),f=n(/*! ../../../shared/JSONRequest */"./app/shared/JSONRequest.js"),h=n(/*! ./SnippetList */"./app/react/Documents/components/SnippetList.js");function y(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class v extends s.Component{constructor(e){super(e),this.submit=this.submit.bind(this),this.resetSearch=this.resetSearch.bind(this)}componentDidMount(){"documentViewer"===this.props.storeKey&&this.searchSnippets(this.props.searchTerm,this.props.doc.get("sharedId"))}componentWillReceiveProps(e){e.searchTerm===this.props.searchTerm&&e.doc.get("sharedId")===this.props.doc.get("sharedId")||this.searchSnippets(e.searchTerm,e.doc.get("sharedId"))}attachDispatch(e){this.formDispatch=e}resetSearch(){}searchSnippets(e,t){t&&(this.props.searchSnippets(e,t,this.props.storeKey),this.formDispatch&&this.formDispatch(l.actions.change("searchText.searchTerm",e)))}submit(e){const t=u.browserHistory.getCurrentLocation().pathname,{query:n}=u.browserHistory.getCurrentLocation();return n.searchTerm=e.searchTerm,u.browserHistory.push(t+Object(f.toUrlParams)(n)),this.props.searchSnippets(e.searchTerm,this.props.doc.get("sharedId"),this.props.storeKey)}render(){const{doc:e,snippets:t}=this.props,n=e.get("file")?`/document/${e.get("sharedId")}`:`/entity/${e.get("sharedId")}`;return y("div",{},void 0,y(l.LocalForm,{model:"searchText",onSubmit:this.submit,getDispatch:e=>this.attachDispatch(e),autoComplete:"off"},void 0,"documentViewer"===this.props.storeKey&&y("div",{className:"search-box"},void 0,y("div",{className:"input-group"},void 0,y(l.Field,{model:".searchTerm"},void 0,y(p.Icon,{icon:"search"}),y("input",{type:"text",placeholder:Object(i.t)("System","Search",null,!1),className:"form-control",autoComplete:"off"}),y(p.Icon,{icon:"times",onClick:this.resetSearch}))),y(m.default,{}))),!t.get("count")&&y("div",{className:"blank-state"},void 0,y(p.Icon,{icon:"search"}),y("h4",{},void 0,Object(i.t)("System",this.props.searchTerm?"No text match":"Search text")),y("p",{},void 0,Object(i.t)("System",this.props.searchTerm?"No text match description":"Search text description"))),e.size?y(h.default,{doc:this.props.doc,snippets:t,selectSnippet:this.props.selectSnippet,searchTerm:this.props.searchTerm,documentViewUrl:n}):"")}}v.defaultProps={searchTerm:"",snippets:{count:0,metadata:[],fullText:[]}},t.default=Object(r.connect)(function(e,t){return{snippets:e[t.storeKey].sidepanel.snippets}},function(e){return Object(a.bindActionCreators)({searchSnippets:c.searchSnippets,selectSnippet:d.selectSnippet},e)})(v)},"./app/react/Documents/components/ShowToc.js":
/*!***************************************************!*\
  !*** ./app/react/Documents/components/ShowToc.js ***!
  \***************************************************/
/*! exports provided: ShowToc, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ShowToc",function(){return m}),n.d(t,"mapStateToProps",function(){return f});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! ../../Viewer/actions/uiActions */"./app/react/Viewer/actions/uiActions.js"),i=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),l=n.n(i),c=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),d=n(/*! ../../I18N */"./app/react/I18N/index.js"),u=n(/*! ../../UI */"./app/react/UI/index.js");function p(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class m extends s.Component{scrollTo(e,t){t.preventDefault(),this.props.scrollTo(e.toJS(),this.props.pdfInfo.toJS(),"span")}render(){const e=this.props.toc||l.a.fromJS([]);return e.size?p("div",{className:"toc"},void 0,p("ul",{className:"toc-view"},void 0,e.map((e,t)=>p("li",{className:`toc-indent-${e.get("indentation")}`},t,p(c.default,{if:!this.props.readOnly},void 0,p("a",{className:"toc-view-link",href:"#",onClick:this.scrollTo.bind(this,e)},void 0,e.get("label"))),p(c.default,{if:this.props.readOnly},void 0,p("span",{className:"toc-view-link"},void 0,e.get("label"))))))):p("div",{className:"blank-state"},void 0,p(u.Icon,{icon:"font"}),p("h4",{},void 0,Object(d.t)("System","No Table of Content")),p("p",{},void 0,Object(d.t)("System","No Table of Content description")))}}const f=({documentViewer:e})=>({pdfInfo:e.doc.get("pdfInfo")});t.default=Object(r.connect)(f,function(){return{scrollTo:a.scrollTo}})(m)},"./app/react/Documents/components/SnippetList.js":
/*!*******************************************************!*\
  !*** ./app/react/Documents/components/SnippetList.js ***!
  \*******************************************************/
/*! exports provided: MetadataFieldSnippets, DocumentContentSnippets, SnippetList, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"MetadataFieldSnippets",function(){return u}),n.d(t,"DocumentContentSnippets",function(){return p}),n.d(t,"SnippetList",function(){return m}),n.d(t,"mapStateToProps",function(){return f});var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react-redux */"./node_modules/react-redux/es/index.js")),i=n(/*! ../../I18N */"./app/react/I18N/index.js"),l=n(/*! ../../utils/SafeHTML */"./app/react/utils/SafeHTML.js"),c=n(/*! ../../Templates/utils/getFieldLabel */"./app/react/Templates/utils/getFieldLabel.js");function d(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const u=({fieldSnippets:e,documentViewUrl:t,template:n,searchTerm:o})=>d(r.a.Fragment,{},void 0,d("li",{className:"snippet-list-item-header metadata-snippet-header"},void 0,d(i.I18NLink,{to:`${t}?searchTerm=${o}`},void 0,Object(c.default)(e.get("field"),n))),e.get("texts").map((e,t)=>d("li",{className:"snippet-list-item metadata-snippet"},t,d("span",{},void 0,d(l.default,{},void 0,e)))));u.defaultProps={searchTerm:""},u.defaultProps={template:void 0};const p=({selectSnippet:e,documentSnippets:t,documentViewUrl:n,searchTerm:o,selectedSnippet:s})=>d(r.a.Fragment,{},void 0,d("li",{className:"snippet-list-item-header fulltext-snippet-header"},void 0,Object(i.t)("System","Document contents")),t.map((t,r)=>{return d("li",{className:`snippet-list-item fulltext-snippet ${t.get("text")===s.get("text")?"selected":""}`},r,d(i.I18NLink,{onClick:()=>e(t.get("page"),t),to:`${n}?page=${t.get("page")}&searchTerm=${o||""}`},void 0,d("span",{className:"page-number"},void 0,t.get("page")),d("span",{className:"snippet-text"},void 0,d(l.default,{},void 0,t.get("text")))))})),m=({snippets:e,documentViewUrl:t,searchTerm:n,selectSnippet:o,template:s,selectedSnippet:r})=>d("ul",{className:"snippet-list"},void 0,e.get("metadata").map(e=>d(u,{fieldSnippets:e,template:s,documentViewUrl:t,searchTerm:n},e.get("field"))),e.get("fullText").size?d(p,{documentSnippets:e.get("fullText"),documentViewUrl:t,selectSnippet:o,selectedSnippet:r,searchTerm:n}):"");m.defaultProps={template:void 0};const f=(e,t)=>({template:e.templates.find(e=>e.get("_id")===t.doc.get("template")),selectedSnippet:e.documentViewer.uiState.get("snippet")});t.default=Object(a.connect)(f)(m)},"./app/react/Documents/components/SnippetsTab.js":
/*!*******************************************************!*\
  !*** ./app/react/Documents/components/SnippetsTab.js ***!
  \*******************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=n(/*! ../../I18N */"./app/react/I18N/index.js"),a=n(/*! ../../UI */"./app/react/UI/index.js");function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=Object(s.connect)(function(e,t){return{snippets:e[t.storeKey].sidepanel.snippets}})(({snippets:e})=>i("div",{},void 0,i(a.Icon,{icon:"search"}),i("span",{className:"connectionsNumber"},void 0,e.get("count")?e.get("count"):""),i("span",{className:"tab-link-tooltip"},void 0,Object(r.t)("System","Search text"))))},"./app/react/Documents/components/TocForm.js":
/*!***************************************************!*\
  !*** ./app/react/Documents/components/TocForm.js ***!
  \***************************************************/
/*! exports provided: TocForm, default */function(e,t,n){"use strict";n.r(t),n.d(t,"TocForm",function(){return l});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),a=n(/*! ../../UI */"./app/react/UI/index.js");function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class l extends s.Component{indentButton(e,t){const{indent:n}=this.props;return i("button",{type:"button",onClick:n.bind(null,t,t.indentation+("more"===e?1:-1)),className:`toc-indent-${e} btn btn-default`},void 0,i(a.Icon,{icon:"more"===e?"arrow-right":"arrow-left",directionAware:!0}))}render(){const{toc:e,model:t,removeEntry:n,onSubmit:o}=this.props;return i(r.Form,{className:"toc",id:"tocForm",model:t,onSubmit:o},void 0,e.map((e,o)=>i("div",{className:`toc-indent-${e.indentation}`},o,i("div",{className:"toc-edit"},void 0,this.indentButton("less",e),this.indentButton("more",e),i(r.Field,{model:`${t}[${o}].label`},void 0,i("input",{className:"form-control"})),i("button",{type:"button",onClick:n.bind(this,e),className:"btn btn-danger"},void 0,i(a.Icon,{icon:"trash-alt"}))))))}}l.defaultProps={toc:[],removeEntry:()=>{},indent:()=>{},onSubmit:()=>{}},t.default=l},"./app/react/Documents/index.js":
/*!**************************************!*\
  !*** ./app/react/Documents/index.js ***!
  \**************************************/
/*! exports provided: documentsApi, TocForm, ShowToc, DocumentSidePanel */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./DocumentsAPI */"./app/react/Documents/DocumentsAPI.js");n.d(t,"documentsApi",function(){return o.default});var s=n(/*! ./components/TocForm */"./app/react/Documents/components/TocForm.js");n.d(t,"TocForm",function(){return s.default});var r=n(/*! ./components/ShowToc */"./app/react/Documents/components/ShowToc.js");n.d(t,"ShowToc",function(){return r.default});var a=n(/*! ./components/DocumentSidePanel */"./app/react/Documents/components/DocumentSidePanel.js");n.d(t,"DocumentSidePanel",function(){return a.default})},"./app/react/Entities/EntitiesAPI.js":
/*!*******************************************!*\
  !*** ./app/react/Entities/EntitiesAPI.js ***!
  \*******************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ../utils/api */"./app/react/utils/api.js");t.default={get:e=>o.default.get("entities",e).then(e=>e.json.rows),countByTemplate:e=>o.default.get("entities/count_by_template",e).then(e=>e.json),getRawPage:async e=>(await o.default.get("entities/get_raw_page",e.add({pageNumber:e.data.pageNumber||1}))).json.data,uploads:()=>o.default.get("entities/uploads").then(e=>e.json.rows),search:e=>o.default.get("entities/search",e).then(e=>e.json),getSuggestions:e=>o.default.get("entities/match_title",e).then(e=>e.json),save:e=>o.default.post("entities",e).then(e=>e.json),multipleUpdate:e=>o.default.post("entities/multipleupdate",e).then(e=>e.json),delete:e=>o.default.delete("entities",e).then(e=>e.json),deleteMultiple:e=>o.default.post("entities/bulkdelete",e).then(e=>e.json)}},"./app/react/Entities/EntityView.js":
/*!******************************************!*\
  !*** ./app/react/Entities/EntityView.js ***!
  \******************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return m});n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! ../BasicReducer */"./app/react/BasicReducer/index.js"),r=n(/*! ../App/RouteHandler */"./app/react/App/RouteHandler.js"),a=n(/*! ./components/SearchButton */"./app/react/Entities/components/SearchButton.js"),i=n(/*! ../RelationTypes/RelationTypesAPI */"./app/react/RelationTypes/RelationTypesAPI.js"),l=n(/*! ../Relationships/utils/routeUtils */"./app/react/Relationships/utils/routeUtils.js"),c=n(/*! ./components/EntityViewer */"./app/react/Entities/components/EntityViewer.js"),d=n(/*! ./EntitiesAPI */"./app/react/Entities/EntitiesAPI.js"),u=n(/*! ./actions/uiActions */"./app/react/Entities/actions/uiActions.js");function p(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class m extends r.default{static async requestState(e,t){const[[n],o,[r,a,c,u]]=await Promise.all([d.default.get(e.set({sharedId:e.data.sharedId})),i.default.get(e.onlyHeaders()),l.requestState(e,t)]);return[s.actions.set("relationTypes",o),s.actions.set("entityView/entity",n),l.setReduxState({relationships:{list:{sharedId:n.sharedId,entity:n,connectionsGroups:r,searchResults:a,sort:c,filters:u,view:"graph"}}})]}componentWillMount(){this.context.store.dispatch(u.showTab("info"))}componentWillUnmount(){this.emptyState()}emptyState(){this.context.store.dispatch(s.actions.unset("entityView/entity")),this.context.store.dispatch(l.emptyState())}static renderTools(){return p("div",{className:"searchBox"},void 0,p(a.default,{storeKey:"library"}))}render(){return p(c.default,{})}}},"./app/react/Entities/actions/actionTypes.js":
/*!***************************************************!*\
  !*** ./app/react/Entities/actions/actionTypes.js ***!
  \***************************************************/
/*! exports provided: SHOW_TAB, SHOW_FILTERS, HIDE_FILTERS */function(e,t,n){"use strict";n.r(t),n.d(t,"SHOW_TAB",function(){return o}),n.d(t,"SHOW_FILTERS",function(){return s}),n.d(t,"HIDE_FILTERS",function(){return r});const o="SHOW_TAB",s="SHOW_FILTERS",r="HIDE_FILTERS"},"./app/react/Entities/actions/actions.js":
/*!***********************************************!*\
  !*** ./app/react/Entities/actions/actions.js ***!
  \***********************************************/
/*! exports provided: saveEntity, deleteEntity, deleteEntities */function(e,t,n){"use strict";n.r(t),n.d(t,"saveEntity",function(){return d}),n.d(t,"deleteEntity",function(){return u}),n.d(t,"deleteEntities",function(){return p});var o=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),s=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js"),r=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),a=n(/*! ../../Notifications */"./app/react/Notifications/index.js"),i=n(/*! ../../Library/actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),l=n(/*! ../../Relationships */"./app/react/Relationships/index.js"),c=n(/*! ../EntitiesAPI */"./app/react/Entities/EntitiesAPI.js");function d(e){return t=>c.default.save(new s.RequestParams(e)).then(e=>{t(a.notificationActions.notify("Entity saved","success")),t(o.actions.reset("entityView.entityForm")),t(r.actions.set("entityView/entity",e)),t(l.actions.reloadRelationships(e.sharedId))})}function u(e){return t=>c.default.delete(new s.RequestParams({sharedId:e.sharedId})).then(()=>{t(a.notificationActions.notify("Entity deleted","success")),t(Object(i.removeDocument)(e)),t(Object(i.unselectDocument)(e._id))})}function p(e){return t=>c.default.deleteMultiple(new s.RequestParams({sharedIds:e.map(e=>e.sharedId)})).then(()=>{t(a.notificationActions.notify("Deletion success","success")),t(Object(i.unselectAllDocuments)()),t(Object(i.removeDocuments)(e))})}},"./app/react/Entities/actions/uiActions.js":
/*!*************************************************!*\
  !*** ./app/react/Entities/actions/uiActions.js ***!
  \*************************************************/
/*! exports provided: showTab, hideFilters, showFilters */function(e,t,n){"use strict";n.r(t),n.d(t,"showTab",function(){return s}),n.d(t,"hideFilters",function(){return r}),n.d(t,"showFilters",function(){return a});var o=n(/*! ./actionTypes */"./app/react/Entities/actions/actionTypes.js");function s(e){return{type:o.SHOW_TAB,tab:e}}function r(){return{type:o.HIDE_FILTERS}}function a(){return{type:o.SHOW_FILTERS}}},"./app/react/Entities/components/EntityViewer.js":
/*!*******************************************************!*\
  !*** ./app/react/Entities/components/EntityViewer.js ***!
  \*******************************************************/
/*! exports provided: EntityViewer, default */function(e,t,n){"use strict";n.r(t),n.d(t,"EntityViewer",function(){return A});var o,s=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),r=n(/*! react-tabs-redux */"./node_modules/react-tabs-redux/lib/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! react-router */"./node_modules/react-router/es/index.js"),l=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),c=n(/*! reselect */"./node_modules/reselect/lib/index.js"),d=n(/*! react-helmet */"./node_modules/react-helmet/lib/Helmet.js"),u=n.n(d),p=n(/*! prop-types */"./node_modules/prop-types/index.js"),m=n.n(p),f=n(/*! react */"./node_modules/react/index.js"),h=n(/*! ../../Attachments */"./app/react/Attachments/index.js"),y=n(/*! ../../ConnectionsList */"./app/react/ConnectionsList/index.js"),v=n(/*! ../../Connections */"./app/react/Connections/index.js"),b=n(/*! ../../Metadata */"./app/react/Metadata/index.js"),g=n(/*! ../../Relationships */"./app/react/Relationships/index.js"),j=n(/*! ../../Layout */"./app/react/Layout/index.js"),S=n(/*! ../../ConnectionsList/actions/actions */"./app/react/ConnectionsList/actions/actions.js"),_=n(/*! ../../I18N */"./app/react/I18N/index.js"),x=n(/*! ../../Relationships/components/AddEntities */"./app/react/Relationships/components/AddEntities.js"),w=n(/*! ../../Relationships/components/RelationshipMetadata */"./app/react/Relationships/components/RelationshipMetadata.js"),O=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),T=n(/*! ../../Layout/SidePanel */"./app/react/Layout/SidePanel.js"),C=n(/*! ../../ContextMenu */"./app/react/ContextMenu/index.js"),N=n(/*! ../../UI */"./app/react/UI/index.js"),I=n(/*! ./ShowSidepanelMenu */"./app/react/Entities/components/ShowSidepanelMenu.js"),P=n(/*! ../actions/actions */"./app/react/Entities/actions/actions.js"),k=n(/*! ../actions/uiActions */"./app/react/Entities/actions/uiActions.js"),E=n(/*! ../containers/EntityForm */"./app/react/Entities/containers/EntityForm.js");function R(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class A extends f.Component{constructor(e,t){super(e,t),this.state={panelOpen:!0},this.deleteEntity=this.deleteEntity.bind(this),this.closePanel=this.closePanel.bind(this),this.openPanel=this.openPanel.bind(this)}deleteEntity(){this.context.confirm({accept:()=>{this.props.deleteEntity(this.props.rawEntity.toJS()).then(()=>{i.browserHistory.goBack()})},title:"Confirm delete",message:"Are you sure you want to delete this entity?"})}deleteConnection(e){"metadata"!==e.sourceType&&this.context.confirm({accept:()=>{this.props.deleteConnection(e)},title:"Confirm delete connection",message:"Are you sure you want to delete this connection?"})}closePanel(){this.setState({panelOpen:!1})}openPanel(){this.setState({panelOpen:!0})}render(){const{entity:e,entityBeingEdited:t,tab:n,connectionsGroups:o,relationships:a}=this.props,{panelOpen:i}=this.state,l=n||"info",c=e.attachments?e.attachments:[],d=e.file?[e.file].concat(c):c,p=o.reduce((e,t)=>(t.get("templates").forEach(t=>{e.totalConnections+=t.get("count")}),e),{totalConnections:0});return R("div",{className:"row"},void 0,R(u.a,{title:e.title?e.title:"Entity"}),R("div",{className:"content-header content-header-entity"},void 0,R("div",{className:"content-header-title"},void 0,R(j.Icon,{className:"item-icon item-icon-center",data:e.icon,size:"sm"}),R("h1",{className:"item-name"},void 0,e.title),R(j.TemplateLabel,{template:e.template}))),R("main",{className:`entity-viewer ${i?"with-panel":""}`},void 0,R(r.Tabs,{selectedTab:l},void 0,R(r.TabContent,{for:"info"===l||"attachments"===l?l:"none"},void 0,R("div",{className:"entity-metadata"},void 0,t?R(E.default,{}):R("div",{},void 0,R(b.ShowMetadata,{relationships:a,entity:e,showTitle:!1,showType:!1}),R(h.AttachmentsList,{files:Object(s.fromJS)(d),parentId:e._id,parentSharedId:e.sharedId,isDocumentAttachments:Boolean(e.file),entityView:!0,processed:e.processed})))),R(r.TabContent,{for:"connections"},void 0,R(y.ConnectionsList,{deleteConnection:this.deleteConnection.bind(this),searchCentered:!0})))),R(O.default,{if:"info"===l||"attachments"===l},void 0,R("div",{className:"sidepanel-footer"},void 0,R(b.MetadataFormButtons,{delete:this.deleteEntity.bind(this),data:this.props.rawEntity,formStatePath:"entityView.entityForm",entityBeingEdited:t}))),R(O.default,{if:"connections"===l},void 0,R("div",{className:"sidepanel-footer"},void 0,R(g.RelationshipsFormButtons,{}))),R(T.default,{className:`entity-connections entity-${this.props.tab}`,open:i},void 0,R("div",{className:"sidepanel-header"},void 0,R("button",{type:"button",className:"closeSidepanel close-modal",onClick:this.closePanel.bind(this)},void 0,R(N.Icon,{icon:"times"})),R(r.Tabs,{className:"content-header-tabs",selectedTab:l,handleSelect:e=>{this.props.showTab(e)}},void 0,R("ul",{className:"nav nav-tabs"},void 0,R("li",{},void 0,R(r.TabLink,{to:"info"},void 0,R(N.Icon,{icon:"info-circle"}),R("span",{className:"tab-link-tooltip"},void 0,Object(_.t)("System","Info")))),R("li",{},void 0,R(r.TabLink,{to:"connections"},void 0,R(N.Icon,{icon:"exchange-alt"}),R("span",{className:"connectionsNumber"},void 0,p.totalConnections),R("span",{className:"tab-link-tooltip"},void 0,Object(_.t)("System","Connections"))))))),R(O.default,{if:"info"===l||"connections"===l},void 0,R("div",{className:"sidepanel-footer"},void 0,R(y.ResetSearch,{}))),R("div",{className:"sidepanel-body"},void 0,R(r.Tabs,{selectedTab:l},void 0,R(r.TabContent,{for:"info"===l||"connections"===l?l:"none"},void 0,R(y.ConnectionsGroups,{}))))),R(C.default,{align:"bottom",overrideShow:!0,show:!i,className:"show-info-sidepanel-context-menu"},void 0,R(I.default,{className:"show-info-sidepanel-menu",panelIsOpen:i,openPanel:this.openPanel})),R(v.CreateConnectionPanel,{className:"entity-create-connection-panel",containerId:e.sharedId,onCreate:this.props.connectionsChanged}),R(x.default,{}),R(w.default,{}))}}A.defaultProps={relationships:Object(s.fromJS)([])},A.contextTypes={confirm:m.a.func};const D=Object(c.createSelector)(e=>e.entityView.entity,e=>e.toJS()),L=Object(c.createSelector)(e=>e.relationTypes,e=>e.toJS());t.default=Object(l.connect)(e=>({rawEntity:e.entityView.entity,relationTypes:L(e),entity:D(e),relationships:e.entityView.entity.get("relationships"),connectionsGroups:e.relationships.list.connectionsGroups,entityBeingEdited:!!e.entityView.entityForm._id,tab:e.entityView.uiState.get("tab"),library:e.library}),function(e){return Object(a.bindActionCreators)({deleteEntity:P.deleteEntity,connectionsChanged:S.connectionsChanged,deleteConnection:S.deleteConnection,showTab:k.showTab,startNewConnection:v.actions.startNewConnection},e)})(A)},"./app/react/Entities/components/SearchButton.js":
/*!*******************************************************!*\
  !*** ./app/react/Entities/components/SearchButton.js ***!
  \*******************************************************/
/*! exports provided: mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"mapStateToProps",function(){return i});var o=n(/*! redux */"./node_modules/redux/es/index.js"),s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=n(/*! ../actions/uiActions */"./app/react/Entities/actions/uiActions.js"),a=n(/*! ../../Library/components/SearchButton */"./app/react/Library/components/SearchButton.js");function i({entityView:e}){return{open:e.uiState.get("showFilters")}}t.default=Object(s.connect)(i,function(e){return Object(o.bindActionCreators)({showFilters:r.showFilters,hideFilters:r.hideFilters,unselectAllDocuments:()=>{}},e)})(a.SearchButton)},"./app/react/Entities/components/ShowSidepanelMenu.js":
/*!************************************************************!*\
  !*** ./app/react/Entities/components/ShowSidepanelMenu.js ***!
  \************************************************************/
/*! exports provided: ShowSidepanelMenu, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ShowSidepanelMenu",function(){return l});var o,s=n(/*! react */"./node_modules/react/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js")),a=n(/*! ../../UI */"./app/react/UI/index.js");function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class l extends s.Component{render(){const{panelIsOpen:e,openPanel:t,active:n}=this.props;return i("div",{className:n?"active":""},void 0,i(r.default,{if:!e},void 0,i("div",{className:"btn btn-primary",onClick:e=>t(e)},void 0,i(a.Icon,{icon:"chart-bar"}))))}}l.defaultProps={active:!1},t.default=l},"./app/react/Entities/containers/EntityForm.js":
/*!*****************************************************!*\
  !*** ./app/react/Entities/containers/EntityForm.js ***!
  \*****************************************************/
/*! exports provided: mapDispatchToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"mapDispatchToProps",function(){return i});var o=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),s=n(/*! redux */"./node_modules/redux/es/index.js"),r=n(/*! ../actions/actions */"./app/react/Entities/actions/actions.js"),a=n(/*! ../../Metadata */"./app/react/Metadata/index.js");function i(e){return Object(s.bindActionCreators)({changeTemplate:a.actions.changeTemplate,onSubmit:r.saveEntity},e)}t.default=Object(o.connect)(function(e){return{model:"entityView.entityForm",isEntity:"entity"===e.entityView.entity.get("type"),templateId:e.entityView.entityForm.template,templates:e.templates,thesauris:e.thesauris}},i)(a.MetadataForm)},"./app/react/Entities/index.js":
/*!*************************************!*\
  !*** ./app/react/Entities/index.js ***!
  \*************************************/
/*! exports provided: api */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./EntitiesAPI */"./app/react/Entities/EntitiesAPI.js");n.d(t,"api",function(){return o.default})},"./app/react/Entities/reducers/reducer.js":
/*!************************************************!*\
  !*** ./app/react/Entities/reducers/reducer.js ***!
  \************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! redux */"./node_modules/redux/es/index.js"),s=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),r=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),a=n(/*! ../../Attachments */"./app/react/Attachments/index.js"),i=n(/*! ./uiReducer */"./app/react/Entities/reducers/uiReducer.js");t.default=Object(o.combineReducers)({entity:Object(a.manageAttachmentsReducer)(Object(s.default)("entityView/entity",{})),entityForm:Object(r.modelReducer)("entityView.entityForm"),entityFormState:Object(r.formReducer)("entityView.entityForm"),uiState:i.default})},"./app/react/Entities/reducers/uiReducer.js":
/*!**************************************************!*\
  !*** ./app/react/Entities/reducers/uiReducer.js ***!
  \**************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n.n(o),r=n(/*! ../actions/actionTypes */"./app/react/Entities/actions/actionTypes.js");const a={};t.default=function(e=a,t={}){return t.type===r.SHOW_TAB?e.set("tab",t.tab).set("showFilters",!1):t.type===r.HIDE_FILTERS?e.set("showFilters",!1):t.type===r.SHOW_FILTERS?e.set("tab","connections").set("showFilters",!0):s.a.fromJS(e)}},"./app/react/Entities/utils/filterBaseProperties.js":
/*!**********************************************************!*\
  !*** ./app/react/Entities/utils/filterBaseProperties.js ***!
  \**********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),t.default={filterBaseProperties:e=>{return Object.assign({},...["_id","language","metadata","sharedId","template","title","icon","type"].map(t=>({[t]:e[t]})))}}},"./app/react/Forms/components/Captcha.js":
/*!***********************************************!*\
  !*** ./app/react/Forms/components/Captcha.js ***!
  \***********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! react */"./node_modules/react/index.js");n(/*! prop-types */"./node_modules/prop-types/index.js");function r(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class a extends s.Component{constructor(e){super(e),this.onChange=this.onChange.bind(this);const{refresh:t,remote:n}=this.props,o=n?"/remotecaptcha":"/captcha";this.state={captchaUrl:o},t(this.refresh.bind(this))}onChange(e){const{onChange:t}=this.props;t(e.target.value)}refresh(){const{remote:e}=this.props,t=e?"remotecaptcha":"captcha";this.setState({captchaUrl:`/${t}?v=${1e3*Math.random()}`})}render(){const{value:e}=this.props,{captchaUrl:t}=this.state;return r("div",{className:"captcha"},void 0,r("img",{src:t,alt:"captcha"}),r("input",{className:"form-control",onChange:this.onChange,value:e}))}}a.defaultProps={value:"",refresh:()=>{},remote:!1},t.default=a},"./app/react/Forms/components/ColorPicker.js":
/*!***************************************************!*\
  !*** ./app/react/Forms/components/ColorPicker.js ***!
  \***************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! react */"./node_modules/react/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react-color */"./node_modules/react-color/lib/index.js")),a=n(/*! ../../utils/colors */"./app/react/utils/colors.js");function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class l extends s.Component{constructor(e){super(e),this.state={active:!1},this.onButtonClick=this.onButtonClick.bind(this),this.onBlur=this.onBlur.bind(this),this.onColorChange=this.onColorChange.bind(this)}onColorChange({hex:e}){const{onChange:t}=this.props;t(e)}onButtonClick(){this.setState(e=>({active:!e.active}))}onBlur(){this.setState({active:!1})}render(){const{active:e}=this.state,{value:t,defaultValue:n}=this.props;return i("div",{className:"ColorPicker"},void 0,i("div",{className:"ColorPicker__button",style:{backgroundColor:t||n},onClick:this.onButtonClick}),e&&i("div",{className:"ColorPicker__popover"},void 0,i("div",{className:"ColorPicker__cover",onClick:this.onBlur}),i(r.TwitterPicker,{color:t||n,colors:a.COLORS,onChangeComplete:this.onColorChange})))}}l.defaultProps={value:"",defaultValue:""},t.default=l},"./app/react/Forms/components/DatePicker.js":
/*!**************************************************!*\
  !*** ./app/react/Forms/components/DatePicker.js ***!
  \**************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! react-datepicker/dist/react-datepicker.css */"./node_modules/react-datepicker/dist/react-datepicker.css");var o,s=n(/*! react-datepicker */"./node_modules/react-datepicker/dist/react-datepicker.min.js"),r=n.n(s),a=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),i=n(/*! moment */"./node_modules/moment/moment.js"),l=n.n(i);class c extends a.Component{constructor(e){super(e),this.state={},this.onChange=this.onChange.bind(this),e.value&&(this.state.value=l.a.utc(e.value,"X"))}componentWillReceiveProps(e){e.value&&this.setState({value:l.a.utc(e.value,"X")})}onChange(e){const{onChange:t,endOfDay:n,useTimezone:o}=this.props;if(this.setState({value:e}),e){if(o||e.add(e.utcOffset(),"minute"),n){(o?e:e.utc()).endOf("day")}t(parseInt(e.utc().format("X"),10))}else t(null)}render(){let{locale:e,format:t}=this.props;e=e||"en",t=t||"DD/MM/YYYY";const{value:n}=this.state;return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(r.a,{dateFormat:t,className:"form-control",onChange:this.onChange,selected:n,locale:e,placeholderText:t,isClearable:!0,fixedHeight:!0,showYearDropdown:!0})}}c.defaultProps={onChange:()=>{},value:void 0,endOfDay:!1,locale:void 0,format:void 0,useTimezone:!1},t.default=c},"./app/react/Forms/components/DateRange.js":
/*!*************************************************!*\
  !*** ./app/react/Forms/components/DateRange.js ***!
  \*************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! ../../I18N */"./app/react/I18N/index.js"),a=n(/*! ./DatePicker */"./app/react/Forms/components/DatePicker.js");function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class l extends s.Component{constructor(e){super(e);const t=e.value||{};this.state={from:t.from,to:t.to}}onChange(e,t){const{onChange:n}=this.props,o=Object.assign({},this.state);o[e]=t,this.setState(o),n(o)}render(){const{useTimezone:e}=this.props;let{locale:t,format:n}=this.props;t=t||"en",n=n||"DD/MM/YYYY";const{from:o,to:s}=this.state;return i("div",{},void 0,i("div",{className:"DatePicker__From"},void 0,i("span",{},void 0,Object(r.t)("System",'Label date "From"',"From:")," "),i(a.default,{locale:t,format:n,useTimezone:e,value:o,onChange:e=>this.onChange("from",e)})),i("div",{className:"DatePicker__To"},void 0,i("span",{},void 0," ",Object(r.t)("System",'Label date "to"',"To:")," "),i(a.default,{locale:t,format:n,useTimezone:e,value:s,endOfDay:!0,onChange:e=>this.onChange("to",e)})))}}l.defaultProps={value:{},onChange:()=>{},locale:void 0,format:void 0,useTimezone:!1},t.default=l},"./app/react/Forms/components/DropdownList.js":
/*!****************************************************!*\
  !*** ./app/react/Forms/components/DropdownList.js ***!
  \****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return r});var o=n(/*! react-widgets/lib/DropdownList */"./node_modules/react-widgets/lib/DropdownList.js"),s=n.n(o);class r extends s.a{shouldComponentUpdate(e){return this.props.value!==e.value}}},"./app/react/Forms/components/FormGroup.js":
/*!*************************************************!*\
  !*** ./app/react/Forms/components/FormGroup.js ***!
  \*************************************************/
/*! exports provided: FormGroup, default */function(e,t,n){"use strict";n.r(t),n.d(t,"FormGroup",function(){return c});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js");function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const l={className:({fieldValue:e})=>{const t=e.$form||e;return t.submitFailed&&!t.valid?"has-error":""}};class c extends s.Component{render(){if(this.props.model){const e=`form-group ${this.props.className||""}`;return i(a.Control.custom,{model:this.props.model,component:t=>i("div",{className:`${e} ${t.className}`},void 0,t.children),mapProps:l},void 0,this.props.children)}return i("div",{className:`form-group ${this.props.className}`},void 0,this.props.children)}}t.default=Object(r.connect)()(c)},"./app/react/Forms/components/FormValue.js":
/*!*************************************************!*\
  !*** ./app/react/Forms/components/FormValue.js ***!
  \*************************************************/
/*! exports provided: FormValue, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"FormValue",function(){return r}),n.d(t,"mapStateToProps",function(){return a});var o=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js");const r=({value:e,children:t})=>t(e),a=(e,{model:t})=>({value:Object(s.getModel)(e,t)});t.default=Object(o.connect)(a)(r)},"./app/react/Forms/components/Geolocation.js":
/*!***************************************************!*\
  !*** ./app/react/Forms/components/Geolocation.js ***!
  \***************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return m});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! ../../Map/Map */"./app/react/Map/Map.js"),a=n(/*! ../../I18N */"./app/react/I18N/index.js");function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function l(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function c(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};l(n,!0).forEach(function(t){d(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):l(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={lat:"",lon:"",label:""};function p(e){return"number"==typeof e&&!Number.isNaN(e)}class m extends s.Component{constructor(e){super(e),this.latChange=this.latChange.bind(this),this.lonChange=this.lonChange.bind(this),this.mapClick=this.mapClick.bind(this),this.clearCoordinates=this.clearCoordinates.bind(this);const{lat:t,lon:n}=this.getInputValues();this.state={currentLatitude:t,currentLongitude:n}}onChange(e){this.setState({currentLatitude:e.lat,currentLongitude:e.lon});const{onChange:t,value:n}=this.props;if(!p(e.lat)||!p(e.lon))return void t();const o=n.slice(1);o.unshift(e),t(o)}getInputValues(){const{value:e}=this.props,{lat:t,lon:n,label:o}=e&&e[0]?e[0]:c({},u);return{lat:t,lon:n,label:o}}latChange(e){let t=e.target.value?parseFloat(e.target.value):"";t=(t=t&&t<-89.99999?-89.99999:t)&&t>90?90:t;const{label:n}=this.getInputValues(),{currentLongitude:o}=this.state;this.onChange({lat:t,lon:o,label:n})}lonChange(e){const t=e.target.value?parseFloat(e.target.value):"",{label:n}=this.getInputValues(),{currentLatitude:o}=this.state;this.onChange({lat:o,lon:t,label:n})}mapClick(e){const{label:t}=this.getInputValues();this.onChange({lat:parseFloat(e.lngLat[1]),lon:parseFloat(e.lngLat[0]),label:t})}clearCoordinates(){this.setState({currentLatitude:"",currentLongitude:""});const{onChange:e}=this.props;e()}render(){const{currentLatitude:e,currentLongitude:t}=this.state,n=[];return p(e)&&p(t)&&n.push({latitude:parseFloat(e),longitude:parseFloat(t)}),i("div",{className:"geolocation form-inline"},void 0,i(r.default,{markers:n,onClick:this.mapClick,height:370,autoCenter:!1}),i("div",{className:"form-row"},void 0,i("div",{className:"form-group half-width"},void 0,i("label",{},void 0,"Latitude"),i("input",{onChange:this.latChange,className:"form-control",type:"number",id:"lat",value:e,step:"any"})),i("div",{className:"form-group half-width"},void 0,i("label",{},void 0,"Longitude"),i("input",{onChange:this.lonChange,className:"form-control",type:"number",id:"lon",value:t,step:"any"}))),(e||t)&&i("div",{className:"clear-field-button"},void 0,i("button",{type:"button",onClick:this.clearCoordinates},void 0,i(a.Translate,{},void 0,"Clear coordinates"))))}}m.defaultProps={value:[c({},u)]}},"./app/react/Forms/components/IconSelector.js":
/*!****************************************************!*\
  !*** ./app/react/Forms/components/IconSelector.js ***!
  \****************************************************/
/*! exports provided: ListItem, IconSelector, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ListItem",function(){return h}),n.d(t,"IconSelector",function(){return y});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=n(/*! ../../UI/Icon/library */"./app/react/UI/Icon/library.js"),i=n(/*! ../../UI */"./app/react/UI/index.js"),l=n(/*! world-countries */"./node_modules/world-countries/index.js"),c=n(/*! react-flags */"./node_modules/react-flags/lib/react-flags.js"),d=n.n(c),u=n(/*! ./DropdownList */"./app/react/Forms/components/DropdownList.js");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function m(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const f={display:"inline-block",width:"25px"};class h extends s.Component{shouldComponentUpdate(e){return this.props.item._id!==e.item._id}render(){const{item:e}=this.props;let t=m("span",{},void 0,"No icon / flag");return"Icons"===e.type&&(t=m("span",{style:f},void 0,m(i.Icon,{icon:`${e._id}`}))),"Flags"===e.type&&(t=m("span",{style:f},void 0,m(d.a,{name:e._id,format:"png",pngSize:16,shiny:!0,alt:`${e.label} flag`,basePath:"/flag-images"}))),m("span",{},void 0,t,e.label)}}class y extends s.Component{componentWillMount(){const e=[{_id:null,type:"Empty"}].concat(a.iconNames.map(e=>({_id:e,type:"Icons",label:e}))).concat(l.default.map(e=>({_id:e.cca3,type:"Flags",label:e.name.common})));this.setState({listOptions:e})}render(){return r.a.createElement(u.default,p({valueField:"_id",textField:"label",data:this.state.listOptions,valueComponent:h,itemComponent:h,defaultValue:this.state.listOptions[0],filter:"contains",groupBy:"type"},this.props))}}t.default=y},"./app/react/Forms/components/LinkField.js":
/*!*************************************************!*\
  !*** ./app/react/Forms/components/LinkField.js ***!
  \*************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return a});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js");function r(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class a extends s.Component{constructor(e){super(e),this.urlChange=this.urlChange.bind(this),this.labelChange=this.labelChange.bind(this),this.mapClick=this.mapClick.bind(this)}onChange(e){this.props.onChange(e)}urlChange(e){const t=e.target.value;this.onChange({label:t,url:this.props.value.url})}labelChange(e){const t=e.target.value;this.onChange({label:this.props.value.label,url:t})}mapClick(e){this.onChange({label:e.lngLat[1],url:e.lngLat[0]})}render(){const{label:e,url:t}=this.props.value;return r("div",{className:"link form-inline"},void 0,r("div",{className:"form-row"},void 0,r("div",{className:"form-group"},void 0,r("label",{},void 0,"Label "),r("input",{onChange:this.urlChange,className:"form-control",id:"label",value:e,step:"any"})),r("div",{className:"form-group"},void 0,r("label",{},void 0,"URL "),r("input",{onChange:this.labelChange,className:"form-control",id:"url",value:t,step:"any"}))))}}a.defaultProps={value:{label:"",url:""}}},"./app/react/Forms/components/MarkDown.js":
/*!************************************************!*\
  !*** ./app/react/Forms/components/MarkDown.js ***!
  \************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return l});var o,s=n(/*! react-tabs-redux */"./node_modules/react-tabs-redux/lib/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),a=n(/*! ../../Markdown */"./app/react/Markdown/index.js");function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class l extends r.Component{render(){const{rows:e}=this.props;return i(s.Tabs,{renderActiveTabContentOnly:!0,className:"markdownEditor"},void 0,i("div",{className:"tab-nav"},void 0,i(s.TabLink,{to:"edit",default:!0},void 0,"Edit"),i(s.TabLink,{to:"preview"},void 0,"Preview"),i("a",{className:"tab-link tab-link--help",href:"https://guides.github.com/features/mastering-markdown/",target:"_blank",rel:"noopener noreferrer"},void 0,"help")),i(s.TabContent,{for:"edit"},void 0,i("textarea",{className:"form-control",rows:e,onChange:this.props.onChange,value:this.props.value})),i(s.TabContent,{for:"preview",className:"markdownViewer"},void 0,i(a.default,{html:this.props.htmlOnViewer,markdown:this.props.value})))}}l.defaultProps={value:"",rows:6,htmlOnViewer:!1}},"./app/react/Forms/components/MultiDate.js":
/*!*************************************************!*\
  !*** ./app/react/Forms/components/MultiDate.js ***!
  \*************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return l});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! ../../UI */"./app/react/UI/index.js"),a=n(/*! ./DatePicker */"./app/react/Forms/components/DatePicker.js");function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class l extends s.Component{constructor(e){super(e);const t=this.props.value&&this.props.value.length?this.props.value:[null];this.state={values:t}}onChange(e,t){const n=this.state.values.slice();n[e]=t,this.setState({values:n}),this.props.onChange(n)}add(e){e.preventDefault();const t=this.state.values.slice();t.push(null),this.setState({values:t})}remove(e,t){t.preventDefault();const n=this.state.values.slice();n.splice(e,1),this.setState({values:n}),this.props.onChange(n)}render(){return i("div",{className:"multidate"},void 0,(()=>this.state.values.map((e,t)=>i("div",{className:"multidate-item"},t,i(a.default,{locale:this.props.locale,format:this.props.format,onChange:this.onChange.bind(this,t),value:e}),i("button",{className:"react-datepicker__delete-icon",onClick:this.remove.bind(this,t)}))))(),i("button",{className:"btn btn-success add",onClick:this.add.bind(this)},void 0,i(r.Icon,{icon:"plus"})," ",i("span",{},void 0,"Add date")))}}},"./app/react/Forms/components/MultiDateRange.js":
/*!******************************************************!*\
  !*** ./app/react/Forms/components/MultiDateRange.js ***!
  \******************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return l});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! ../../UI */"./app/react/UI/index.js"),a=n(/*! ./DatePicker */"./app/react/Forms/components/DatePicker.js");function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class l extends s.Component{constructor(e){super(e);const t=this.props.value&&this.props.value.length?this.props.value:[{from:null,to:null}];this.state={values:t}}fromChange(e,t){const n=this.state.values.slice();n[e]=Object.assign({},n[e]),n[e].from=t,this.setState({values:n}),this.props.onChange(n)}toChange(e,t){const n=this.state.values.slice();n[e]=Object.assign({},n[e]),n[e].to=t,this.setState({values:n}),this.props.onChange(n)}add(e){e.preventDefault();const t=this.state.values.slice();t.push({from:null,to:null}),this.setState({values:t})}remove(e,t){t.preventDefault();const n=this.state.values.slice();n.splice(e,1),this.setState({values:n}),this.props.onChange(n)}render(){return i("div",{className:"multidate"},void 0,(()=>this.state.values.map((e,t)=>i("div",{className:"multidate-item"},t,i("div",{className:"multidate-range"},void 0,i("div",{className:"DatePicker__From"},void 0,i("span",{},void 0,"From: "),i(a.default,{format:this.props.format,value:e.from,onChange:this.fromChange.bind(this,t)})),i("div",{className:"DatePicker__To"},void 0,i("span",{},void 0," To: "),i(a.default,{format:this.props.format,value:e.to,endOfDay:!0,onChange:this.toChange.bind(this,t)})),i("button",{className:"react-datepicker__delete-icon",onClick:this.remove.bind(this,t)})))))(),i("button",{className:"btn btn-success add",onClick:this.add.bind(this)},void 0,i(r.Icon,{icon:"plus"})," ",i("span",{},void 0,"Add date")))}}},"./app/react/Forms/components/MultiSelect.js":
/*!***************************************************!*\
  !*** ./app/react/Forms/components/MultiSelect.js ***!
  \***************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return p});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! ../../Layout/Icon */"./app/react/Layout/Icon.js"),a=n(/*! ../../UI */"./app/react/UI/index.js"),i=n(/*! ../../I18N */"./app/react/I18N/index.js"),l=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),c=n(/*! ../utils/optionsUtils */"./app/react/Forms/utils/optionsUtils.js");function d(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const u=e=>!e.options||e.options.length;class p extends s.Component{constructor(e){super(e),this.state={filter:e.filter,showAll:e.showAll,ui:{}}}componentWillReceiveProps(e){e.filter&&this.setState({filter:e.filter})}changeGroup(e,t){const n=this.props.value.slice(0);t.target.checked&&e.options.forEach(e=>{this.checked(e)||n.push(e[this.props.optionsValue])}),t.target.checked||e.options.forEach(e=>{if(this.checked(e)){const t=n.indexOf(e[this.props.optionsValue]);n.splice(t,1)}}),this.props.onChange(n)}checked(e){return!!this.props.value&&(e.options?e.options.reduce((e,t)=>e&&this.props.value.includes(t[this.props.optionsValue]),!0):this.props.value.includes(e[this.props.optionsValue]))}anyChildChecked(e){return Boolean(e.options&&!!e.options.find(e=>this.checked(e)))}change(e){let t=this.props.value?this.props.value.slice(0):[];if(t.includes(e))return t=t.filter(t=>t!==e),void this.props.onChange(t);t.push(e),this.props.onChange(t)}filter(e){this.setState({filter:e.target.value})}resetFilter(){this.setState({filter:""})}showAll(e){e.preventDefault(),this.setState({showAll:!this.state.showAll})}sort(e,t,n,o=!1){const s=e.sort((t,s)=>{let r=0;this.state.showAll||(r=(this.checked(s)||this.anyChildChecked(s))-(this.checked(t)||this.anyChildChecked(t))),0===r&&void 0!==e[0].results&&t.results!==s.results&&(r=t.results>s.results?-1:1);const a=this.state.showAll||e.length<this.props.optionsToShow;return(0===r||a||this.state.sortbyLabel||o)&&(r=t[n]<s[n]?-1:1),r});return this.moveNoValueOptionToBottom(s)}sortOnlyAggregates(e,t,n){if(!e.length||void 0===e[0].results)return e;const o=e.sort((e,t)=>{let o=t.results-e.results;return 0===o&&(o=e[n]<t[n]?-1:1),o});return this.moveNoValueOptionToBottom(o)}moveNoValueOptionToBottom(e){let t=[...e];const n=t.find(e=>e.noValueKey);return n&&!this.checked(n)&&(t=t.filter(e=>!e.noValueKey)).push(n),t}hoistCheckedOptions(e){const[t,n]=e.reduce(([e,t],n)=>this.checked(n)||this.anyChildChecked(n)?[e.concat([n]),t]:[e,t.concat([n])],[[],[]]);let o=t.concat(n);const s=o.find(e=>e.noValueKey);return s&&!this.checked(s)&&(o=o.filter(e=>!e.noValueKey)).push(s),o}moreLessLabel(e){return this.state.showAll?Object(i.t)("System","x less"):d("span",{},void 0,e.length-this.props.optionsToShow," ",Object(i.t)("System","x more"))}toggleOptions(e,t){t.preventDefault();const n=e[this.props.optionsValue],{ui:o}=this.state;o[n]=!o[n],this.setState({ui:o})}showSubOptions(e){const t=this.state.ui[e.id],n=this.checked(e),o=!!e.options.find(e=>this.checked(e));return t||!n&&o}label(e){const{optionsValue:t,optionsLabel:n,prefix:o}=this.props;return d("label",{className:"multiselectItem-label",htmlFor:o+e[t]},void 0,d("span",{className:"multiselectItem-icon"},void 0,d(a.Icon,{icon:["far","square"],className:"checkbox-empty"}),d(a.Icon,{icon:"check",className:"checkbox-checked"})),d("span",{className:"multiselectItem-name"},void 0,d(r.Icon,{className:"item-icon",data:e.icon}),e[n]),d("span",{className:"multiselectItem-results"},void 0,e.results&&d("span",{},void 0,e.results),e.options&&d("span",{className:"multiselectItem-action",onClick:this.toggleOptions.bind(this,e)},void 0,d(a.Icon,{icon:this.state.ui[e.id]?"caret-up":"caret-down"}))))}renderGroup(e,t){const{prefix:n}=this.props,o=Object.assign({},e,{results:e.results});return d("li",{className:"multiselect-group"},t,d("div",{className:"multiselectItem"},void 0,d("input",{type:"checkbox",className:"group-checkbox multiselectItem-input",id:n+e.id,onChange:this.changeGroup.bind(this,e),checked:this.checked(e)}),this.label(o)),d(l.default,{if:this.showSubOptions(e)},void 0,d("ul",{className:"multiselectChild is-active"},void 0,e.options.map((e,n)=>this.renderOption(e,n,t)))))}renderOption(e,t,n=""){const{optionsValue:o,optionsLabel:s,prefix:r}=this.props,a=`${n}${t}`;return d("li",{className:"multiselectItem",title:e[s]},a,d("input",{type:"checkbox",className:"multiselectItem-input",value:e[o],id:r+e[o],onChange:this.change.bind(this,e[o]),checked:this.checked(e)}),this.label(e))}render(){let{optionsValue:e,optionsLabel:t}=this.props;e=e||"value",t=t||"label";let n=this.props.options.slice();const o=n.filter(e=>{return u(e)&&(void 0===e.results||e.results>0||!e.options||e.options.length||this.checked(e))});n=(n=o).map(e=>(e.options&&(e.options=e.options.filter(e=>{return void 0===e.results||e.results>0||this.checked(e)})),e)),this.state.filter&&(n=Object(c.filterOptions)(this.state.filter,n,t));const s=!this.state.showAll&&n.length>this.props.optionsToShow;if(n=this.props.sort?this.sort(n,e,t):this.sortOnlyAggregates(n,e,t),this.props.sort||this.state.showAll||(n=this.hoistCheckedOptions(n)),s){const e=n.filter(e=>this.checked(e)).length,t=this.props.optionsToShow>e?this.props.optionsToShow:e;n=n.slice(0,t)}return n.forEach(n=>{n.options&&(n.options=this.sort(n.options,e,t,!0))}),d("ul",{className:"multiselect is-active"},void 0,d("li",{className:"multiselectActions"},void 0,d(l.default,{if:this.props.options.length>this.props.optionsToShow&&!this.props.hideSearch},void 0,d("div",{className:"form-group"},void 0,d(a.Icon,{icon:this.state.filter?"times-circle":"search",onClick:this.resetFilter.bind(this)}),d("input",{className:"form-control",type:"text",placeholder:Object(i.t)("System","Search item",null,!1),value:this.state.filter,onChange:this.filter.bind(this)})))),!n.length&&d("span",{},void 0,Object(i.t)("System","No options found")),n.map((e,t)=>e.options?this.renderGroup(e,t):this.renderOption(e,t)),d("li",{className:"multiselectActions"},void 0,d(l.default,{if:o.length>this.props.optionsToShow&&!this.props.showAll},void 0,d("button",{onClick:this.showAll.bind(this),className:"btn btn-xs btn-default"},void 0,d(a.Icon,{icon:this.state.showAll?"caret-up":"caret-down"}),d("i",{className:this.state.showAll?"fa fa-caret-up":"fa fa-caret-down"}),this.moreLessLabel(o)))))}}p.defaultProps={optionsLabel:"label",optionsValue:"value",value:[],prefix:"",options:[],filter:"",optionsToShow:5,showAll:!1,hideSearch:!1,sort:!1,sortbyLabel:!1}},"./app/react/Forms/components/Nested.js":
/*!**********************************************!*\
  !*** ./app/react/Forms/components/Nested.js ***!
  \**********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return a});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! ./MarkDown */"./app/react/Forms/components/MarkDown.js");class a extends s.Component{constructor(e){super(e),this.state={value:this.parseValue(this.props.value)}}parseValue(e=[]){if(!e[0])return"";const t=Object.keys(e[0]).sort();let n=`| ${t.join(" | ")} |\n`;return n+=`| ${t.map(()=>"-").join(" | ")} |\n`,n+=`${e.map(e=>`| ${t.map(t=>(e[t]||[]).join(",")).join(" | ")}`).join(" |\n")} |`}onChange(e){const t=e.target.value||"";let n=[];if(this.setState({value:t}),t){const e=t.split("\n").filter(e=>e),o=e[0].split("|").map(e=>e.trim()).filter(e=>e);n=e.splice(2).map(e=>e.split("|").splice(1).reduce((e,t,n)=>{if(!o[n])return e;const s=t.split(",").map(e=>e.trim()).filter(e=>e);return e[o[n]]=s,e},{}))}this.props.onChange(n)}render(){return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(r.default,{onChange:this.onChange.bind(this),value:this.state.value})}}},"./app/react/Forms/components/NestedMultiselect.js":
/*!*********************************************************!*\
  !*** ./app/react/Forms/components/NestedMultiselect.js ***!
  \*********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return f});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),a=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),i=n(/*! ../../I18N */"./app/react/I18N/index.js"),l=n(/*! ../../utils/advancedSort */"./app/react/utils/advancedSort.js"),c=n(/*! ../../Templates/components/ViolatedArticlesNestedProperties */"./app/react/Templates/components/ViolatedArticlesNestedProperties.js"),d=n(/*! ../../store */"./app/react/store.js"),u=n(/*! ../../UI */"./app/react/UI/index.js"),p=n(/*! ./MultiSelect */"./app/react/Forms/components/MultiSelect.js");function m(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class f extends s.Component{constructor(e){super(e);const t=this.props.value||{};this.state={values:t,filter:""},Object.keys(this.state.values).length||(this.state.values=e.property.nestedProperties.reduce((e,t)=>(e[t.key]=[],e),{}))}onChange(e,t){const n=Object.assign({},this.state.values);n[e]=t,this.setState({values:n}),this.props.onChange(n)}getOptions(e,t){if(this.props.options)return this.props.options;if(!t.all[this.props.property.name][e])return[];let n=t.all[this.props.property.name][e].buckets;return 1===n.length&&"missing"===n[0].key?[]:(n=n.map(e=>({label:e.key,value:e.key,results:e.filtered.total.filtered.doc_count})).filter(e=>e.results),Object(l.advancedSort)(n,{property:"value",treatAs:"dottedList",listTypes:[Number,Number,String]}))}resetFilter(){this.setState({filter:""})}filter(e){this.setState({filter:e.target.value})}selectAnyChange(e,t){const n=Object.assign({},this.state.values);n[`${e}any`]=t.target.checked,n[e]=[],this.setState({values:n}),this.props.onChange(n)}toggleOptions(e,t){t.preventDefault();const n={};n[e]=!this.state[e],this.setState(n)}render(){const{property:e}=this.props,{locale:t}=d.store.getState(),n=this.props.aggregations?this.props.aggregations.toJS():{};return m("ul",{className:"multiselect is-active"},void 0,m("li",{className:"multiselectActions"},void 0,m("div",{className:"form-group"},void 0,m(u.Icon,{icon:this.state.filter?"times-circle":"search",onClick:this.resetFilter.bind(this)}),m("input",{className:"form-control",type:"text",placeholder:Object(i.t)("System","Search item",null,!1),value:this.state.filter,onChange:this.filter.bind(this)}))),(()=>e.nestedProperties.map((o,s)=>{const i=this.getOptions(o,n);if(!i.length)return!1;const l=c.default[o.toLowerCase()]?c.default[o.toLowerCase()][`label_${t}`]:o;return m("li",{},s,m(a.Field,{model:`.filters.${e.name}.properties.${o}.any`},void 0,m("div",{className:"multiselectItem"},void 0,m("input",{type:"checkbox",className:"form-control multiselectItem-input",id:o.key,onChange:this.selectAnyChange.bind(this,o)}),m("label",{htmlFor:o,className:"multiselectItem-label"},void 0,m("span",{className:"multiselectItem-icon"}),m("span",{className:"multiselectItem-name",title:l},void 0,m("b",{},void 0,l))),m("span",{className:"multiselectItem-results"},void 0,m("span",{className:"multiselectItem-action",onClick:this.toggleOptions.bind(this,o)},void 0,m(u.Icon,{icon:this.state[o]?"caret-up":"caret-down"}))))),m(r.default,{if:this.state[o]},void 0,m(a.Control,{component:p.default,model:`.filters.${e.name}.properties.${o}.values`,prefix:e.name+o,options:i,onChange:this.onChange.bind(this,o),showAll:!0,hideSearch:!0,sortbyLabel:!0,filter:this.state.filter})))}))())}}f.defaultProps={value:{},options:void 0}},"./app/react/Forms/components/Numeric.js":
/*!***********************************************!*\
  !*** ./app/react/Forms/components/Numeric.js ***!
  \***********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return r});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js");class r extends s.Component{constructor(e){super(e),this.state={value:e.value||""}}onChange(e){const{value:t}=e.target;if(this.setState({value:t}),!t)return this.props.onChange(null);const n=parseFloat(t);this.props.onChange(n)}render(){return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("input",{className:"form-control",onChange:this.onChange.bind(this),value:this.state.value})}}},"./app/react/Forms/components/NumericRange.js":
/*!****************************************************!*\
  !*** ./app/react/Forms/components/NumericRange.js ***!
  \****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return l});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! ../../I18N */"./app/react/I18N/index.js"),a=n(/*! ./Numeric */"./app/react/Forms/components/Numeric.js");function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class l extends s.Component{constructor(e){super(e);const t=e.value||{};this.state={from:t.from,to:t.to}}onChange(e,t){const n=Object.assign({},this.state);n[e]=t,this.setState(n),this.props.onChange(n)}render(){return i("div",{},void 0,i("div",{className:"Numeric__From"},void 0,i("span",{},void 0,Object(r.t)("System",'Label date "From"')),i(a.default,{value:this.state.from,onChange:e=>this.onChange("from",e)})),i("div",{className:"Numeric__To"},void 0,i("span",{},void 0," ",Object(r.t)("System",'Label date "to"')),i(a.default,{value:this.state.to,onChange:e=>this.onChange("to",e)})))}}},"./app/react/Forms/components/NumericRangeSlide.js":
/*!*********************************************************!*\
  !*** ./app/react/Forms/components/NumericRangeSlide.js ***!
  \*********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return i});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s);function a(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class i extends s.Component{constructor(e){super(e),this.state={value:e.value},this.onChange=this.onChange.bind(this)}componentWillReceiveProps({value:e}){e&&this.setState({value:e})}onChange(e){const{value:t}=e.target;this.setState({value:t});const{delay:n,onChange:o}=this.props;if(n)return clearTimeout(this.timeOut),void(this.timeOut=setTimeout(()=>{o(t?parseFloat(t):null)},n));o(t?parseFloat(t):null)}renderTickMarksDatalist(){const{min:e,max:t,step:n,prefix:o}=this.props;return a("datalist",{id:`${o}-tickmarks`},void 0,a("option",{value:e}),(()=>{const o=[];for(let s=e;s<t;s+=n)o.push(a("option",{value:s.toFixed(2)},s));return o})(),a("option",{value:t}))}render(){const{min:e,max:t,step:n,prefix:o,minLabel:s,maxLabel:i}=this.props,{value:l}=this.state;return a(r.a.Fragment,{},void 0,a("div",{className:"NumericRangeSlide"},void 0,a("input",{type:"range",list:`${o}-tickmarks`,min:e,max:t,step:n,onChange:this.onChange,value:l}),a("div",{className:"NumericRangeSlide-range-labels"},void 0,a("span",{},void 0,s),a("span",{},void 0,i))),this.renderTickMarksDatalist())}}i.defaultProps={onChange:()=>{},value:50,step:5,min:0,max:100,prefix:"",delay:0,minLabel:"",maxLabel:""}},"./app/react/Forms/components/RadioButtons.js":
/*!****************************************************!*\
  !*** ./app/react/Forms/components/RadioButtons.js ***!
  \****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return a});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js");function r(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class a extends s.Component{change(e){this.props.onChange(e)}checked(e){return e===this.props.value}renderLabel(e){if(this.props.renderLabel)return this.props.renderLabel(e);const{optionsLabel:t}=this.props;return e[t]}render(){const{optionsValue:e,prefix:t,options:n}=this.props;return r("div",{},void 0,n.map(n=>r("div",{className:"radio"},n[e],r("label",{htmlFor:t+n[e]},void 0,r("input",{type:"radio",value:n[e],id:t+n[e],onChange:this.change.bind(this,n[e]),checked:this.checked(n[e])}),r("span",{className:"multiselectItem-name"},void 0,this.renderLabel(n))))))}}a.defaultProps={optionsLabel:"label",optionsValue:"value",prefix:"",renderLabel:void 0}},"./app/react/Forms/components/Select.js":
/*!**********************************************!*\
  !*** ./app/react/Forms/components/Select.js ***!
  \**********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return i});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! ../../utils/advancedSort */"./app/react/utils/advancedSort.js");function a(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class i extends s.Component{render(){const{options:e,optionsValue:t,optionsLabel:n,required:o,placeholder:s,sort:i}=this.props;let l=e;if(i){l=e.reduce((e,t)=>e&&!t.options,!0)?Object(r.advancedSort)(e,{property:n}):e}const c=Boolean(o);return a("select",{className:"form-control",onChange:this.props.onChange,value:this.props.value},void 0,a("option",{disbaled:c.toString(),value:""},void 0,s),";",l.map((e,o)=>{const s=e._id||e.id||o;if(e.options){const o=i?Object(r.advancedSort)(e.options,{property:n}):e.options;return a("optgroup",{label:e.label},s,o.map((e,o)=>{const s=e._id||e.id||o;return a("option",{value:e[t]},s,e[n])}))}return a("option",{value:e[t]},s,e[n])}))}}i.defaultProps={value:"",optionsValue:"value",optionsLabel:"label",placeholder:"Select...",required:!1,sort:!1}},"./app/react/Forms/components/Switcher.js":
/*!************************************************!*\
  !*** ./app/react/Forms/components/Switcher.js ***!
  \************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return i});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! ../../I18N */"./app/react/I18N/index.js");function a(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class i extends s.Component{onChange(e){this.props.onChange(e.target.checked)}render(){return a("div",{className:"switcher-wrapper"},void 0,a("span",{className:this.props.value?"is-active":""},void 0,Object(r.t)("System","Filters AND operator")),a("input",{id:`${this.props.prefix}switcher`,type:"checkbox",checked:this.props.value||!1,onChange:this.onChange.bind(this)}),a("label",{htmlFor:`${this.props.prefix}switcher`,className:"switcher"}),a("span",{className:this.props.value?"":"is-active"},void 0,Object(r.t)("System","Filters OR operator")))}}},"./app/react/Forms/index.js":
/*!**********************************!*\
  !*** ./app/react/Forms/index.js ***!
  \**********************************/
/*! exports provided: Select, FormGroup, DatePicker, Captcha, DateRange, MultiSelect, MarkDown, Nested, NestedMultiselect, Numeric, NumericRange, NumericRangeSlide, MultiDate, MultiDateRange, DropdownList, IconSelector, RadioButtons, Switcher, Geolocation, LinkField, FormValue */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./components/Select */"./app/react/Forms/components/Select.js");n.d(t,"Select",function(){return o.default});var s=n(/*! ./components/DatePicker */"./app/react/Forms/components/DatePicker.js");n.d(t,"DatePicker",function(){return s.default});var r=n(/*! ./components/Captcha */"./app/react/Forms/components/Captcha.js");n.d(t,"Captcha",function(){return r.default});var a=n(/*! ./components/DateRange */"./app/react/Forms/components/DateRange.js");n.d(t,"DateRange",function(){return a.default});var i=n(/*! ./components/FormGroup */"./app/react/Forms/components/FormGroup.js");n.d(t,"FormGroup",function(){return i.default});var l=n(/*! ./components/MultiSelect */"./app/react/Forms/components/MultiSelect.js");n.d(t,"MultiSelect",function(){return l.default});var c=n(/*! ./components/MarkDown */"./app/react/Forms/components/MarkDown.js");n.d(t,"MarkDown",function(){return c.default});var d=n(/*! ./components/Nested */"./app/react/Forms/components/Nested.js");n.d(t,"Nested",function(){return d.default});var u=n(/*! ./components/NestedMultiselect */"./app/react/Forms/components/NestedMultiselect.js");n.d(t,"NestedMultiselect",function(){return u.default});var p=n(/*! ./components/MultiDate */"./app/react/Forms/components/MultiDate.js");n.d(t,"MultiDate",function(){return p.default});var m=n(/*! ./components/MultiDateRange */"./app/react/Forms/components/MultiDateRange.js");n.d(t,"MultiDateRange",function(){return m.default});var f=n(/*! ./components/DropdownList */"./app/react/Forms/components/DropdownList.js");n.d(t,"DropdownList",function(){return f.default});var h=n(/*! ./components/IconSelector */"./app/react/Forms/components/IconSelector.js");n.d(t,"IconSelector",function(){return h.default});var y=n(/*! ./components/Numeric */"./app/react/Forms/components/Numeric.js");n.d(t,"Numeric",function(){return y.default});var v=n(/*! ./components/NumericRange */"./app/react/Forms/components/NumericRange.js");n.d(t,"NumericRange",function(){return v.default});var b=n(/*! ./components/NumericRangeSlide */"./app/react/Forms/components/NumericRangeSlide.js");n.d(t,"NumericRangeSlide",function(){return b.default});var g=n(/*! ./components/RadioButtons */"./app/react/Forms/components/RadioButtons.js");n.d(t,"RadioButtons",function(){return g.default});var j=n(/*! ./components/Switcher */"./app/react/Forms/components/Switcher.js");n.d(t,"Switcher",function(){return j.default});var S=n(/*! ./components/Geolocation */"./app/react/Forms/components/Geolocation.js");n.d(t,"Geolocation",function(){return S.default});var _=n(/*! ./components/LinkField */"./app/react/Forms/components/LinkField.js");n.d(t,"LinkField",function(){return _.default});var x=n(/*! ./components/FormValue */"./app/react/Forms/components/FormValue.js");n.d(t,"FormValue",function(){return x.default})},"./app/react/Forms/utils/optionsUtils.js":
/*!***********************************************!*\
  !*** ./app/react/Forms/utils/optionsUtils.js ***!
  \***********************************************/
/*! exports provided: filterOptions, default */function(e,t,n){"use strict";n.r(t),n.d(t,"filterOptions",function(){return r});var o=n(/*! diacritics */"./node_modules/diacritics/index.js");function s(e,t){return Object(o.remove)(e.toLowerCase()).includes(Object(o.remove)(t.toLowerCase()))}function r(e,t,n){return t.filter(t=>s(t[n],e)||t.options&&t.options.some(t=>s(t[n],e)))}t.default={filterOptions:r}},"./app/react/I18N/EditTranslations.js":
/*!********************************************!*\
  !*** ./app/react/I18N/EditTranslations.js ***!
  \********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return i});n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! ../App/RouteHandler */"./app/react/App/RouteHandler.js"),r=n(/*! ./components/EditTranslationForm */"./app/react/I18N/components/EditTranslationForm.js"),a=n(/*! ./ */"./app/react/I18N/index.js");class i extends s.default{static async requestState(e){const t=await a.I18NApi.get(e);return[a.actions.editTranslations(t)]}render(){return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(r.default,{context:this.props.params.context})}}},"./app/react/I18N/I18NApi.js":
/*!***********************************!*\
  !*** ./app/react/I18N/I18NApi.js ***!
  \***********************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ../utils/api */"./app/react/utils/api.js");t.default={get:e=>o.default.get("translations",e).then(e=>e.json.rows),save:e=>o.default.post("translations",e).then(e=>e.json),addEntry:e=>o.default.post("translations/addentry",e).then(e=>e.json),addLanguage:e=>o.default.post("translations/languages",e).then(e=>e.json),deleteLanguage:e=>o.default.delete("translations/languages",e).then(e=>e.json),setDefaultLanguage:e=>o.default.post("translations/setasdeafult",e).then(e=>e.json)}},"./app/react/I18N/actions/I18NActions.js":
/*!***********************************************!*\
  !*** ./app/react/I18N/actions/I18NActions.js ***!
  \***********************************************/
/*! exports provided: inlineEditTranslation, closeInlineEditTranslation, toggleInlineEdit, saveTranslations, editTranslations, resetForm, addLanguage, deleteLanguage, setDefaultLanguage */function(e,t,n){"use strict";n.r(t),n.d(t,"inlineEditTranslation",function(){return c}),n.d(t,"closeInlineEditTranslation",function(){return d}),n.d(t,"toggleInlineEdit",function(){return u}),n.d(t,"saveTranslations",function(){return p}),n.d(t,"editTranslations",function(){return m}),n.d(t,"resetForm",function(){return f}),n.d(t,"addLanguage",function(){return h}),n.d(t,"deleteLanguage",function(){return y}),n.d(t,"setDefaultLanguage",function(){return v});var o=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),s=n(/*! ../../Notifications/actions/notificationsActions */"./app/react/Notifications/actions/notificationsActions.js"),r=n(/*! ../../store */"./app/react/store.js"),a=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js"),i=n(/*! ../t */"./app/react/I18N/t.js"),l=n(/*! ../I18NApi */"./app/react/I18N/I18NApi.js");function c(e,t){return n=>{const s=r.store.getState().translations.toJS(),a=s.map(e=>e.locale).reduce((n,o)=>{const r=s.find(e=>e.locale===o).contexts.find(t=>t.id===e);return n[o]=r.values[t]||t,n},{});n({type:"OPEN_INLINE_EDIT_FORM",context:e,key:t}),n(o.actions.load("inlineEditModel",a))}}function d(){return e=>{e({type:"CLOSE_INLINE_EDIT_FORM"}),e(o.actions.reset("inlineEditModel"))}}function u(){return{type:"TOGGLE_INLINE_EDIT"}}function p(e){return t=>{Promise.all(e.map(e=>l.default.save(new a.RequestParams(e)))).then(()=>{s.notify(Object(i.default)("System","Translations saved",null,!1),"success")(t)})}}function m(e){return t=>{t(o.actions.load("translationsForm",e))}}function f(){return e=>{e(o.actions.reset("translationsForm"))}}function h(e){return t=>l.default.addLanguage(new a.RequestParams(e)).then(()=>{s.notify(Object(i.default)("System","New language added",null,!1),"success")(t)})}function y(e){return t=>l.default.deleteLanguage(new a.RequestParams({key:e})).then(()=>{s.notify(Object(i.default)("System","Language deleted",null,!1),"success")(t)})}function v(e){return t=>l.default.setDefaultLanguage(new a.RequestParams({key:e})).then(()=>{s.notify(Object(i.default)("System","Default language change success",null,!1),"success")(t)})}},"./app/react/I18N/components/EditTranslationForm.js":
/*!**********************************************************!*\
  !*** ./app/react/I18N/components/EditTranslationForm.js ***!
  \**********************************************************/
/*! exports provided: EditTranslationForm, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"EditTranslationForm",function(){return m}),n.d(t,"mapStateToProps",function(){return f});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! redux */"./node_modules/redux/es/index.js"),a=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),i=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),l=n(/*! ./.. */"./app/react/I18N/index.js"),c=n(/*! ../../Layout */"./app/react/Layout/index.js"),d=n(/*! ../../UI */"./app/react/UI/index.js"),u=n(/*! ../../DocumentForm/components/FormGroup */"./app/react/DocumentForm/components/FormGroup.js");function p(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class m extends s.Component{static getDefaultTranslation(e,t){const n=t.find(e=>e.default).key;return e.find(e=>e.locale===n)}static translationExists(e,t){return e.find(e=>e.locale===t)}constructor(e){super(e),this.save=this.save.bind(this)}shouldComponentUpdate(e){return this.props.translationsForm.length!==e.translationsForm.length}componentWillUnmount(){this.props.resetForm()}prepareTranslations(){const{translationsForm:e,settings:t}=this.props;if(e.length){const{languages:n}=t.collection.toJS();n.forEach(t=>{if(!m.translationExists(e,t.key)){const o=m.getDefaultTranslation(e,n),s={locale:t.key};s.values=Object.assign({},o.values),e.push(s)}})}return e}save(e){const t=e.map(e=>{const t=Object.assign({},e);return t.contexts=t.contexts.filter(e=>e.id===this.props.context),t});this.props.saveTranslations(t)}render(){const e=this.props.context;let t={values:[]};const n=this.prepareTranslations.call(this);n.length&&(t=n[0].contexts.find(t=>t.id===e)||t);const o=Object.keys(t.values),s=t.label;return p("div",{className:"EditTranslationForm"},void 0,p(a.Form,{model:"translationsForm",onSubmit:this.save},void 0,p("div",{className:"panel panel-default"},void 0,p("div",{className:"panel-heading"},void 0,Object(l.t)("System","Translations")," ",p(d.Icon,{icon:"angle-right"})," ",s),p("ul",{className:"list-group"},void 0,(()=>{if(n.length)return o.sort().map(t=>p("li",{className:"list-group-item"},t,p("h5",{},void 0,t),n.map((n,o)=>{const s=n.contexts.find(t=>t.id===e),r=n.contexts.indexOf(s);return p(u.default,{},`${n.locale}-${t}-${o}`,p("div",{className:"input-group"},void 0,p("span",{className:"input-group-addon"},void 0,n.locale),p(a.Field,{model:["translationsForm",o,"contexts",r,"values",t]},void 0,p("input",{className:"form-control",type:"text"}))))})))})())),p("div",{className:"settings-footer"},void 0,p(c.BackButton,{to:"/settings/translations"}),p("button",{type:"submit",className:"btn btn-success save-template"},void 0,p(d.Icon,{icon:"save"}),p("span",{className:"btn-label"},void 0,Object(l.t)("System","Save"))))))}}function f({translationsForm:e,translationsFormState:t,settings:n}){return{translationsForm:e,settings:n,formState:t}}t.default=Object(i.connect)(f,function(e){return Object(r.bindActionCreators)({saveTranslations:l.actions.saveTranslations,resetForm:l.actions.resetForm},e)})(m)},"./app/react/I18N/components/I18N.js":
/*!*******************************************!*\
  !*** ./app/react/I18N/components/I18N.js ***!
  \*******************************************/
/*! exports provided: I18N, default */function(e,t,n){"use strict";n.r(t),n.d(t,"I18N",function(){return a});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js");class a extends s.Component{render(){const e=this.props.dictionaries.toJS().find(e=>e.locale===this.props.locale)||{values:{}};let t=this.props.children;return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("span",{},void 0,t=e.values[t]||t)}}t.default=Object(r.connect)(({locale:e,dictionaries:t})=>({locale:e,dictionaries:t}))(a)},"./app/react/I18N/components/I18NLink.js":
/*!***********************************************!*\
  !*** ./app/react/I18N/components/I18NLink.js ***!
  \***********************************************/
/*! exports provided: I18NLink, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"I18NLink",function(){return c}),n.d(t,"mapStateToProps",function(){return d});n(/*! prop-types */"./node_modules/prop-types/index.js");var o=n(/*! react */"./node_modules/react/index.js"),s=n.n(o),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! react-router */"./node_modules/react-router/es/index.js"),i=n(/*! ../../utils/objectWithoutKeys */"./app/react/utils/objectWithoutKeys.js");function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}class c extends o.Component{constructor(e){super(e),this.onClick=this.onClick.bind(this)}onClick(e){this.props.disabled?e.preventDefault():this.props.onClick&&this.props.onClick(e)}render(){const e=Object(i.default)(this.props,["dispatch","onClick"]);return s.a.createElement(a.Link,l({onClick:this.onClick},e))}}function d({locale:e},t){return{to:`/${e||""}/${t.to}`.replace(/\/+/g,"/")}}c.defaultProps={disabled:!1,onClick:void 0},t.default=Object(r.connect)(d)(c)},"./app/react/I18N/components/I18NMenu.js":
/*!***********************************************!*\
  !*** ./app/react/I18N/components/I18NMenu.js ***!
  \***********************************************/
/*! exports provided: mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"mapStateToProps",function(){return m});var o,s=n(/*! redux */"./node_modules/redux/es/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! react-router */"./node_modules/react-router/es/index.js"),i=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),l=n(/*! ../../UI */"./app/react/UI/index.js"),c=n(/*! ../../Auth */"./app/react/Auth/index.js"),d=n(/*! ./.. */"./app/react/I18N/index.js");function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class p extends i.Component{static reload(e){window.location.href=e}render(){const{languages:e,locale:t,location:n,i18nmode:o,toggleInlineEdit:s}=this.props;let r=n.pathname;const a=new RegExp(`^/?${t}/|^/?${t}$`);return r=r.replace(a,"/"),u("ul",{className:"menuNav-I18NMenu"},void 0,u(c.NeedAuthorization,{roles:["admin","editor"]},void 0,u("button",{className:`menuNav-btn btn btn-default${o?" inlineEdit active":""}`,type:"button",onClick:s},void 0,u(l.Icon,{icon:"language",size:"lg"}))),e.count()>1&&e.map(e=>{const o=e.get("key"),s=`/${o}${r}${r.match("document")?"":n.search}`;return u("li",{className:`menuNav-item${t===o?" is-active":""}`},o,u("a",{className:"menuNav-btn btn btn-default",href:s},void 0,o))}))}}function m(e){return{languages:e.settings.collection.get("languages"),i18nmode:e.inlineEdit.get("inlineEdit"),locale:e.locale}}p.defaultProps={locale:null},t.default=Object(a.withRouter)(Object(r.connect)(m,function(e){return Object(s.bindActionCreators)({toggleInlineEdit:d.actions.toggleInlineEdit},e)})(p))},"./app/react/I18N/components/Translate.js":
/*!************************************************!*\
  !*** ./app/react/I18N/components/Translate.js ***!
  \************************************************/
/*! exports provided: Translate, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"Translate",function(){return l}),n.d(t,"mapStateToProps",function(){return c});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! ./.. */"./app/react/I18N/index.js");class l extends s.Component{static resetCachedTranslation(){l.translation=null}constructor(e){super(e),this.onClick=this.onClick.bind(this)}onClick(e){this.props.i18nmode&&(e.stopPropagation(),e.preventDefault(),this.props.edit(this.props.context,this.props.translationKey))}render(){return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("span",{onClick:this.onClick,className:this.props.i18nmode?"translation active":"translation"},void 0,this.props.text)}}l.defaultProps={i18nmode:!1,context:"System"};const c=(e,t)=>{if(!l.translation||l.translation.locale!==e.locale){const t=e.translations.toJS();l.translation=t.find(t=>t.locale===e.locale)||{contexts:[]}}const n=t.context||"System",o=t.translationKey||t.children,s=l.translation.contexts.find(e=>e.id===n)||{values:{}},r="System"===n||!!s.values[t.children];return{translationKey:o,text:s.values[o]||t.children,i18nmode:e.inlineEdit.get("inlineEdit")&&r}};t.default=Object(r.connect)(c,function(e){return Object(a.bindActionCreators)({edit:i.actions.inlineEditTranslation},e)})(l)},"./app/react/I18N/components/TranslateForm.js":
/*!****************************************************!*\
  !*** ./app/react/I18N/components/TranslateForm.js ***!
  \****************************************************/
/*! exports provided: TranslateForm, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"TranslateForm",function(){return p}),n.d(t,"mapStateToProps",function(){return m});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! redux */"./node_modules/redux/es/index.js"),a=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),i=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),l=n(/*! ./.. */"./app/react/I18N/index.js"),c=n(/*! ../../Layout/Modal */"./app/react/Layout/Modal.js"),d=n(/*! ../../Forms */"./app/react/Forms/index.js");function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class p extends s.Component{constructor(e){super(e),this.submit=this.submit.bind(this),this.cancel=this.cancel.bind(this)}submit(e){let t=this.props.translations.toJS();t=t.map(t=>{const{locale:n}=t,o=t.contexts.find(e=>e.id===this.props.context);return o.values[this.props.value]=e[n],t.contexts=[o],t}),this.props.saveTranslations(t),this.props.close()}cancel(){this.props.close()}render(){const e=this.props.translations.toJS().map(e=>e.locale);return u(c.default,{isOpen:this.props.isOpen,type:"info"},void 0,u(c.default.Body,{},void 0,u("h4",{},void 0,"Translate"),u(a.Form,{model:"inlineEditModel",onSubmit:this.submit,id:"inlineEdit"},void 0,e.map(e=>u(d.FormGroup,{model:`.${e}`},e,u(a.Field,{model:`.${e}`},void 0,u("label",{className:"form-group-label",htmlFor:e},void 0,e,u("input",{id:e,className:"form-control"}))))))),u(c.default.Footer,{},void 0,u("button",{type:"button",className:"btn btn-default cancel-button",onClick:this.cancel},void 0,"Cancel"),u("button",{type:"submit",form:"inlineEdit",className:"btn confirm-button btn-primary"},void 0,"Submit")))}}function m(e){return{translations:e.translations,isOpen:e.inlineEdit.get("showInlineEditForm"),context:e.inlineEdit.get("context"),value:e.inlineEdit.get("key")}}p.defaultProps={isOpen:!1},t.default=Object(i.connect)(m,function(e){return Object(r.bindActionCreators)({saveTranslations:l.actions.saveTranslations,close:l.actions.closeInlineEditTranslation},e)})(p)},"./app/react/I18N/index.js":
/*!*********************************!*\
  !*** ./app/react/I18N/index.js ***!
  \*********************************/
/*! exports provided: I18NMenu, I18NLink, I18NUtils, I18N, Translate, TranslateForm, t, I18NApi, actions */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./components/I18NMenu */"./app/react/I18N/components/I18NMenu.js");n.d(t,"I18NMenu",function(){return o.default});var s=n(/*! ./components/I18NLink */"./app/react/I18N/components/I18NLink.js");n.d(t,"I18NLink",function(){return s.default});var r=n(/*! ./components/I18N */"./app/react/I18N/components/I18N.js");n.d(t,"I18N",function(){return r.default});var a=n(/*! ./components/Translate */"./app/react/I18N/components/Translate.js");n.d(t,"Translate",function(){return a.default});var i=n(/*! ./components/TranslateForm */"./app/react/I18N/components/TranslateForm.js");n.d(t,"TranslateForm",function(){return i.default});var l=n(/*! ./t */"./app/react/I18N/t.js");n.d(t,"t",function(){return l.default});var c=n(/*! ./utils */"./app/react/I18N/utils.js");n.d(t,"I18NUtils",function(){return c.default});var d=n(/*! ./I18NApi */"./app/react/I18N/I18NApi.js");n.d(t,"I18NApi",function(){return d.default});var u=n(/*! ./actions/I18NActions */"./app/react/I18N/actions/I18NActions.js");n.d(t,"actions",function(){return u})},"./app/react/I18N/inlineEditReducer.js":
/*!*********************************************!*\
  !*** ./app/react/I18N/inlineEditReducer.js ***!
  \*********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return a});var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n.n(o);const r={inlineEdit:!1,context:"",key:"",showInlineEditForm:!1};function a(e=r,t={}){return"TOGGLE_INLINE_EDIT"===t.type?e.set("inlineEdit",!e.get("inlineEdit")):"OPEN_INLINE_EDIT_FORM"===t.type?e.set("showInlineEditForm",!0).set("context",t.context).set("key",t.key):"CLOSE_INLINE_EDIT_FORM"===t.type?e.set("showInlineEditForm",!1):s.a.fromJS(e)}},"./app/react/I18N/reducer.js":
/*!***********************************!*\
  !*** ./app/react/I18N/reducer.js ***!
  \***********************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ../BasicReducer */"./app/react/BasicReducer/index.js");t.default=Object(o.default)("locale","")},"./app/react/I18N/t.js":
/*!*****************************!*\
  !*** ./app/react/I18N/t.js ***!
  \*****************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! ../store */"./app/react/store.js"),r=(n(/*! react */"./node_modules/react/index.js"),n(/*! ../../shared/translate */"./app/shared/translate.js")),a=n(/*! . */"./app/react/I18N/index.js");const i=(e,t,n,l=!0)=>{if(l)return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(a.Translate,{context:e},void 0,t);const c=n||t;if(!i.translation){const e=s.store.getState(),t=e.translations.toJS();i.translation=Object(r.getLocaleTranslation)(t,e.locale)}const d=Object(r.getContext)(i.translation,e);return Object(r.default)(d,t,c)};i.resetCachedTranslation=(()=>{i.translation=null}),t.default=i},"./app/react/I18N/utils.js":
/*!*********************************!*\
  !*** ./app/react/I18N/utils.js ***!
  \*********************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! tiny-cookie */"./node_modules/tiny-cookie/lib/index.js"),s=n(/*! ../utils */"./app/react/utils/index.js");const r=(e,t)=>Boolean(e.find(e=>e.key===t)),a={getLocale:(e,t,n={})=>((e,t=[])=>r(t,e)?e:null)(e,t)||((e,t)=>e.locale&&r(t,e.locale)?e.locale:null)(n,t)||(e=>(e.find(e=>e.default)||{}).key)(t),saveLocale:e=>{s.isClient&&o.set("locale",e,{expires:3650})}};t.default=a},"./app/react/Layout/BackButton.js":
/*!****************************************!*\
  !*** ./app/react/Layout/BackButton.js ***!
  \****************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! ../UI */"./app/react/UI/index.js"),r=n(/*! ../I18N */"./app/react/I18N/index.js");function a(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const i=({to:e})=>a(r.I18NLink,{to:e,className:"btn btn-default"},void 0,a(s.Icon,{icon:"arrow-left",directionAware:!0}),a("span",{className:"btn-label"},void 0,Object(r.t)("System","Back")));i.defaultProps={to:""},t.default=i},"./app/react/Layout/ConfirmButton.js":
/*!*******************************************!*\
  !*** ./app/react/Layout/ConfirmButton.js ***!
  \*******************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=n(/*! ./ConfirmModal */"./app/react/Layout/ConfirmModal.js");function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class l extends s.Component{constructor(e){super(e),this.state={showModal:!1},this.openModal=this.openModal.bind(this),this.onAccept=this.onAccept.bind(this),this.closeModal=this.closeModal.bind(this)}onAccept(){this.closeModal(),this.props.action()}closeModal(){this.setState({showModal:!1})}openModal(){this.setState({showModal:!0})}render(){return i(r.a.Fragment,{},void 0,i("button",{onClick:this.openModal},void 0,this.props.children),this.state.showModal&&i(a.default,{message:this.props.message,title:this.props.title,onAccept:this.onAccept,onCancel:this.closeModal}))}}l.defaultProps={children:"",message:"Are you sure you want to continue?",title:"Confirm action",action:()=>!1},t.default=l},"./app/react/Layout/ConfirmModal.js":
/*!******************************************!*\
  !*** ./app/react/Layout/ConfirmModal.js ***!
  \******************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! ./Modal */"./app/react/Layout/Modal.js");function a(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class i extends s.Component{render(){return a(r.default,{isOpen:this.props.isOpen,type:this.props.type},void 0,a(r.default.Body,{},void 0,a("h4",{},void 0,this.props.title),a("p",{},void 0,this.props.message)),a(r.default.Footer,{},void 0,a("button",{type:"button",className:"btn btn-default cancel-button",onClick:this.props.onCancel},void 0,"Cancel"),a("button",{type:"button",className:`btn confirm-button btn-${this.props.type}`,onClick:this.props.onAccept},void 0,"Accept")))}}i.defaultProps={isOpen:!0,message:"Are you sure you want to continue?",title:"Confirm action",type:"danger"},t.default=i},"./app/react/Layout/CurrentLocationLink.js":
/*!*************************************************!*\
  !*** ./app/react/Layout/CurrentLocationLink.js ***!
  \*************************************************/
/*! exports provided: CurrentLocationLink, default */function(e,t,n){"use strict";n.r(t),n.d(t,"CurrentLocationLink",function(){return c});var o=n(/*! react-router */"./node_modules/react-router/es/index.js"),s=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),r=n.n(s),a=n(/*! ../../shared/JSONRequest */"./app/shared/JSONRequest.js");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,o,s=function(e,t){if(null==e)return{};var n,o,s={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}const c=e=>{let{children:t,location:n,queryParams:s}=e,c=l(e,["children","location","queryParams"]);return r.a.createElement(o.Link,i({to:`${n.pathname}${Object(a.toUrlParams)(((e,t)=>{const n=Object.assign({},e,t);return Object.keys(n).reduce((e,t)=>""!==n[t]?Object.assign(e,{[t]:n[t]}):e,{})})(n.query,s))}`},(e=>{const{to:t}=e;return l(e,["to"])})(c)),t)};c.defaultProps={children:"",queryParams:{}},t.default=Object(o.withRouter)(c)},"./app/react/Layout/DocumentLanguage.js":
/*!**********************************************!*\
  !*** ./app/react/Layout/DocumentLanguage.js ***!
  \**********************************************/
/*! exports provided: DocumentLanguage, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"DocumentLanguage",function(){return c}),n.d(t,"mapStateToProps",function(){return d});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! ../../shared/languagesList */"./app/shared/languagesList.ts"),i=n(/*! ../I18N/t */"./app/react/I18N/t.js");function l(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class c extends s.Component{render(){const{doc:e}=this.props;if(!e.get("file"))return null;if(e.get("file")){const t=e.getIn(["file","language"]);return t&&"other"!==t?this.props.locale===Object(a.default)(t,"ISO639_1")?null:l("span",{className:"item-type__documentLanguage"},void 0,l("span",{},void 0,Object(a.default)(t,"ISO639_1")||t)):l("span",{className:"item-type__documentLanguage"},void 0,l("span",{},void 0,Object(i.default)("System","Other")))}}}const d=({locale:e})=>({locale:e});t.default=Object(r.connect)(d)(c)},"./app/react/Layout/DocumentsList.js":
/*!*******************************************!*\
  !*** ./app/react/Layout/DocumentsList.js ***!
  \*******************************************/
/*! exports provided: DocumentsList, default */function(e,t,n){"use strict";n.r(t),n.d(t,"DocumentsList",function(){return g});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-router */"./node_modules/react-router/es/index.js"),a=n(/*! ../../shared/JSONRequest */"./app/shared/JSONRequest.js"),i=n(/*! rison */"./node_modules/rison/js/rison.js"),l=n.n(i),c=n(/*! ../Library/components/Doc */"./app/react/Library/components/Doc.js"),d=n(/*! ../Library/components/SearchBar */"./app/react/Library/components/SearchBar.js"),u=n(/*! ../Library/components/SortButtons */"./app/react/Library/components/SortButtons.js"),p=n(/*! ./Lists */"./app/react/Layout/Lists.js"),m=n(/*! ../components/Elements/Loader */"./app/react/components/Elements/Loader.js"),f=n(/*! ../App/Footer */"./app/react/App/Footer.js"),h=n(/*! ../Auth */"./app/react/Auth/index.js"),y=n(/*! ../I18N */"./app/react/I18N/index.js"),v=n(/*! ../UI */"./app/react/UI/index.js");function b(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class g extends s.Component{constructor(e,t){super(e,t),this.state={loading:!1},this.clickOnDocument=this.clickOnDocument.bind(this)}componentWillReceiveProps(){this.setState({loading:!1})}clickOnDocument(){this.props.clickOnDocument&&this.props.clickOnDocument.apply(this,arguments)}loadMoreDocuments(e){this.setState({loading:!0}),this.setState({loading:!0}),this.props.loadMoreDocuments(this.props.storeKey,this.props.documents.get("rows").size+e)}loadMoreButton(e){const t=Object.assign({},this.props.location.query),n=t.q?l.a.decode(t.q):{};n.limit=(parseInt(n.limit,10)||30)+e,t.q=l.a.encode(n);const o=`${this.props.location.pathname}${Object(a.toUrlParams)(t)}`;return b(r.Link,{to:o,className:"btn btn-default btn-load-more",onClick:this.loadMoreDocuments.bind(this,e)},void 0,e," ",Object(y.t)("System","x more"))}render(){const{documents:e,connections:t,GraphView:n,view:o,searchCentered:s,hideFooter:r,connectionsGroups:a,LoadMoreButton:i,rowListZoomLevel:l}=this.props;let d=b("span",{},void 0,b("b",{},void 0,e.get("totalRows"))," ",b(y.Translate,{},void 0,"documents"));if(t){d=b("span",{},void 0,b("b",{},void 0,a.reduce((e,t)=>(t.get("templates").forEach(t=>{e.totalConnections+=t.get("count")}),e),{totalConnections:0}).totalConnections)," ",Object(y.t)("System","connections"),", ",b("b",{},void 0,e.get("totalRows"))," ",Object(y.t)("System","documents"))}const g=this.props.SearchBar,j=this.props.ActionButtons?b("div",{className:"search-list-actions"},void 0,b(this.props.ActionButtons,{})):null,S=r?null:b(f.default,{});return b("div",{className:"documents-list"},void 0,b("div",{className:"main-wrapper"},void 0,b("div",{className:`search-list ${s?"centered":""}`},void 0,j,b(g,{storeKey:this.props.storeKey})),b("div",{className:`sort-by ${s?"centered":""}`},void 0,b("div",{className:"documents-counter"},void 0,b("span",{className:"documents-counter-label"},void 0,d),b("span",{className:"documents-counter-sort"},void 0,Object(y.t)("System","sorted by"),":")),b(u.default,{sortCallback:this.props.searchDocuments,selectedTemplates:this.props.filters.get("documentTypes"),stateProperty:this.props.sortButtonsStateProperty,storeKey:this.props.storeKey})),(()=>"graph"!==o?b(p.RowList,{zoomLevel:l},void 0,e.get("rows").map((e,t)=>b(c.default,{doc:e,storeKey:this.props.storeKey,onClick:this.clickOnDocument,onSnippetClick:this.props.onSnippetClick,deleteConnection:this.props.deleteConnection,searchParams:this.props.search},t))):"graph"===o?b(n,{clickOnDocument:this.clickOnDocument}):null)(),b("div",{className:"row"},void 0,"graph"!==o?b("p",{className:"col-sm-12 text-center documents-counter"},void 0,b("b",{},void 0," ",e.get("rows").size," "),Object(y.t)("System","of"),b("b",{},void 0," ",e.get("totalRows")," "),Object(y.t)("System","documents")):null,(()=>i?b(i,{}):e.get("rows").size<e.get("totalRows")&&!this.state.loading?b("div",{className:"col-sm-12 text-center"},void 0,this.loadMoreButton(30),this.loadMoreButton(300)):this.state.loading?b(m.default,{}):null)(),b(h.NeedAuthorization,{},void 0,b("div",{className:"col-sm-12 force-ltr text-center protip"},void 0,b(v.Icon,{icon:"lightbulb"})," ",b("b",{},void 0,"ProTip!"),b("span",{},void 0,"Use ",b("span",{className:"protip-key"},void 0,"cmd")," or ",b("span",{className:"protip-key"},void 0,"shift"),"  + click to select multiple files.")))),S))}}g.defaultProps={SearchBar:d.default,rowListZoomLevel:0},t.default=Object(r.withRouter)(g)},"./app/react/Layout/DragAndDrop/DragAndDropContainer.js":
/*!**************************************************************!*\
  !*** ./app/react/Layout/DragAndDrop/DragAndDropContainer.js ***!
  \**************************************************************/
/*! exports provided: DragAndDropContainer, containerTarget, default */function(e,t,n){"use strict";n.r(t),n.d(t,"DragAndDropContainer",function(){return u}),n.d(t,"containerTarget",function(){return p});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-dnd */"./node_modules/react-dnd/lib/index.js"),a=n(/*! react-dnd-html5-backend */"./node_modules/react-dnd-html5-backend/lib/index.js"),i=n.n(a),l=n(/*! ../../../shared/uniqueID */"./app/shared/uniqueID.js"),c=n(/*! ./DragAndDropItem */"./app/react/Layout/DragAndDrop/DragAndDropItem.js");function d(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class u extends s.Component{constructor(e){super(e),this.state={id:e.id||Object(l.default)()},this.container={id:this.state.id},this.moveItem=this.moveItem.bind(this),this.removeItem=this.removeItem.bind(this),this.renderItem=this.renderItem.bind(this)}moveItem(e,t,n){const o=e,s=this.props.items.concat();s.find(e=>e.id===n.id)&&(s.splice(o,1),s.splice(t,0,n.originalItem||n),this.props.onChange(s))}removeItem(e){let t=this.props.items.concat();t=t.filter(t=>t.id!==e),this.props.onChange(t)}renderItem(e,t){return this.props.renderItem?this.props.renderItem(e,t):e.content}render(){const{connectDropTarget:e,items:t,iconHandle:n}=this.props;return d("div",{},void 0,e(d("ul",{className:"list-group"},void 0,t.map((e,t)=>d(c.default,{moveItem:this.moveItem,removeItem:this.removeItem,index:t,iconHandle:n||!!e.items,name:e.name,container:this.container,items:e.items,id:e.id,originalItem:e},e.id,this.renderItem)),d("div",{className:"no-properties"},void 0,d("div",{className:"no-properties-wrap"},void 0,"Drag items here")))))}}u.defaultProps={iconHandle:!1};const p={drop(e,t,n){const o=t.getItem();if(!(o.id===n.state.id||t.getDropResult()&&t.getDropResult().id)){const t=e.items.concat();return t.find(e=>e.id===o.id)||(t.push(o.originalItem||o),e.onChange(t)),{id:n.state.id}}}},m=Object(r.DropTarget)("DRAG_AND_DROP_ITEM",p,e=>({connectDropTarget:e.dropTarget()}))(u);t.default=Object(r.DragDropContext)(i.a)(m)},"./app/react/Layout/DragAndDrop/DragAndDropItem.js":
/*!*********************************************************!*\
  !*** ./app/react/Layout/DragAndDrop/DragAndDropItem.js ***!
  \*********************************************************/
/*! exports provided: itemSource, itemTarget, DragAndDropItem, default */function(e,t,n){"use strict";n.r(t),n.d(t,"itemSource",function(){return d}),n.d(t,"itemTarget",function(){return u}),n.d(t,"DragAndDropItem",function(){return p});var o,s=n(/*! react-dnd */"./node_modules/react-dnd/lib/index.js"),r=n(/*! react-dom */"./node_modules/react-dom/index.js"),a=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),i=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),l=n(/*! ../../UI */"./app/react/UI/index.js");function c(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const d={beginDrag:e=>({id:e.id,name:e.name,items:e.items,container:e.container,index:e.index,originalItem:e.originalItem}),endDrag(e,t){const n=t.getDropResult();n&&n.id!==e.container.id&&e.removeItem(e.id)}},u={hover(e,t,n){const o=t.getItem(),s=o.index,a=e.index;if(e.id===o.id)return;if(e.container.id!==o.container.id)return;if(s===a)return;const i=Object(r.findDOMNode)(n).getBoundingClientRect(),l=(i.bottom-i.top)/2,c=t.getClientOffset().y-i.top;return s<a&&c<l||s>a&&c>l?void 0:(e.moveItem(s,a,o),o.index=a,null)}};class p extends a.Component{render(){const{iconHandle:e,isDragging:t,connectDragPreview:n,connectDragSource:o,connectDropTarget:s}=this.props;let r="list-group-item";t&&(r+=" dragging"),e||(r+=" draggable");const a=s(c("div",{className:r},void 0,e?o(c("span",{className:"draggable"},void 0,c(l.Icon,{icon:"bars"}))):c(l.Icon,{icon:"bars"}),this.props.children(this.props.originalItem,this.props.index)));return e?n(a):o(a)}}p.defaultProps={iconHandle:!1,children:()=>{}};let m=Object(s.DropTarget)("DRAG_AND_DROP_ITEM",u,e=>({connectDropTarget:e.dropTarget()}))(p);m=Object(s.DragSource)("DRAG_AND_DROP_ITEM",d,(e,t)=>({connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}))(m),t.default=Object(i.connect)()(m)},"./app/react/Layout/DragAndDrop/index.js":
/*!***********************************************!*\
  !*** ./app/react/Layout/DragAndDrop/index.js ***!
  \***********************************************/
/*! exports provided: DragAndDropContainer, DragAndDropItem */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./DragAndDropContainer */"./app/react/Layout/DragAndDrop/DragAndDropContainer.js");n.d(t,"DragAndDropContainer",function(){return o.default});var s=n(/*! ./DragAndDropItem */"./app/react/Layout/DragAndDrop/DragAndDropItem.js");n.d(t,"DragAndDropItem",function(){return s.default})},"./app/react/Layout/EntityTitle.js":
/*!*****************************************!*\
  !*** ./app/react/Layout/EntityTitle.js ***!
  \*****************************************/
/*! exports provided: mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"mapStateToProps",function(){return l});n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=n(/*! reselect */"./node_modules/reselect/lib/index.js");const a=Object(r.createSelector)(e=>e.thesauris,(e,t)=>t.entity,(e,t)=>t.context,(e,t,n)=>{return e.find(e=>"template"===e.get("type")&&e.get("_id").toString()===n.toString()).get("values").find(e=>e.get("id")===t).get("label")}),i=({title:e})=>(function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}})("span",{className:"entity-title"},void 0,e);i.defaultProps={title:""};const l=(e,t)=>({title:a(e,t)});t.default=Object(s.connect)(l)(i)},"./app/react/Layout/Icon.js":
/*!**********************************!*\
  !*** ./app/react/Layout/Icon.js ***!
  \**********************************/
/*! exports provided: Icon, default */function(e,t,n){"use strict";n.r(t),n.d(t,"Icon",function(){return d});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! react-flags */"./node_modules/react-flags/lib/react-flags.js"),i=n.n(a),l=n(/*! ../UI */"./app/react/UI/index.js");function c(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class d extends s.Component{render(){const{data:e,className:t,size:n}=this.props;let o=null,s=e;if(e&&s.toJS&&(s=s.toJS()),s&&s._id){let e;"Icons"===s.type&&(e=c(l.Icon,{icon:`${s._id}`,size:`${function(e){switch(e){case"xs":return"sm";case"sm":return"lg";case"md":case"lg":case"xlg":return"2x";default:return"sm"}}(n)}`})),"Flags"===s.type&&(e=c(i.a,{name:s._id,format:"png",pngSize:function(e){switch(e){case"xs":return 16;case"sm":return 24;case"md":return 32;case"lg":return 48;case"xlg":return 64;default:return 16}}(n),shiny:!0,alt:`${s.label} flag`,basePath:"/flag-images"})),o=c("span",{className:t},void 0,e)}return o}}t.default=Object(r.connect)()(d)},"./app/react/Layout/Item.js":
/*!**********************************!*\
  !*** ./app/react/Layout/Item.js ***!
  \**********************************/
/*! exports provided: Item, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"Item",function(){return y}),n.d(t,"mapStateToProps",function(){return v});var o,s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),a=n.n(r),i=n(/*! ../Metadata */"./app/react/Metadata/index.js"),l=n(/*! ../utils/prioritySortingCriteria */"./app/react/utils/prioritySortingCriteria.js"),c=n(/*! ./Lists */"./app/react/Layout/Lists.js"),d=n(/*! ./DocumentLanguage */"./app/react/Layout/DocumentLanguage.js"),u=n(/*! ./Icon */"./app/react/Layout/Icon.js"),p=n(/*! ./Tip */"./app/react/Layout/Tip.js"),m=n(/*! ./ItemSnippet */"./app/react/Layout/ItemSnippet.js"),f=n(/*! ./TemplateLabel */"./app/react/Layout/TemplateLabel.js");function h(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class y extends r.Component{getSearchSnipett(e){return!(!e.snippets||!e.snippets.count)&&h(m.default,{onSnippetClick:this.props.onSnippetClick,snippets:e.snippets,doc:e})}render(){const{onClick:e,onMouseEnter:t,onMouseLeave:n,active:o,additionalIcon:s,additionalText:r,buttons:l}=this.props,m=this.props.doc.toJS(),y=r?h("div",{className:"item-snippet-wrapper"},void 0,h("div",{className:"item-snippet"},void 0,r)):null,v={className:`item-document ${this.props.className||""}`,onClick:e,onMouseEnter:t,onMouseLeave:n,active:o,tabIndex:"1"};return a.a.createElement(c.RowList.Item,v,this.props.itemHeader,h("div",{className:"item-info"},void 0,h("div",{className:"item-name"},void 0,s||"",h(u.default,{className:"item-icon item-icon-center",data:m.icon}),h("span",{},void 0,m[this.props.titleProperty]),h(d.default,{doc:this.props.doc})),y,this.getSearchSnipett(m)),h("div",{className:"item-metadata"},void 0,h(i.FormatMetadata,{entity:this.props.noMetadata?{}:m,sortedProperty:this.props.search.sort,additionalMetadata:this.props.additionalMetadata,renderLabel:(e,t)=>!e.noLabel&&t})),h(c.ItemFooter,{},void 0,!!m.template&&h(f.default,{template:m.template}),m.published?"":h(p.default,{icon:"eye-slash"},void 0,"This entity is not public."),this.props.labels,l))}}y.defaultProps={onClick:()=>{},onMouseEnter:()=>{},onMouseLeave:()=>{},noMetadata:!1},y.defaultProps={search:l.default.get(),titleProperty:"title"};const v=({templates:e,thesauris:t},n)=>{const o=n.searchParams;return{templates:n.templates||e,thesauris:t,search:o}};t.default=Object(s.connect)(v)(y)},"./app/react/Layout/ItemSnippet.js":
/*!*****************************************!*\
  !*** ./app/react/Layout/ItemSnippet.js ***!
  \*****************************************/
/*! exports provided: ItemSnippet, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ItemSnippet",function(){return u}),n.d(t,"mapStateToProps",function(){return p});var o,s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),a=n.n(r),i=n(/*! ../utils/SafeHTML */"./app/react/utils/SafeHTML.js"),l=n(/*! ../Templates/utils/getFieldLabel */"./app/react/Templates/utils/getFieldLabel.js"),c=n(/*! ../I18N/t */"./app/react/I18N/t.js");function d(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const u=({snippets:e,onSnippetClick:t,template:n})=>{let o,s;e.metadata.length?(s=Object(l.default)(e.metadata[0].field,n),[o]=e.metadata[0].texts):(s=Object(c.default)("System","Document contents"),o=e.fullText[0].text);const r=d(a.a.Fragment,{},void 0,d("div",{className:"item-snippet-source"},void 0,s),d("div",{onClick:t,className:"item-snippet"},void 0,d(i.default,{},void 0,o)));return 1===e.count?d("div",{className:"item-snippet-wrapper"},void 0,r):d("div",{className:"item-snippet-wrapper"},void 0,r,d("div",{},void 0,d("a",{onClick:t},void 0,Object(c.default)("System","Show more"))))};u.defaultProps={onSnippetClick:void 0};const p=(e,t)=>({template:e.templates.find(e=>e.get("_id")===t.doc.template)});t.default=Object(s.connect)(p)(u)},"./app/react/Layout/Lists.js":
/*!***********************************!*\
  !*** ./app/react/Layout/Lists.js ***!
  \***********************************/
/*! exports provided: List, RowList, ItemFooter, ItemName */function(e,t,n){"use strict";n.r(t),n.d(t,"List",function(){return a}),n.d(t,"RowList",function(){return c}),n.d(t,"ItemFooter",function(){return l}),n.d(t,"ItemName",function(){return i});n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! ../UI */"./app/react/UI/index.js");function r(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const a=({children:e})=>r("div",{className:"item-group"},void 0,e),i=({children:e})=>r("div",{className:"item-name"},void 0,r("span",{},void 0,e)),l=({children:e,onClick:t})=>r("div",{className:"item-actions",onClick:t},void 0,e);l.Label=(({children:e,status:t})=>{let n="";return"success"===t&&(n=r(s.Icon,{icon:"check"})),"danger"===t&&(n=r(s.Icon,{icon:"times"})),"warning"===t&&(n=r(s.Icon,{icon:"exclamation-triangle"})),r("span",{className:`label label-${t||"default"}`},void 0,n," ",r("span",{},void 0,e))}),l.ProgressBar=(({progress:e})=>{let t=`${e} % Completed`,n="upload";return 100===e&&(t="Processing...",n="clock"),r("div",{className:"label-progress"},void 0,r("span",{className:"label label-info"},void 0,r(s.Icon,{icon:n})," ",r("span",{},void 0,t)),r("div",{className:"progress"},void 0,r("div",{className:"progress-bar progress-bar-striped active",style:{width:`${e}%`}})))});const c=({children:e,zoomLevel:t})=>r("div",{className:`item-group item-group-zoom-${t}`},void 0,e);c.Item=(({children:e,status:t,onClick:n,onMouseEnter:o,onMouseLeave:s,active:a,className:i})=>{let l="";return!0===a&&(l="is-active"),!1===a&&(l="is-disabled"),r("div",{className:`${i} item item-status item-${t||"default"} ${l}`,onClick:n,onMouseEnter:o,onMouseLeave:s},void 0,e)}),c.defaultProps={children:"",zoomLevel:0}},"./app/react/Layout/Modal.js":
/*!***********************************!*\
  !*** ./app/react/Layout/Modal.js ***!
  \***********************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return l});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-modal */"./node_modules/react-modal/lib/index.js"),a=n.n(r);function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class l extends s.Component{render(){const e=this.props.type||"success";return i(a.a,{style:{overlay:{zIndex:100,backgroundColor:"rgba(0, 0, 0, 0.75)"}},className:`modal-dialog modal-${e}`,isOpen:this.props.isOpen,contentLabel:"",ariaHideApp:!1},void 0,i("div",{className:"modal-content"},void 0,this.props.children))}}l.Body=(({children:e})=>i("div",{className:"modal-body"},void 0,e)),l.Header=(({children:e})=>i("div",{className:"modal-header"},void 0,e)),l.Footer=(({children:e})=>i("div",{className:"modal-footer"},void 0,e)),l.Title=(({children:e})=>i("h4",{className:"modal-title"},void 0,e)),l.Close=(({onClick:e})=>i("button",{type:"button",className:"close",onClick:e},void 0,i("span",{"aria-hidden":"true"},void 0,"×"),i("span",{className:"sr-only"},void 0,"Close")))},"./app/react/Layout/SearchInput.js":
/*!*****************************************!*\
  !*** ./app/react/Layout/SearchInput.js ***!
  \*****************************************/
/*! exports provided: SearchInput, default */function(e,t,n){"use strict";n.r(t),n.d(t,"SearchInput",function(){return d});var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=n(/*! ../UI */"./app/react/UI/index.js"),i=n(/*! ../Library/components/SearchTips */"./app/react/Library/components/SearchTips.js");function l(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}class d extends s.Component{render(){return l("div",{className:"input-group"},void 0,r.a.createElement("input",c({type:"text",className:"form-control",placeholder:"Search"},this.props)),l(a.Icon,{icon:"search"}),l(i.default,{}))}}t.default=d},"./app/react/Layout/SidePanel.js":
/*!***************************************!*\
  !*** ./app/react/Layout/SidePanel.js ***!
  \***************************************/
/*! exports provided: SidePanel, default */function(e,t,n){"use strict";n.r(t),n.d(t,"SidePanel",function(){return r});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js");class r extends s.Component{render(){return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("aside",{className:`side-panel ${this.props.className||""} ${this.props.open?"is-active":"is-hidden"}`},void 0,this.props.children)}}t.default=r},"./app/react/Layout/TemplateLabel.js":
/*!*******************************************!*\
  !*** ./app/react/Layout/TemplateLabel.js ***!
  \*******************************************/
/*! exports provided: TemplateLabel, default */function(e,t,n){"use strict";n.r(t),n.d(t,"TemplateLabel",function(){return p});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! reselect */"./node_modules/reselect/lib/index.js"),i=n(/*! ../utils/colors */"./app/react/utils/colors.js"),l=n(/*! ../I18N/t */"./app/react/I18N/t.js");function c(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=Object(a.createSelector)(e=>e.templates,(e,t)=>t.template,(e,t)=>{let n;return{name:e.reduce((e,o,s)=>o.get("_id")===t?(n=o.get("color")?{className:"btn-color",style:{backgroundColor:o.get("color")}}:{className:`btn-color btn-color-${s%i.COLORS.length}`},o.get("name")):e,""),styleProps:n}});class p extends s.Component{render(){const{name:e,template:t,className:n,style:s}=this.props;return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("span",{className:n,style:s},void 0,Object(l.default)(t,e))}}p.defaultProps={className:"btn-color",style:void 0};t.default=Object(r.connect)((e,t)=>{const n=u(e,t);return function(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};c(n,!0).forEach(function(t){d(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):c(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}({name:n.name,template:t.template},n.styleProps)})(p)},"./app/react/Layout/Thumbnail.js":
/*!***************************************!*\
  !*** ./app/react/Layout/Thumbnail.js ***!
  \***************************************/
/*! exports provided: Thumbnail, default */function(e,t,n){"use strict";n.r(t),n.d(t,"Thumbnail",function(){return l});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js");function r(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const a=e=>e.substr(e.lastIndexOf(".")+1),i=["png","gif","jpg"];class l extends s.Component{render(){const e=a(this.props.file);let t;return i.includes(e)&&(t=r("img",{src:this.props.file,alt:this.props.alt})),"pdf"===e&&(t=r("span",{},void 0,r("i",{className:"far fa-file-pdf"})," pdf")),r("div",{className:"thumbnail"},void 0,t)}}l.defaultProps={alt:""},t.default=l},"./app/react/Layout/Tip.js":
/*!*********************************!*\
  !*** ./app/react/Layout/Tip.js ***!
  \*********************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! ../UI */"./app/react/UI/index.js");function r(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const a=({children:e,icon:t})=>r("span",{className:"property-help"},void 0,r(s.Icon,{icon:t}),r("div",{className:"property-description"},void 0,e));a.defaultProps={icon:"question-circle"},t.default=a},"./app/react/Layout/ToggleDisplay.js":
/*!*******************************************!*\
  !*** ./app/react/Layout/ToggleDisplay.js ***!
  \*******************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s);function a(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class i extends r.a.Component{constructor(e){super(e),this.state={show:e.open},this.show=this.show.bind(this),this.hide=this.hide.bind(this)}show(){this.setState({show:!0})}hide(){this.setState({show:!1}),this.props.onHide()}render(){return a(r.a.Fragment,{},void 0,!this.state.show&&a("button",{onClick:this.show},void 0,this.props.showLabel),this.state.show&&a("button",{onClick:this.hide},void 0,this.props.hideLabel),this.state.show&&this.props.children)}}i.defaultProps={onHide:()=>{},showLabel:"show",hideLabel:"hide",open:!1},t.default=i},"./app/react/Layout/Warning.js":
/*!*************************************!*\
  !*** ./app/react/Layout/Warning.js ***!
  \*************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! ../UI */"./app/react/UI/index.js");function r(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const a=({children:e,inline:t})=>t?r("div",{className:"alert alert-warning fade in"},void 0,r(s.Icon,{icon:"exclamation-triangle"}),e):r("span",{className:"property-help"},void 0,r(s.Icon,{icon:"exclamation-triangle"}),r("div",{className:"property-description"},void 0,e));a.defaultProps={inline:!1},t.default=a},"./app/react/Layout/index.js":
/*!***********************************!*\
  !*** ./app/react/Layout/index.js ***!
  \***********************************/
/*! exports provided: Item, TemplateLabel, Icon, Tip, SidePanel, DocumentLanguage, Thumbnail, ConfirmButton, CurrentLocationLink, Warning, BackButton, EntityTitle */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./Item */"./app/react/Layout/Item.js");n.d(t,"Item",function(){return o.default});var s=n(/*! ./TemplateLabel */"./app/react/Layout/TemplateLabel.js");n.d(t,"TemplateLabel",function(){return s.default});var r=n(/*! ./Icon */"./app/react/Layout/Icon.js");n.d(t,"Icon",function(){return r.default});var a=n(/*! ./Tip */"./app/react/Layout/Tip.js");n.d(t,"Tip",function(){return a.default});var i=n(/*! ./SidePanel */"./app/react/Layout/SidePanel.js");n.d(t,"SidePanel",function(){return i.default});var l=n(/*! ./DocumentLanguage */"./app/react/Layout/DocumentLanguage.js");n.d(t,"DocumentLanguage",function(){return l.default});var c=n(/*! ./Thumbnail */"./app/react/Layout/Thumbnail.js");n.d(t,"Thumbnail",function(){return c.default});var d=n(/*! ./ConfirmButton */"./app/react/Layout/ConfirmButton.js");n.d(t,"ConfirmButton",function(){return d.default});var u=n(/*! ./CurrentLocationLink */"./app/react/Layout/CurrentLocationLink.js");n.d(t,"CurrentLocationLink",function(){return u.default});var p=n(/*! ./Warning */"./app/react/Layout/Warning.js");n.d(t,"Warning",function(){return p.default});var m=n(/*! ./BackButton */"./app/react/Layout/BackButton.js");n.d(t,"BackButton",function(){return m.default});var f=n(/*! ./EntityTitle */"./app/react/Layout/EntityTitle.js");n.d(t,"EntityTitle",function(){return f.default})},"./app/react/Library/Library.js":
/*!**************************************!*\
  !*** ./app/react/Library/Library.js ***!
  \**************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return y});var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=n(/*! ../App/RouteHandler */"./app/react/App/RouteHandler.js"),i=n(/*! ./components/DocumentsList */"./app/react/Library/components/DocumentsList.js"),l=n(/*! ./components/LibraryModeToggleButtons */"./app/react/Library/components/LibraryModeToggleButtons.js"),c=n(/*! ./actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),d=n(/*! ./helpers/requestState */"./app/react/Library/helpers/requestState.js"),u=n(/*! ./components/SearchButton */"./app/react/Library/components/SearchButton.js"),p=n(/*! ./LibraryLayout */"./app/react/Library/LibraryLayout.js"),m=n(/*! ../Multireducer */"./app/react/Multireducer/index.js"),f=n(/*! ../Uploads/components/ImportProgress */"./app/react/Uploads/components/ImportProgress.js");function h(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class y extends a.default{constructor(e,t){super(e,t),this.superComponentWillReceiveProps=super.componentWillReceiveProps}static renderTools(){return h(r.a.Fragment,{},void 0,h("div",{className:"searchBox"},void 0,h(u.default,{storeKey:"library"})),h(f.default,{}))}static async requestState(e,t){return Object(d.default)(e,t)}urlHasChanged(e){return e.location.query.q!==this.props.location.query.q}componentWillMount(){const{dispatch:e}=this.context.store;Object(m.wrapDispatch)(e,"library")(Object(c.enterLibrary)()),this.zoomIn=(()=>Object(m.wrapDispatch)(e,"library")(Object(c.zoomIn)())),this.zoomOut=(()=>Object(m.wrapDispatch)(e,"library")(Object(c.zoomOut)()))}render(){return h(p.default,{},void 0,h(l.default,{storeKey:"library",zoomIn:this.zoomIn,zoomOut:this.zoomOut}),h(i.default,{storeKey:"library"}))}}},"./app/react/Library/LibraryLayout.js":
/*!********************************************!*\
  !*** ./app/react/Library/LibraryLayout.js ***!
  \********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return y});var o,s=n(/*! react */"./node_modules/react/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! ../Auth */"./app/react/Auth/index.js")),a=n(/*! ./components/Welcome */"./app/react/Library/components/Welcome.js"),i=n(/*! ./components/LibraryFilters */"./app/react/Library/components/LibraryFilters.js"),l=n(/*! react-helmet */"./node_modules/react-helmet/lib/Helmet.js"),c=n.n(l),d=n(/*! ./components/ViewMetadataPanel */"./app/react/Library/components/ViewMetadataPanel.js"),u=n(/*! ./containers/SelectMultiplePanelContainer */"./app/react/Library/containers/SelectMultiplePanelContainer.js"),p=n(/*! ../SemanticSearch/components/SemanticSearchPanel */"./app/react/SemanticSearch/components/SemanticSearchPanel.js"),m=n(/*! ../I18N */"./app/react/I18N/index.js"),f=n(/*! ./helpers/blankState */"./app/react/Library/helpers/blankState.js");function h(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class y extends s.Component{render(){if(Object(f.default)())return h(a.default,{});const{className:e,children:t}=this.props;return h("div",{className:"row panels-layout"},void 0,h(c.a,{title:Object(m.t)("System","Library",null,!1)}),h("main",{className:`library-viewer document-viewer with-panel ${e}`},void 0,t),h(i.default,{storeKey:"library"}),h(d.default,{storeKey:"library"}),h(u.default,{storeKey:"library"}),h(r.NeedAuthorization,{roles:["admin","editor"]},void 0,h(p.default,{storeKey:"library"})))}}y.defaultProps={className:""}},"./app/react/Library/LibraryMap.js":
/*!*****************************************!*\
  !*** ./app/react/Library/LibraryMap.js ***!
  \*****************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return p});var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=n(/*! ./helpers/requestState */"./app/react/Library/helpers/requestState.js"),i=n(/*! ./components/MapView */"./app/react/Library/components/MapView.js"),l=n(/*! ./LibraryLayout */"./app/react/Library/LibraryLayout.js"),c=n(/*! ./Library */"./app/react/Library/Library.js"),d=n(/*! ./components/LibraryModeToggleButtons */"./app/react/Library/components/LibraryModeToggleButtons.js");function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class p extends c.default{static async requestState(e,t){return Object(a.default)(e,t,"markers")}render(){return u(l.default,{className:"library-map-layout"},void 0,u(d.default,{storeKey:"library",zoomIn:()=>{this.mapView.getWrappedInstance().map.zoomIn()},zoomOut:()=>{this.mapView.getWrappedInstance().map.zoomOut()},zoomLevel:0}),r.a.createElement(i.default,{storeKey:"library",ref:e=>{this.mapView=e}}))}}},"./app/react/Library/actions/actionTypes.js":
/*!**************************************************!*\
  !*** ./app/react/Library/actions/actionTypes.js ***!
  \**************************************************/
/*! exports provided: SET_DOCUMENTS, UNSET_DOCUMENTS, UPDATE_DOCUMENT, UPDATE_DOCUMENTS, SET_LIBRARY_TEMPLATES, ELEMENT_CREATED, REMOVE_DOCUMENT, REMOVE_DOCUMENTS, UPDATE_SELECTED_ENTITIES, SET_SEARCHTERM, SET_PREVIEW_DOC, SET_SUGGESTIONS, SHOW_SUGGESTIONS, HIDE_SUGGESTIONS, OVER_SUGGESTIONS, SET_LIBRARY_FILTERS, UPDATE_LIBRARY_FILTERS, INITIALIZE_FILTERS_FORM, SELECT_DOCUMENT, SELECT_SINGLE_DOCUMENT, SELECT_DOCUMENTS, UNSELECT_DOCUMENT, UNSELECT_ALL_DOCUMENTS, SHOW_FILTERS, HIDE_FILTERS, ENTER_LIBRARY, ZOOM_IN, ZOOM_OUT */function(e,t,n){"use strict";n.r(t),n.d(t,"SET_DOCUMENTS",function(){return o}),n.d(t,"UNSET_DOCUMENTS",function(){return s}),n.d(t,"UPDATE_DOCUMENT",function(){return r}),n.d(t,"UPDATE_DOCUMENTS",function(){return a}),n.d(t,"SET_LIBRARY_TEMPLATES",function(){return i}),n.d(t,"ELEMENT_CREATED",function(){return l}),n.d(t,"REMOVE_DOCUMENT",function(){return c}),n.d(t,"REMOVE_DOCUMENTS",function(){return d}),n.d(t,"UPDATE_SELECTED_ENTITIES",function(){return u}),n.d(t,"SET_SEARCHTERM",function(){return p}),n.d(t,"SET_PREVIEW_DOC",function(){return m}),n.d(t,"SET_SUGGESTIONS",function(){return f}),n.d(t,"SHOW_SUGGESTIONS",function(){return h}),n.d(t,"HIDE_SUGGESTIONS",function(){return y}),n.d(t,"OVER_SUGGESTIONS",function(){return v}),n.d(t,"SET_LIBRARY_FILTERS",function(){return b}),n.d(t,"UPDATE_LIBRARY_FILTERS",function(){return g}),n.d(t,"INITIALIZE_FILTERS_FORM",function(){return j}),n.d(t,"SELECT_DOCUMENT",function(){return S}),n.d(t,"SELECT_SINGLE_DOCUMENT",function(){return _}),n.d(t,"SELECT_DOCUMENTS",function(){return x}),n.d(t,"UNSELECT_DOCUMENT",function(){return w}),n.d(t,"UNSELECT_ALL_DOCUMENTS",function(){return O}),n.d(t,"SHOW_FILTERS",function(){return T}),n.d(t,"HIDE_FILTERS",function(){return C}),n.d(t,"ENTER_LIBRARY",function(){return N}),n.d(t,"ZOOM_IN",function(){return I}),n.d(t,"ZOOM_OUT",function(){return P});const o="SET_DOCUMENTS",s="UNSET_DOCUMENTS",r="LIBRARY/UPDATE_DOCUMENT",a="LIBRARY/UPDATE_DOCUMENTS",i="SET_LIBRARY_TEMPLATES",l="ELEMENT_CREATED",c="REMOVE_DOCUMENT",d="REMOVE_DOCUMENTS",u="UPDATE_SELECTED_ENTITIES",p="SET_SEARCHTERM",m="SET_PREVIEW_DOC",f="SET_SUGGESTIONS",h="SHOW_SUGGESTIONS",y="HIDE_SUGGESTIONS",v="OVER_SUGGESTIONS",b="SET_LIBRARY_FILTERS",g="UPDATE_LIBRARY_FILTERS",j="INITIALIZE_FILTERS_FORM",S="SELECT_DOCUMENT",_="SELECT_SINGLE_DOCUMENT",x="SELECT_DOCUMENTS",w="UNSELECT_DOCUMENT",O="UNSELECT_ALL_DOCUMENTS",T="SHOW_FILTERS",C="HIDE_FILTERS",N="ENTER_LIBRARY",I="ZOOM_IN",P="ZOOM_OUT"},"./app/react/Library/actions/filterActions.js":
/*!****************************************************!*\
  !*** ./app/react/Library/actions/filterActions.js ***!
  \****************************************************/
/*! exports provided: filterDocumentTypes, resetFilters, toggleFilter */function(e,t,n){"use strict";n.r(t),n.d(t,"filterDocumentTypes",function(){return c}),n.d(t,"resetFilters",function(){return d}),n.d(t,"toggleFilter",function(){return u});var o=n(/*! ./actionTypes */"./app/react/Library/actions/actionTypes.js"),s=n(/*! ../helpers/libraryFilters */"./app/react/Library/helpers/libraryFilters.js"),r=n(/*! ../../../shared/comonProperties */"./app/shared/comonProperties.js"),a=n(/*! ./libraryActions */"./app/react/Library/actions/libraryActions.js"),i=n(/*! ../../utils/prioritySortingCriteria */"./app/react/utils/prioritySortingCriteria.js"),l=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js");function c(e,t){return(n,o)=>{const l=o(),c=l.templates.toJS(),d=l.thesauris.toJS();let u=r.default.comonProperties(c,e).filter(e=>e.filter);u=s.default.populateOptions(u,d);const p=e.length?c.filter(t=>e.includes(t._id)):c,{sort:m,order:f}=i.default.get({currentCriteria:{sort:l[t].search.sort,order:l[t].search.order},filteredTemplates:p.map(e=>e._id),templates:l.templates,selectedSorting:l[t].selectedSorting}),h=Object.assign({_types:e},l[t].search,{sort:m,order:f}),y={documentTypes:e,properties:u};n(a.searchDocuments({filters:y,search:h},t))}}function d(e){return(t,n)=>{t({type:o.SET_LIBRARY_FILTERS,documentTypes:[],libraryFilters:[]}),t(l.actions.load(`${e}.search`,{searchTerm:"",filters:{},order:"desc",sort:"creationDate"})),a.searchDocuments({search:n()[e].search},e)(t,n)}}function u(e,t){return n=>{const s=t.map(t=>(t.name===e&&(t.active=!t.active),t));n({type:o.UPDATE_LIBRARY_FILTERS,libraryFilters:s})}}},"./app/react/Library/actions/libraryActions.js":
/*!*****************************************************!*\
  !*** ./app/react/Library/actions/libraryActions.js ***!
  \*****************************************************/
/*! exports provided: enterLibrary, initializeFiltersForm, selectDocument, getAndSelectDocument, selectDocuments, unselectDocument, selectSingleDocument, unselectAllDocuments, updateSelectedEntities, showFilters, hideFilters, setDocuments, unsetDocuments, setTemplates, setPreviewDoc, setSuggestions, hideSuggestions, showSuggestions, setOverSuggestions, zoomIn, zoomOut, filterIsEmpty, processFilters, encodeSearch, searchDocuments, elementCreated, updateEntity, updateEntities, searchSnippets, saveDocument, multipleUpdate, saveEntity, removeDocument, removeDocuments, deleteDocument, deleteEntity, loadMoreDocuments, getSuggestions, getDocumentReferences */function(e,t,n){"use strict";n.r(t),n.d(t,"enterLibrary",function(){return g}),n.d(t,"initializeFiltersForm",function(){return j}),n.d(t,"selectDocument",function(){return S}),n.d(t,"getAndSelectDocument",function(){return _}),n.d(t,"selectDocuments",function(){return x}),n.d(t,"unselectDocument",function(){return w}),n.d(t,"selectSingleDocument",function(){return O}),n.d(t,"unselectAllDocuments",function(){return T}),n.d(t,"updateSelectedEntities",function(){return C}),n.d(t,"showFilters",function(){return N}),n.d(t,"hideFilters",function(){return I}),n.d(t,"setDocuments",function(){return P}),n.d(t,"unsetDocuments",function(){return k}),n.d(t,"setTemplates",function(){return E}),n.d(t,"setPreviewDoc",function(){return R}),n.d(t,"setSuggestions",function(){return A}),n.d(t,"hideSuggestions",function(){return D}),n.d(t,"showSuggestions",function(){return L}),n.d(t,"setOverSuggestions",function(){return M}),n.d(t,"zoomIn",function(){return F}),n.d(t,"zoomOut",function(){return $}),n.d(t,"filterIsEmpty",function(){return U}),n.d(t,"processFilters",function(){return V}),n.d(t,"encodeSearch",function(){return B}),n.d(t,"searchDocuments",function(){return H}),n.d(t,"elementCreated",function(){return q}),n.d(t,"updateEntity",function(){return z}),n.d(t,"updateEntities",function(){return G}),n.d(t,"searchSnippets",function(){return J}),n.d(t,"saveDocument",function(){return K}),n.d(t,"multipleUpdate",function(){return W}),n.d(t,"saveEntity",function(){return Y}),n.d(t,"removeDocument",function(){return Z}),n.d(t,"removeDocuments",function(){return X}),n.d(t,"deleteDocument",function(){return Q}),n.d(t,"deleteEntity",function(){return ee}),n.d(t,"loadMoreDocuments",function(){return te}),n.d(t,"getSuggestions",function(){return ne}),n.d(t,"getDocumentReferences",function(){return oe});var o=n(/*! ./actionTypes */"./app/react/Library/actions/actionTypes.js"),s=n(/*! ../../Search/SearchAPI */"./app/react/Search/SearchAPI.js"),r=n(/*! ../../Notifications */"./app/react/Notifications/index.js"),a=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),i=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),l=n(/*! ../../Documents */"./app/react/Documents/index.js"),c=n(/*! react-router */"./node_modules/react-router/es/index.js"),d=n(/*! rison */"./node_modules/rison/js/rison.js"),u=n.n(d),p=n(/*! ../../Viewer/referencesAPI */"./app/react/Viewer/referencesAPI.js"),m=n(/*! ../../Entities */"./app/react/Entities/index.js"),f=n(/*! ../../../shared/JSONRequest */"./app/shared/JSONRequest.js"),h=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js");function y(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return{type:o.ENTER_LIBRARY}}function j(e={}){return Object.assign(e,{type:o.INITIALIZE_FILTERS_FORM})}function S(e){return(t,n)=>{let s=e;e.toJS&&(s=e.toJS()),"semantic-search-results"!==n().library.sidepanel.tab||s.semanticSearch||t(i.actions.set("library.sidepanel.tab","")),t({type:o.SELECT_DOCUMENT,doc:s})}}function _(e){return t=>{m.api.get(new h.RequestParams({sharedId:e})).then(e=>{t({type:o.SELECT_SINGLE_DOCUMENT,doc:e[0]})})}}function x(e){return{type:o.SELECT_DOCUMENTS,docs:e}}function w(e){return{type:o.UNSELECT_DOCUMENT,docId:e}}function O(e){return{type:o.SELECT_SINGLE_DOCUMENT,doc:e}}function T(){return{type:o.UNSELECT_ALL_DOCUMENTS}}function C(e){return{type:o.UPDATE_SELECTED_ENTITIES,entities:e}}function N(){return{type:o.SHOW_FILTERS}}function I(){return{type:o.HIDE_FILTERS}}function P(e){return{type:o.SET_DOCUMENTS,documents:e}}function k(){return{type:o.UNSET_DOCUMENTS}}function E(e,t){return n=>{n({type:o.SET_LIBRARY_TEMPLATES,templates:e,thesauris:t})}}function R(e){return{type:o.SET_PREVIEW_DOC,docId:e}}function A(e){return{type:o.SET_SUGGESTIONS,suggestions:e}}function D(){return{type:o.HIDE_SUGGESTIONS}}function L(){return{type:o.SHOW_SUGGESTIONS}}function M(e){return{type:o.OVER_SUGGESTIONS,hover:e}}function F(){return{type:o.ZOOM_IN}}function $(){return{type:o.ZOOM_OUT}}function U(e){if(e&&e.values&&!e.values.length)return!0;if(Array.isArray(e)&&!e.length)return!0;if("string"==typeof e&&!e)return!0;if("object"===b(e)){return!Object.keys(e).reduce((t,n)=>t||Boolean(e[n]),!1)}return!1}function V(e,t,n){const o=Object.assign({filters:{}},e);return o.filters={},t.properties.forEach(t=>{if(U(e.filters[t.name])||t.filters||(o.filters[t.name]=e.filters[t.name]),t.filters){const n=Object.assign({},e.filters[t.name]);t.filters.forEach(e=>{U(n[e.name])&&delete n[e.name]}),Object.keys(n).length&&(o.filters[t.name]=n)}}),o.types=t.documentTypes,o.limit=n,o}function B(e,t=!0){return Object.keys(e).forEach(t=>{e[t]&&0===e[t].length&&delete e[t],"object"===b(e[t])&&0===Object.keys(e[t]).length&&delete e[t],""===e[t]&&delete e[t]}),t?`?q=${u.a.encode(e)}`:u.a.encode(e)}function H({search:e,filters:t},n,o=30){return(s,r)=>{const a=r()[n];let l=t||a.filters;l=l.toJS?l.toJS():l;const d=V(e,l,o);d.searchTerm=a.search.searchTerm;const p=u.a.decode(decodeURIComponent(c.browserHistory.getCurrentLocation().q||"()"));d.searchTerm&&d.searchTerm!==p.searchTerm&&(d.sort="_score"),e.userSelectedSorting&&s(i.actions.set(`${n}.selectedSorting`,e)),function(e){const{pathname:t}=c.browserHistory.getCurrentLocation(),n=`${t}/`.replace(/\/\//g,"/"),o=c.browserHistory.getCurrentLocation().query||{};o.q=B(e,!1),c.browserHistory.push(n+Object(f.toUrlParams)(o))}(d)}}function q(e){return{type:o.ELEMENT_CREATED,doc:e}}function z(e){return{type:o.UPDATE_DOCUMENT,doc:e}}function G(e){return{type:o.UPDATE_DOCUMENTS,docs:e}}function J(e,t,n){return o=>s.default.searchSnippets(new h.RequestParams({searchTerm:e,id:t})).then(e=>(o(i.actions.set(`${n}.sidepanel.snippets`,e)),e))}function K(e,t){return n=>l.documentsApi.save(new h.RequestParams(e)).then(e=>{n(r.notificationActions.notify("Document updated","success")),n(a.actions.reset(t)),n(z(e)),n(i.actions.updateIn("library.markers",["rows"],e)),n(O(e))})}function W(e,t){return n=>{const o=e.toJS().map(e=>{const n=function(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};y(n,!0).forEach(function(t){v(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):y(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}({},e);return n.metadata=Object.assign({},n.metadata,t.metadata),t.icon&&(n.icon=t.icon),n}),s=o.map(e=>e.sharedId);return m.api.multipleUpdate(new h.RequestParams({ids:s,values:t})).then(()=>{n(r.notificationActions.notify("Update success","success")),n(G(o))})}}function Y(e,t){return n=>m.api.save(new h.RequestParams(e)).then(o=>{n(a.actions.reset(t)),n(T()),e._id?(n(r.notificationActions.notify("Entity updated","success")),n(z(o)),n(i.actions.updateIn("library.markers",["rows"],o))):(n(r.notificationActions.notify("Entity created","success")),n(q(o))),n(O(o))})}function Z(e){return{type:o.REMOVE_DOCUMENT,doc:e}}function X(e){return{type:o.REMOVE_DOCUMENTS,docs:e}}function Q(e){return t=>l.documentsApi.delete(new h.RequestParams({sharedId:e.sharedId})).then(()=>{t(r.notificationActions.notify("Document deleted","success")),t(T()),t(Z(e))})}function ee(e){return t=>m.api.delete(e).then(()=>{t(r.notificationActions.notify("Entity deleted","success")),t(w(e._id)),t(Z(e))})}function te(e,t){return(n,o)=>{H({search:o()[e].search},e,t)(n,o)}}function ne(){return{type:"GET_SUGGESTIONS"}}function oe(e,t){return n=>p.default.get(new h.RequestParams({sharedId:e})).then(e=>{n(i.actions.set(`${t}.sidepanel.references`,e))})}},"./app/react/Library/components/DateFilter.js":
/*!****************************************************!*\
  !*** ./app/react/Library/components/DateFilter.js ***!
  \****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! ../../ReactReduxForms */"./app/react/ReactReduxForms/index.js");n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js");function r(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const a=({onChange:e,model:t,label:n,format:o})=>r("ul",{className:"search__filter is-active"},void 0,r("li",{},void 0,r("label",{},void 0,n)),r("li",{className:"wide"},void 0,r(s.DateRange,{model:t,onChange:e,format:o})));a.defaultProps={onChange:()=>{},label:"",format:""},t.default=a},"./app/react/Library/components/Doc.js":
/*!*********************************************!*\
  !*** ./app/react/Library/components/Doc.js ***!
  \*********************************************/
/*! exports provided: Doc, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"Doc",function(){return v}),n.d(t,"mapStateToProps",function(){return b});var o,s=n(/*! prop-types */"./node_modules/prop-types/index.js"),r=n.n(s),a=n(/*! react */"./node_modules/react/index.js"),i=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),l=n(/*! ../../Auth */"./app/react/Auth/index.js"),c=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),d=n(/*! ../../I18N */"./app/react/I18N/index.js"),u=n(/*! ./UploadEntityStatus */"./app/react/Library/components/UploadEntityStatus.js"),p=n(/*! ./ViewDocButton */"./app/react/Library/components/ViewDocButton.js"),m=n(/*! ../../UI */"./app/react/UI/index.js"),f=n(/*! ../../Layout */"./app/react/Layout/index.js"),h=n(/*! immutable */"./node_modules/immutable/dist/immutable.js");function y(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class v extends a.Component{shouldComponentUpdate(e){return!Object(h.is)(this.props.doc,e.doc)||!Object(h.is)(this.props.targetReference,e.targetReference)||this.props.additionalText!==e.additionalText||this.props.active!==e.active||this.props.searchParams&&e.searchParams&&this.props.searchParams.sort!==e.searchParams.sort}onClick(e){this.props.onClick&&this.props.onClick(e,this.props.doc,this.props.active)}getConnections(e){return y("div",{},void 0,e.map((e,t)=>y("div",{className:"item-connection"},t,y("div",{},void 0,y(m.Icon,{icon:"exchange-alt"}),y("span",{},void 0,Object(d.t)(e.context,e.label),"metadata"===e.type?` ${Object(d.t)("System","in")}...`:"")),y(l.NeedAuthorization,{roles:["admin","editor"]},void 0,y(c.default,{if:"metadata"!==e.sourceType},void 0,y("button",{className:"btn btn-default btn-hover-danger btn-xs",onClick:t=>this.deleteConnection(t,e)},void 0,y(m.Icon,{icon:"trash-alt"})))))))}deleteConnection(e,t){e.stopPropagation();const{_id:n,sourceType:o}=t;this.props.deleteConnection({_id:n,sourceType:o})}render(){const{className:e,additionalText:t,targetReference:n}=this.props,o=this.props.doc.toJS(),{sharedId:s,file:r,processed:a}=o;let i=null;o.connections&&o.connections.length&&(i=this.getConnections(o.connections));const l=y("div",{},void 0,y(p.default,{file:r,sharedId:s,processed:a,storeKey:this.props.storeKey,targetReference:n}));return y(f.Item,{onClick:this.onClick.bind(this),onSnippetClick:this.props.onSnippetClick,active:this.props.active,doc:this.props.doc,additionalText:t,searchParams:this.props.searchParams,deleteConnection:this.props.deleteConnection,itemHeader:i,buttons:l,labels:y(u.default,{doc:this.props.doc}),className:e})}}function b(e,t){return{active:!!t.storeKey&&!!e[t.storeKey].ui.get("selectedDocuments").find(e=>e.get("_id")===t.doc.get("_id"))}}v.defaultProps={targetReference:null},v.contextTypes={confirm:r.a.func},t.default=Object(i.connect)(b)(v)},"./app/react/Library/components/DocumentTypesList.js":
/*!***********************************************************!*\
  !*** ./app/react/Library/components/DocumentTypesList.js ***!
  \***********************************************************/
/*! exports provided: DocumentTypesList, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"DocumentTypesList",function(){return f}),n.d(t,"mapStateToProps",function(){return h});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! redux */"./node_modules/redux/es/index.js"),a=n(/*! ../../Multireducer */"./app/react/Multireducer/index.js"),i=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),l=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),c=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),d=n(/*! ../../I18N */"./app/react/I18N/index.js"),u=n(/*! ../../UI */"./app/react/UI/index.js"),p=n(/*! ../actions/filterActions */"./app/react/Library/actions/filterActions.js");function m(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class f extends s.Component{constructor(e){super(e);let t=this.props.settings.collection.toJS().filters||[];t.length&&"uploads"!==this.props.storeKey||(t=e.templates.toJS().map(e=>({id:e._id,name:e.name}))),"uploads"===this.props.storeKey&&t.unshift({id:"missing",name:"No type"}),this.state={items:t,ui:{}}}shouldComponentUpdate(e,t){return!Object(c.is)(this.props.libraryFilters,e.libraryFilters)||!Object(c.is)(this.props.settings,e.settings)||!Object(c.is)(this.props.aggregations,e.aggregations)||this.stateChanged(t)}changeAll(e,t){const n=this.props.libraryFilters.toJS().documentTypes||[];t.target.checked&&e.items.forEach(e=>{this.checked(e)||n.push(e.id)}),t.target.checked||e.items.forEach(e=>{if(this.checked(e)){const t=n.indexOf(e.id);n.splice(t,1)}}),this.setState({selectedItems:n}),this.props.filterDocumentTypes(n,this.props.storeKey)}change(e){const t=this.props.libraryFilters.toJS().documentTypes||[];if(t.includes(e.id)){const n=t.indexOf(e.id);t.splice(n,1)}else t.push(e.id);this.setState({selectedItems:t}),this.props.filterDocumentTypes(t,this.props.storeKey)}toggleOptions(e,t){if(t.preventDefault(),!this.checked(e)&&e.items.find(e=>this.checked(e)))return;const{ui:n}=this.state;n[e.id]=!n[e.id],this.setState({ui:n})}aggregations(e){const t=this.aggs,n=(t.all&&t.all._types?t.all._types.buckets:[]).find(t=>t.key===e.id);return n?n.filtered.doc_count:e.items?e.items.reduce((e,t)=>e+this.aggregations(t),0):0}showSubOptions(e){return!!(this.state.ui[e.id]||!this.checked(e)&&e.items.find(e=>this.checked(e)))}checked(e){return e.items?e.items.reduce((e,t)=>e&&this.checked(t),e.items.length>0):this.props.libraryFilters.toJS().documentTypes.includes(e.id)}stateChanged(e){return Object.keys(e.ui).length===Object.keys(this.state.ui).length||Object.keys(e.ui).reduce((t,n)=>t||e.ui[n]===this.state.ui[n],!1)}renderSingleType(e,t){const n="missing"===e.id?"System":e.id;return m("li",{className:"multiselectItem",title:e.name},t,m("input",{type:"checkbox",className:"multiselectItem-input",value:e.id,id:e.id,onChange:this.change.bind(this,e),checked:this.checked(e)}),m("label",{className:"multiselectItem-label",htmlFor:e.id},void 0,m("span",{className:"multiselectItem-icon"},void 0,m(u.Icon,{icon:["far","square"],className:"checkbox-empty"}),m(u.Icon,{icon:"check",className:"checkbox-checked"})),m("span",{className:"multiselectItem-name"},void 0,m(d.Translate,{context:n},void 0,e.name))),m("span",{className:"multiselectItem-results"},void 0,this.aggregations(e)))}renderGroupType(e,t){return m("li",{},t,m("div",{className:"multiselectItem"},void 0,m("input",{type:"checkbox",className:"form-control multiselectItem-input",id:e.id,onChange:this.changeAll.bind(this,e),checked:this.checked(e)}),m("label",{htmlFor:e.id,className:"multiselectItem-label"},void 0,m("span",{className:"multiselectItem-icon"},void 0,m(u.Icon,{icon:["far","square"],className:"checkbox-empty"}),m(u.Icon,{icon:"check",className:"checkbox-checked"})),m("span",{className:"multiselectItem-name"},void 0,m("b",{},void 0,Object(d.t)("Filters",e.name)))),m("span",{className:"multiselectItem-results"},void 0,m("span",{},void 0,this.aggregations(e)),m("span",{className:"multiselectItem-action",onClick:this.toggleOptions.bind(this,e)},void 0,m(u.Icon,{icon:this.state.ui[e.id]?"caret-up":"caret-down"})))),m(l.default,{if:this.showSubOptions(e)},void 0,m("ul",{className:"multiselectChild is-active"},void 0,e.items.map((e,t)=>this.renderSingleType(e,t)))))}render(){return this.aggs=this.props.aggregations.toJS(),m("ul",{className:"multiselect is-active"},void 0,this.state.items.map((e,t)=>e.items?this.renderGroupType(e,t):this.renderSingleType(e,t)))}}function h(e,t){return{libraryFilters:e[t.storeKey].filters,settings:e.settings,templates:e.templates,aggregations:e[t.storeKey].aggregations}}t.default=Object(i.connect)(h,function(e,t){return Object(r.bindActionCreators)({filterDocumentTypes:p.filterDocumentTypes},Object(a.wrapDispatch)(e,t.storeKey))})(f)},"./app/react/Library/components/DocumentsList.js":
/*!*******************************************************!*\
  !*** ./app/react/Library/components/DocumentsList.js ***!
  \*******************************************************/
/*! exports provided: clickOnDocument, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"clickOnDocument",function(){return c}),n.d(t,"mapStateToProps",function(){return d});var o=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),s=n(/*! redux */"./node_modules/redux/es/index.js"),r=n(/*! ../../Multireducer */"./app/react/Multireducer/index.js"),a=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),i=n(/*! ../actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),l=n(/*! ../../Layout/DocumentsList */"./app/react/Layout/DocumentsList.js");function c(e,t,n){const o=this.props.authorized,s=e.metaKey||e.ctrlKey||e.shiftKey;if(s&&o||this.props.unselectAllDocuments(),n&&!s||!o)return this.props.selectDocument(t);if(n)return this.props.unselectDocument(t.get("_id"));if(!n&&e.shiftKey&&o){const e=this.props.selectedDocuments.last(),n=this.props.documents.get("rows"),o=n.reduce((t,n,o)=>n.get("_id")===e.get("_id")?o:t,-1),s=n.reduce((e,n,o)=>n.get("_id")===t.get("_id")?o:e,-1);let r=n.slice(o,s+1);return s<o&&(r=n.slice(s,o+1)),this.props.selectDocuments(r.toJS())}return this.props.selectDocument(t)}function d(e,t){return{documents:e[t.storeKey].documents,filters:e[t.storeKey].filters,filtersPanel:e[t.storeKey].ui.get("filtersPanel"),search:e[t.storeKey].search,authorized:!!e.user.get("_id"),selectedDocuments:e[t.storeKey].ui.get("selectedDocuments"),multipleSelected:e[t.storeKey].ui.get("selectedDocuments").size>1,rowListZoomLevel:e[t.storeKey].ui.get("zoomLevel"),clickOnDocument:c}}t.default=Object(o.connect)(d,function(e,t){return Object(s.bindActionCreators)({loadMoreDocuments:i.loadMoreDocuments,searchDocuments:i.searchDocuments,selectDocument:i.selectDocument,selectDocuments:i.selectDocuments,unselectDocument:i.unselectDocument,unselectAllDocuments:i.unselectAllDocuments,onSnippetClick:()=>a.actions.set(`${t.storeKey}.sidepanel.tab`,"text-search")},Object(r.wrapDispatch)(e,t.storeKey))})(l.default)},"./app/react/Library/components/FiltersForm.js":
/*!*****************************************************!*\
  !*** ./app/react/Library/components/FiltersForm.js ***!
  \*****************************************************/
/*! exports provided: FiltersForm, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"FiltersForm",function(){return v}),n.d(t,"mapStateToProps",function(){return b});var o,s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! redux */"./node_modules/redux/es/index.js"),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),l=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),c=n(/*! ../../UI */"./app/react/UI/index.js"),d=n(/*! ../actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),u=n(/*! ../../I18N */"./app/react/I18N/index.js"),p=n(/*! ../../Multireducer */"./app/react/Multireducer/index.js"),m=n(/*! ../../utils/debounce */"./app/react/utils/debounce.js"),f=n(/*! ../helpers/libraryFilters */"./app/react/Library/helpers/libraryFilters.js"),h=n(/*! ./FiltersFromProperties */"./app/react/Library/components/FiltersFromProperties.js");function y(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class v extends l.Component{constructor(e){super(e),this.search=Object(m.default)(e=>{this.props.searchDocuments({search:e},this.props.storeKey)},300),this.submit=this.submit.bind(this),this.onChange=this.onChange.bind(this),this.activateAutoSearch=(()=>{this.autoSearch=!0})}shouldComponentUpdate(e){return!Object(i.is)(this.props.fields,e.fields)||!Object(i.is)(this.props.aggregations,e.aggregations)||!Object(i.is)(this.props.documentTypes,e.documentTypes)}onChange(e){this.autoSearch&&(this.autoSearch=!1,this.search(e,this.props.storeKey))}submit(e){this.props.searchDocuments({search:e},this.props.storeKey)}render(){const{templates:e,documentTypes:t}=this.props,n=this.props.aggregations.toJS(),o=t.get(0),r=this.props.fields.toJS(),a=t.size,i=f.default.parseWithAggregations(r.slice(0),n,a).filter(e=>!e.options||e.options.length),l=`${this.props.storeKey}.search`;return y("div",{className:"filters-box"},void 0,e.filter(e=>t.includes(e.get("_id"))).size>0&&0===i.length?y("div",{className:"blank-state"},void 0,y(c.Icon,{icon:"times"}),y("h4",{},void 0,Object(u.t)("System","No common filters")),y("p",{},void 0,"The combination of document and entity types doesn't have any filters in common."),y("a",{href:"https://github.com/huridocs/uwazi/wiki/Filter",target:"_blank",rel:"noopener noreferrer"},void 0,"Learn more")):null,y(s.Form,{model:l,id:"filtersForm",onSubmit:this.submit,onChange:this.onChange},void 0,y(h.default,{onChange:this.activateAutoSearch,properties:i,translationContext:o,storeKey:this.props.storeKey})))}}function b(e,t){return{fields:e[t.storeKey].filters.get("properties"),aggregations:e[t.storeKey].aggregations,templates:e.templates,documentTypes:e[t.storeKey].filters.get("documentTypes")}}t.default=Object(a.connect)(b,function(e,t){return Object(r.bindActionCreators)({searchDocuments:d.searchDocuments},Object(p.wrapDispatch)(e,t.storeKey))})(v)},"./app/react/Library/components/FiltersFromProperties.js":
/*!***************************************************************!*\
  !*** ./app/react/Library/components/FiltersFromProperties.js ***!
  \***************************************************************/
/*! exports provided: FiltersFromProperties, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"FiltersFromProperties",function(){return b}),n.d(t,"mapStateToProps",function(){return g});var o,s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=(n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),a=n.n(r),i=n(/*! ../../I18N */"./app/react/I18N/index.js"),l=n(/*! ../../DocumentForm/components/FormGroup */"./app/react/DocumentForm/components/FormGroup.js"),c=n(/*! ./DateFilter */"./app/react/Library/components/DateFilter.js"),d=n(/*! ./NestedFilter */"./app/react/Library/components/NestedFilter.js"),u=n(/*! ./NumberRangeFilter */"./app/react/Library/components/NumberRangeFilter.js"),p=n(/*! ./SelectFilter */"./app/react/Library/components/SelectFilter.js"),m=n(/*! ./TextFilter */"./app/react/Library/components/TextFilter.js"),f=n(/*! ./RelationshipFilter */"./app/react/Library/components/RelationshipFilter.js");function h(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,o,s=function(e,t){if(null==e)return{};var n,o,s={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}const b=e=>{let{onChange:t,properties:n,translationContext:o,modelPrefix:s=""}=e,r=v(e,["onChange","properties","translationContext","modelPrefix"]);return h(a.a.Fragment,{},void 0,n.map(e=>{const n={model:`.filters${s}.${e.name}`,label:Object(i.t)(o,e.label),onChange:t};let v=a.a.createElement(m.default,n);return"relationshipfilter"===e.type&&(v=a.a.createElement(f.default,y({},n,{storeKey:r.storeKey,translationContext:o,property:e}))),"numeric"===e.type&&(v=a.a.createElement(u.default,n)),"select"!==e.type&&"multiselect"!==e.type&&"relationship"!==e.type||(v=a.a.createElement(p.default,y({},n,{options:(e=>e.options.map(t=>(t.label=Object(i.t)(e.content,t.label,null,!1),t.values&&(t.options=t.values.map(t=>(t.label=Object(i.t)(e.content,t.label,null,!1),t))),t)))(e),prefix:e.name,showBoolSwitch:"multiselect"===e.type||"relationship"===e.type,sort:"relationship"===e.type}))),"nested"===e.type&&(v=a.a.createElement(d.default,y({},n,{property:e,aggregations:r.aggregations}))),"date"!==e.type&&"multidate"!==e.type&&"multidaterange"!==e.type&&"daterange"!==e.type||(v=a.a.createElement(c.default,y({},n,{format:r.dateFormat}))),h(l.default,{},e.name,v)}))};function g(e,t){return{dateFormat:e.settings.collection.get("dateFormat"),aggregations:e[t.storeKey].aggregations,storeKey:t.storeKey}}b.defaultProps={onChange:()=>{},dateFormat:"",modelPrefix:"",translationContext:""},t.default=Object(s.connect)(g)(b)},"./app/react/Library/components/LibraryFilters.js":
/*!********************************************************!*\
  !*** ./app/react/Library/components/LibraryFilters.js ***!
  \********************************************************/
/*! exports provided: LibraryFilters, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"LibraryFilters",function(){return h}),n.d(t,"mapStateToProps",function(){return y});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! ../../Multireducer */"./app/react/Multireducer/index.js"),l=n(/*! ../actions/filterActions */"./app/react/Library/actions/filterActions.js"),c=n(/*! ./FiltersForm */"./app/react/Library/components/FiltersForm.js"),d=n(/*! ./DocumentTypesList */"./app/react/Library/components/DocumentTypesList.js"),u=n(/*! ../../Layout/SidePanel */"./app/react/Layout/SidePanel.js"),p=n(/*! ../../I18N */"./app/react/I18N/index.js"),m=n(/*! ../../UI */"./app/react/UI/index.js");function f(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class h extends s.Component{reset(){this.props.resetFilters(this.props.storeKey)}render(){return f(u.default,{className:"library-filters",open:this.props.open},void 0,f("div",{className:"sidepanel-footer"},void 0,f("span",{onClick:this.reset.bind(this),className:"btn btn-primary"},void 0,f(m.Icon,{icon:"sync"}),f("span",{className:"btn-label"},void 0,Object(p.t)("System","Reset"))),f("button",{type:"submit",form:"filtersForm",className:"btn btn-success"},void 0,f(m.Icon,{icon:"search"}),f("span",{className:"btn-label"},void 0,Object(p.t)("System","Search")))),f("div",{className:"sidepanel-body"},void 0,f("p",{className:"sidepanel-title"},void 0,Object(p.t)("System","Filters configuration")),f("div",{className:"documentTypes-selector nested-selector"},void 0,f(d.default,{storeKey:this.props.storeKey})),f(c.default,{storeKey:this.props.storeKey})))}}function y(e,t){return{open:!1!==e[t.storeKey].ui.get("filtersPanel")&&!e[t.storeKey].ui.get("selectedDocuments").size>0}}t.default=Object(r.connect)(y,function(e,t){return Object(a.bindActionCreators)({resetFilters:l.resetFilters},Object(i.wrapDispatch)(e,t.storeKey))})(h)},"./app/react/Library/components/LibraryModeToggleButtons.js":
/*!******************************************************************!*\
  !*** ./app/react/Library/components/LibraryModeToggleButtons.js ***!
  \******************************************************************/
/*! exports provided: LibraryModeToggleButtons, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"LibraryModeToggleButtons",function(){return u}),n.d(t,"mapStateToProps",function(){return p});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! ../../I18N */"./app/react/I18N/index.js"),i=n(/*! ../../UI */"./app/react/UI/index.js"),l=n(/*! ../actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),c=n(/*! ../../Map */"./app/react/Map/index.js");function d(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class u extends s.Component{render(){const{numberOfMarkers:e,zoomLevel:t,zoomOut:n,zoomIn:o,showGeolocation:s,searchUrl:r}=this.props,l=e.toString().length>3?"99+":e;return d("div",{className:"list-view-mode"},void 0,d("div",{className:`list-view-mode-zoom list-view-buttons-zoom-${t} buttons-group`},void 0,d("button",{className:"btn btn-default zoom-out",onClick:n,type:"button"},void 0,d(i.Icon,{icon:"search-minus"}),d("span",{className:"tab-link-tooltip"},void 0,Object(a.t)("System","Zoom out"))),d("button",{className:"btn btn-default zoom-in",onClick:o,type:"button"},void 0,d(i.Icon,{icon:"search-plus"}),d("span",{className:"tab-link-tooltip"},void 0,Object(a.t)("System","Zoom in")))),s&&d("div",{className:"list-view-mode-map buttons-group"},void 0,d(a.I18NLink,{to:`library${r}`,className:"btn btn-default",activeClassName:"is-active"},void 0,d(i.Icon,{icon:"th"}),d("span",{className:"tab-link-tooltip"},void 0,Object(a.t)("System","List view"))),d(a.I18NLink,{disabled:!e,to:`library/map${r}`,className:"btn btn-default",activeClassName:"is-active"},void 0,d(i.Icon,{icon:"map-marker"}),d("span",{className:"number-of-markers"},void 0,l),d("span",{className:"tab-link-tooltip"},void 0,Object(a.t)("System","Map view")))))}}function p(e,t){const n=e[t.storeKey].filters.toJS(),o=Object(l.processFilters)(e[t.storeKey].search,n),{templates:s}=e,r=Boolean(s.find(e=>e.get("properties").find(e=>"geolocation"===e.get("type")))),a=c.helper.getMarkers(e[t.storeKey].markers.get("rows"),e.templates).length;return{searchUrl:Object(l.encodeSearch)(o),showGeolocation:r,numberOfMarkers:a,zoomLevel:-1!==Object.keys(t).indexOf("zoomLevel")?t.zoomLevel:e[t.storeKey].ui.get("zoomLevel")}}t.default=Object(r.connect)(p)(u)},"./app/react/Library/components/MapView.js":
/*!*************************************************!*\
  !*** ./app/react/Library/components/MapView.js ***!
  \*************************************************/
/*! exports provided: MapView, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"MapView",function(){return v}),n.d(t,"mapStateToProps",function(){return b});var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react-redux */"./node_modules/react-redux/es/index.js")),i=(n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),n(/*! ../../Map */"./app/react/Map/index.js")),l=n(/*! redux */"./node_modules/redux/es/index.js"),c=n(/*! ../../Multireducer */"./app/react/Multireducer/index.js"),d=n(/*! ../actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),u=n(/*! ./SearchBar */"./app/react/Library/components/SearchBar.js"),p=n(/*! ../../Layout */"./app/react/Layout/index.js"),m=n(/*! ../../I18N */"./app/react/I18N/index.js"),f=n(/*! ../../UI */"./app/react/UI/index.js");function h(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const y=e=>h("div",{className:"marker-info"},void 0,h(f.Icon,{className:"tag-icon",icon:"tag"}),e);class v extends s.Component{static renderInfo(e){return h("div",{className:"popup-container"},void 0,h("div",{className:"template-label"},void 0,h(p.TemplateLabel,{template:e.properties.entity.template})),h("div",{className:"entity-data"},void 0,h("div",{},void 0,h("span",{className:"popup-name"},void 0,e.properties.entity.title),h("span",{className:"popup-metadata-property"},void 0,"(",Object(m.t)(e.properties.entity.template,e.label),")")),e.properties.inherited&&y(h(p.EntityTitle,{context:e.properties.context,entity:e.properties.inheritedEntity})),e.properties.info&&!e.properties.inherited&&y(e.properties.info)))}constructor(e){super(e),this.clickOnMarker=this.clickOnMarker.bind(this),this.clickOnCluster=this.clickOnCluster.bind(this)}clickOnMarker(e){this.props.getAndSelectDocument(e.properties.entity.sharedId)}clickOnCluster(e){this.props.unselectAllDocuments(),this.props.selectDocuments(e.map(e=>e.properties.entity))}render(){const{storeKey:e,markers:t}=this.props;return h("div",{className:"library-map main-wrapper",style:{width:"100%",height:"100%"}},void 0,h("div",{className:"search-list"},void 0,h(u.default,{storeKey:e})),h("div",{className:"documents-counter"},void 0,h("span",{},void 0,h("b",{},void 0,t.get("totalRows"))," ",Object(m.t)("System","documents"))),h(i.Markers,{entities:t.get("rows")},void 0,e=>r.a.createElement(i.Map,{ref:e=>{this.map=e},markers:e,zoom:1,clickOnMarker:this.clickOnMarker,clickOnCluster:this.clickOnCluster,renderPopupInfo:v.renderInfo,cluster:!0})))}}function b(e,t){return{markers:e[t.storeKey].markers}}t.default=Object(a.connect)(b,function(e,t){return Object(l.bindActionCreators)({getAndSelectDocument:d.getAndSelectDocument,selectDocuments:d.selectDocuments,unselectAllDocuments:d.unselectAllDocuments},Object(c.wrapDispatch)(e,t.storeKey))},null,{withRef:!0})(v)},"./app/react/Library/components/NestedFilter.js":
/*!******************************************************!*\
  !*** ./app/react/Library/components/NestedFilter.js ***!
  \******************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),a=n.n(r),i=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),l=n(/*! ../../ReactReduxForms */"./app/react/ReactReduxForms/index.js");function c(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class d extends i.Component{render(){const{onChange:e,model:t,label:n,property:o,aggregations:r}=this.props;return c("ul",{className:"search__filter is-active"},void 0,c("li",{},void 0,c("label",{},void 0,n),c("div",{className:"nested-strict"},void 0,c(s.Field,{model:`${t}.strict`},void 0,c("input",{id:`${t}strict`,type:"checkbox",onChange:e})),c("label",{htmlFor:`${t}strict`},void 0,c("span",{},void 0," Strict mode")))),c("li",{className:"wide"},void 0,c(l.NestedMultiselect,{aggregations:r,property:o,onChange:e})))}}d.defaultProps={onChange:()=>{},label:"",aggregations:a.a.Map()},t.default=d},"./app/react/Library/components/NumberRangeFilter.js":
/*!***********************************************************!*\
  !*** ./app/react/Library/components/NumberRangeFilter.js ***!
  \***********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! ../../ReactReduxForms */"./app/react/ReactReduxForms/index.js");function r(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const a=({onChange:e,model:t,label:n})=>r("ul",{className:"search__filter is-active"},void 0,r("li",{},void 0,r("label",{},void 0,n)),r("li",{className:"wide"},void 0,r(s.NumericRange,{model:t,onChange:e})));a.defaultProps={onChange:()=>{},label:""},t.default=a},"./app/react/Library/components/RelationshipFilter.js":
/*!************************************************************!*\
  !*** ./app/react/Library/components/RelationshipFilter.js ***!
  \************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! ./FiltersFromProperties */"./app/react/Library/components/FiltersFromProperties.js");function r(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const a=({onChange:e,label:t,property:n,storeKey:o,translationContext:a})=>r("ul",{className:"search__filter is-active"},void 0,r("li",{},void 0,r("label",{},void 0,t)),r("li",{className:"wide"},void 0,r(s.default,{onChange:e,properties:n.filters,translationContext:a,storeKey:o,modelPrefix:`.${n.name}`})));a.defaultProps={onChange:()=>{},label:""},t.default=a},"./app/react/Library/components/SearchBar.js":
/*!***************************************************!*\
  !*** ./app/react/Library/components/SearchBar.js ***!
  \***************************************************/
/*! exports provided: SearchBar, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"SearchBar",function(){return h}),n.d(t,"mapStateToProps",function(){return y});var o,s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! redux */"./node_modules/redux/es/index.js"),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),l=n(/*! ../../UI */"./app/react/UI/index.js"),c=n(/*! ../actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),d=n(/*! ../../I18N */"./app/react/I18N/index.js"),u=n(/*! ../../Multireducer */"./app/react/Multireducer/index.js"),p=n(/*! ./SearchTips */"./app/react/Library/components/SearchTips.js"),m=n(/*! ../../SemanticSearch/actions/actions */"./app/react/SemanticSearch/actions/actions.js");function f(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class h extends i.Component{constructor(e){super(e),this.search=this.search.bind(this),this.resetSearch=this.resetSearch.bind(this),this.submitSearch=this.submitSearch.bind(this),this.submitSemanticSearch=this.submitSemanticSearch.bind(this)}resetSearch(){this.props.change(`${this.props.storeKey}.search.searchTerm`,"");const e=Object.assign({},this.props.search);e.searchTerm="",this.props.searchDocuments({search:e},this.props.storeKey)}submitSemanticSearch(){this.props.semanticSearch(this.props.search)}submitSearch(){const e=Object.assign({},this.props.search);this.props.searchDocuments({search:e},this.props.storeKey)}search(e){this.props.searchDocuments({search:e},this.props.storeKey)}render(){const{search:e,semanticSearchEnabled:t,storeKey:n}=this.props,o=`${n}.search`;return f("div",{className:"search-box"},void 0,f(s.Form,{model:o,onSubmit:this.search,autoComplete:"off"},void 0,f("div",{className:`input-group${e.searchTerm?" is-active":""}`},void 0,f(s.Field,{model:".searchTerm"},void 0,f("input",{type:"text",placeholder:Object(d.t)("System","Search",null,!1),className:"form-control",autoComplete:"off"}),f(l.Icon,{icon:"times",onClick:this.resetSearch})),f(l.Icon,{icon:"search",onClick:this.submitSearch})),t&&f("button",{disabled:e.searchTerm?"":"disabled",type:"button",onClick:this.submitSemanticSearch,className:"btn btn-success semantic-search-button"},void 0,f(l.Icon,{icon:"flask"})," Semantic Search")),f(p.default,{}))}}function y(e,t){const n=e.settings.collection.toJS().features||{};return{search:Object(c.processFilters)(e[t.storeKey].search,e[t.storeKey].filters.toJS()),semanticSearchEnabled:n.semanticSearch}}h.defaultProps={semanticSearchEnabled:!1},t.default=Object(a.connect)(y,function(e,t){return Object(r.bindActionCreators)({searchDocuments:c.searchDocuments,change:s.actions.change,semanticSearch:m.submitNewSearch},Object(u.wrapDispatch)(e,t.storeKey))})(h)},"./app/react/Library/components/SearchButton.js":
/*!******************************************************!*\
  !*** ./app/react/Library/components/SearchButton.js ***!
  \******************************************************/
/*! exports provided: SearchButton, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"SearchButton",function(){return f}),n.d(t,"mapStateToProps",function(){return h});var o,s=n(/*! prop-types */"./node_modules/prop-types/index.js"),r=n.n(s),a=n(/*! react */"./node_modules/react/index.js"),i=n(/*! redux */"./node_modules/redux/es/index.js"),l=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),c=n(/*! ../../I18N */"./app/react/I18N/index.js"),d=n(/*! ../actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),u=n(/*! ../../Multireducer */"./app/react/Multireducer/index.js"),p=n(/*! ../../UI */"./app/react/UI/index.js");function m(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class f extends a.Component{render(){let e=this.props.open?this.props.hideFilters:this.props.showFilters,t=this.props.open?" is-active":"";return this.props.open&&this.props.metadataPanelIsOpen&&(e=this.props.unselectAllDocuments,t=""),!this.props.open&&this.props.metadataPanelIsOpen&&(e=(()=>{this.props.showFilters(),this.props.unselectAllDocuments()})),m("a",{href:"#",className:`search-button btn ${t}`,onClick:e},void 0,m("div",{className:"searchButton-open"},void 0,m(p.Icon,{icon:"search"}),m("span",{},void 0,Object(c.t)("System","Search"),"...")),m("div",{className:"searchButton-close"},void 0,m(p.Icon,{icon:"chevron-right"})))}}function h(e,t){return{open:!1!==e[t.storeKey].ui.get("filtersPanel"),metadataPanelIsOpen:e[t.storeKey].ui.get("selectedDocuments").size>0}}f.contextTypes={storeKey:r.a.string},t.default=Object(l.connect)(h,function(e,t){return Object(i.bindActionCreators)({showFilters:d.showFilters,hideFilters:d.hideFilters,unselectAllDocuments:d.unselectAllDocuments},Object(u.wrapDispatch)(e,t.storeKey))})(f)},"./app/react/Library/components/SearchDescription.js":
/*!***********************************************************!*\
  !*** ./app/react/Library/components/SearchDescription.js ***!
  \***********************************************************/
/*! exports provided: SearchDescription, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"SearchDescription",function(){return i}),n.d(t,"mapStateToProps",function(){return l});var o,s=n(/*! react */"./node_modules/react/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react-redux */"./node_modules/react-redux/es/index.js")),a=n(/*! ../helpers/libraryFilters */"./app/react/Library/helpers/libraryFilters.js");class i extends s.Component{render(){const{searchTerm:e,query:t,properties:n}=this.props,s=t&&t.filters?function(e,t){return Object.keys(e.filters).reduce((n,o)=>{const{values:s}=e.filters[o],r=t.find(e=>e.name===o);if(!s||!r)return n;const a=`${r.label}: ${function(e,t){return t.map(t=>e.options.find(e=>e.id===t)).map(e=>e&&e.label).filter(e=>e).join(", ")}(r,s)}`;return[...n,a]},[])}(t,n):[];return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("span",{},void 0,e,s.length?` ${s.join(" - ")}`:"")}}function l({thesauris:e,templates:t,relationTypes:n},{query:o}){return{properties:o&&o.filters?a.default.URLQueryToState(o,t.toJS(),e.toJS(),n.toJS()).properties:[]}}i.defaultProps={query:void 0},t.default=Object(r.connect)(l)(i)},"./app/react/Library/components/SearchTips.js":
/*!****************************************************!*\
  !*** ./app/react/Library/components/SearchTips.js ***!
  \****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return c});var o,s=n(/*! prop-types */"./node_modules/prop-types/index.js"),r=n.n(s),a=n(/*! react */"./node_modules/react/index.js"),i=n(/*! ../../I18N */"./app/react/I18N/index.js");function l(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class c extends a.Component{constructor(e){super(e),this.showSearchTips=this.showSearchTips.bind(this)}showSearchTips(){const e=l("ul",{},void 0,l("li",{},void 0,Object(i.t)("System","Search Tips: wildcard",'Use an * for wildcard search. Ie: "juris*" will match words  such as jurisdiction, jurisdictional, jurists, jurisprudence, etc.',!1)),l("li",{},void 0,Object(i.t)("System","Search Tips: one char wildcard",'? for one character wildcard. Ie: "198?" will match 1980 to 1989 and also 198a, 198b, etc.',!1)),l("li",{},void 0,Object(i.t)("System","Search Tips: exact term",'Exact term match by enclosing your search string with quotes. Ie. "Costa Rica" will toss different results compared to Costa Rica without quotes.',!1)),l("li",{},void 0,Object(i.t)("System","Search Tips: proximity",'~ for proximity searches. Ie: "the status"~5 will find anything having "the" and"status" within a distance of 5 words, such as "the procedural status", "the specific legal status".',!1)),l("li",{},void 0,Object(i.t)("System","Search Tips: boolean",'AND, OR and NOT for boolean searches. Ie. "status AND women NOT Nicaragua" will match anything containing both the words status and women, and necessarily not containing the word Nicaragua.',!1)));this.context.confirm({accept:()=>{},type:"info",title:Object(i.t)("System","Narrow down your searches",null,!1),message:e,noCancel:!0})}render(){return l("div",{className:"search-tips",onClick:this.showSearchTips},void 0,Object(i.t)("System","Search tips",null,!1))}}c.contextTypes={confirm:r.a.func}},"./app/react/Library/components/SelectFilter.js":
/*!******************************************************!*\
  !*** ./app/react/Library/components/SelectFilter.js ***!
  \******************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! ../../ReactReduxForms */"./app/react/ReactReduxForms/index.js");function r(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const a=({onChange:e,model:t,label:n,options:o,prefix:a,showBoolSwitch:i,sort:l})=>r("ul",{className:"search__filter is-active"},void 0,r("li",{},void 0,n,i&&r(s.Switcher,{model:`${t}.and`,prefix:a,onChange:e})),r("li",{className:"wide"},void 0,r(s.MultiSelect,{model:`${t}.values`,prefix:a,options:o,optionsValue:"id",onChange:e,sort:l})));a.defaultProps={onChange:()=>{},label:"",prefix:"",showBoolSwitch:!1,sort:!1},t.default=a},"./app/react/Library/components/SortButtons.js":
/*!*****************************************************!*\
  !*** ./app/react/Library/components/SortButtons.js ***!
  \*****************************************************/
/*! exports provided: SortButtons, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"SortButtons",function(){return h}),n.d(t,"mapStateToProps",function(){return y});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! ../../Multireducer */"./app/react/Multireducer/index.js"),l=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),c=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),d=n(/*! ../../I18N */"./app/react/I18N/index.js"),u=n(/*! ../../UI */"./app/react/UI/index.js");function p(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class h extends s.Component{static orderDirectionLabel(e,t="asc"){let n="asc"===t?"A-Z":"Z-A";return"date"===e&&(n="asc"===t?Object(d.t)("System","Least recently"):Object(d.t)("System","Recently")),"numeric"===e&&(n="asc"===t?"0-9":"9-0"),n}constructor(e){super(e),this.state={active:!1}}getAdditionalSorts(e,t){return e.toJS().reduce((e,n)=>(n.properties.forEach(o=>{if(o.filter&&("text"===o.type||"date"===o.type||"numeric"===o.type||"select"===o.type)&&!e.find(e=>e.property===o.name)){const s=`metadata.${o.name}`,r={isActive:t.sort===s,search:t,type:o.type};e.push({property:o.name,html:this.createSortItem(s,s,n._id,o.label,r)})}}),e),[]).map(e=>e.html)}createSortItem(e,t,n,o,s){const{isActive:r,search:a,type:i}=s,l="text"===i||"select"===i?"string":"number",p="number"!==l?"asc":"desc",m="number"!==l?"desc":"asc";return f("li",{className:`Dropdown-option ${r?"is-active":""}`},e,f("a",{className:`Dropdown-option__item ${r&&a.order===p?"is-active":""}`,onClick:()=>this.handleClick(t,p,l)},void 0,f("span",{},void 0,Object(d.t)(n,o)," (",h.orderDirectionLabel(i,p),")"),f(c.default,{if:r&&a.order===p},void 0,f(u.Icon,{icon:"caret-down"})),f(c.default,{if:r&&a.order===p},void 0,f(u.Icon,{icon:"caret-up"}))),f("a",{className:`Dropdown-option__item ${r&&a.order===m?"is-active":""}`,onClick:()=>this.handleClick(t,m,l)},void 0,f("span",{},void 0,Object(d.t)(n,o)," (",h.orderDirectionLabel(i,m),")"),f(c.default,{if:r&&a.order===m},void 0,f(u.Icon,{icon:"caret-down"})),f(c.default,{if:r&&a.order===m},void 0,f(u.Icon,{icon:"caret-up"}))))}changeOrder(){const{sort:e,order:t}=this.props.search;this.sort(e,"desc"===t?"asc":"desc")}sort(e,t,n){const{search:o}=this.props,s=t||"asc";let r=n;o.sort===e&&(r=o.treatAs);const a={sort:e,order:s,treatAs:r};this.props.merge(this.props.stateProperty,a);const i=Object.assign({},this.props.search,a,{userSelectedSorting:!0});delete i.treatAs,this.props.sortCallback&&this.props.sortCallback({search:i},this.props.storeKey)}handleClick(e,t,n){this.state.active&&this.sort(e,t,n)}toggle(){this.setState({active:!this.state.active})}validateSearch(){const{search:e}=this.props,t=function(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};p(n,!0).forEach(function(t){m(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):p(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}({},e);return"_score"!==t.sort||t.searchTerm||(t.sort="creationDate",t.order="desc"),t}render(){const{templates:e}=this.props,t=this.validateSearch(),n="asc"===t.order?"up":"down",o=this.getAdditionalSorts(e,t,n);return f("div",{className:"sort-buttons"},void 0,f("div",{className:`Dropdown order-by ${this.state.active?"is-active":""}`},void 0,f("ul",{className:"Dropdown-list",onClick:this.toggle.bind(this)},void 0,this.createSortItem("title","title","System","Title",{isActive:"title"===t.sort,search:t,type:"string"}),this.createSortItem("creationDate","creationDate","System","Date added",{isActive:"creationDate"===t.sort,search:t,type:"date"}),t.searchTerm&&f("li",{className:`Dropdown-option ${"_score"===t.sort?"is-active":""}`},"relevance",f("a",{className:`Dropdown-option__item ${"_score"===t.sort?"is-active":""}`,onClick:()=>this.handleClick("_score")},void 0,f("span",{},void 0,Object(d.t)("System","Search relevance")))),o)))}}function y(e,t){let{templates:n}=e;const o=t.stateProperty?t.stateProperty:`${t.storeKey}.search`;return t.selectedTemplates&&t.selectedTemplates.count()&&(n=n.filter(e=>t.selectedTemplates.includes(e.get("_id")))),{stateProperty:o,search:o.split(/[.,\/]/).reduce((e,t)=>-1!==Object.keys(e).indexOf(t)?e[t]:null,e),templates:n}}t.default=Object(r.connect)(y,function(e,t){return Object(a.bindActionCreators)({merge:l.actions.merge},Object(i.wrapDispatch)(e,t.storeKey))})(h)},"./app/react/Library/components/TextFilter.js":
/*!****************************************************!*\
  !*** ./app/react/Library/components/TextFilter.js ***!
  \****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js");n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js");function r(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const a=({onChange:e,model:t,label:n})=>r(s.Field,{model:t},void 0,r("ul",{className:"search__filter is-active"},void 0,r("li",{},void 0,r("label",{},void 0,n)),r("li",{className:"wide"},void 0,r("input",{className:"form-control",onChange:e}))));a.defaultProps={onChange:()=>{},label:""},t.default=a},"./app/react/Library/components/UploadEntityStatus.js":
/*!************************************************************!*\
  !*** ./app/react/Library/components/UploadEntityStatus.js ***!
  \************************************************************/
/*! exports provided: UploadEntityStatus, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"UploadEntityStatus",function(){return c}),n.d(t,"mapStateToProps",function(){return d});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! ../../Layout/Lists */"./app/react/Layout/Lists.js"),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=n(/*! ../docState */"./app/react/Library/docState.js");function l(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class c extends s.Component{renderProgressBar(){if(this.props.progress||0===this.props.progress)return l(r.ItemFooter.ProgressBar,{progress:this.props.progress})}render(){if(!this.props.status)return null;return l("div",{},void 0,this.renderProgressBar(),l(r.ItemFooter.Label,{status:this.props.status},void 0,this.props.message))}}function d(e,t){return Object(i.default)(e,t)}t.default=Object(a.connect)(d)(c)},"./app/react/Library/components/ViewDocButton.js":
/*!*******************************************************!*\
  !*** ./app/react/Library/components/ViewDocButton.js ***!
  \*******************************************************/
/*! exports provided: ViewDocButton, mapStateToProps, mapDispatchToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ViewDocButton",function(){return m}),n.d(t,"mapStateToProps",function(){return f}),n.d(t,"mapDispatchToProps",function(){return h});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! redux */"./node_modules/redux/es/index.js"),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=(n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),n(/*! ../../I18N */"./app/react/I18N/index.js")),l=n(/*! ../../UI */"./app/react/UI/index.js"),c=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),d=n(/*! url */"./node_modules/url/url.js"),u=n.n(d);function p(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class m extends s.Component{constructor(e){super(e),this.onClick=this.onClick.bind(this)}onClick(e){e.stopPropagation();const{targetReference:t,openReferencesTab:n}=this.props;t&&n()}render(){const{sharedId:e,processed:t,searchTerm:n,file:o,targetReference:s}=this.props,r=!o,a=`/${r?"entity":"document"}/${e}`,c=function(e,t){const n={};return e&&(n.searchTerm=e),t&&(n.ref=t.get("_id")),n}(n,s),d=u.a.format({pathname:a,query:c});return!(!t&&!r)&&p(i.I18NLink,{to:d,className:"btn btn-default btn-xs",onClick:this.onClick},void 0,p(l.Icon,{icon:"angle-right",directionAware:!0})," ",Object(i.t)("System","View"))}}function f(e,t){return{searchTerm:t.storeKey?e[t.storeKey].search.searchTerm:""}}function h(e){return Object(r.bindActionCreators)({openReferencesTab:()=>e=>e(c.actions.set("viewer.sidepanel.tab","references"))},e)}m.defaultProps={searchTerm:"",processed:!1,targetReference:null},t.default=Object(a.connect)(f,h)(m)},"./app/react/Library/components/ViewMetadataPanel.js":
/*!***********************************************************!*\
  !*** ./app/react/Library/components/ViewMetadataPanel.js ***!
  \***********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! redux */"./node_modules/redux/es/index.js"),s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),a=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),i=n.n(a),l=n(/*! ../../Documents */"./app/react/Documents/index.js"),c=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),d=n(/*! ../../Metadata */"./app/react/Metadata/index.js"),u=n(/*! ../actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),p=n(/*! ../../Entities/actions/actions */"./app/react/Entities/actions/actions.js"),m=n(/*! ../../Multireducer */"./app/react/Multireducer/index.js"),f=n(/*! ../../Modals */"./app/react/Modals/index.js"),h=n(/*! ../containers/DocumentForm */"./app/react/Library/containers/DocumentForm.js"),y=n(/*! ../containers/EntityForm */"./app/react/Library/containers/EntityForm.js");t.default=Object(s.connect)((e,t)=>{const n=e[t.storeKey];return{open:1===n.ui.get("selectedDocuments").size,doc:n.ui.get("selectedDocuments").first()||i.a.fromJS({}),references:n.sidepanel.references,tab:n.sidepanel.tab,docBeingEdited:!!Object.keys(n.sidepanel.metadata).length,searchTerm:n.search.searchTerm,formDirty:!n.sidepanel.metadataForm.$form.pristine,templates:(e=>e.templates)(e),formPath:`${t.storeKey}.sidepanel.metadata`,readOnly:!0,DocumentForm:h.default,EntityForm:y.default}},function(e,t){return Object(o.bindActionCreators)({loadInReduxForm:d.actions.loadInReduxForm,getDocumentReferences:u.getDocumentReferences,closePanel:u.unselectAllDocuments,resetForm:()=>e=>{e(r.actions.setInitial(`${t.storeKey}.sidepanel.metadata`)),e(r.actions.reset(`${t.storeKey}.sidepanel.metadata`))},saveDocument:u.saveDocument,deleteDocument:u.deleteDocument,searchSnippets:u.searchSnippets,deleteEntity:p.deleteEntity,showModal:f.default.actions.showModal,showTab:e=>c.actions.set(`${t.storeKey}.sidepanel.tab`,e)},Object(m.wrapDispatch)(e,t.storeKey))})(l.DocumentSidePanel)},"./app/react/Library/components/Welcome.js":
/*!*************************************************!*\
  !*** ./app/react/Library/components/Welcome.js ***!
  \*************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return l});var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! ../../I18N */"./app/react/I18N/index.js"),a=n(/*! ../../UI */"./app/react/UI/index.js");function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class l extends s.Component{render(){return i("div",{className:"blank-state"},void 0,i(a.Icon,{icon:"cog"}),i("h4",{},void 0,"Welcome to Uwazi"),i("p",{},void 0,"To start you can upload documents in ",i(r.I18NLink,{to:"/uploads"},void 0,"uploads")),i("a",{href:"https://github.com/huridocs/uwazi/wiki",target:"_blank"},void 0,"Learn more"))}}},"./app/react/Library/containers/DocumentForm.js":
/*!******************************************************!*\
  !*** ./app/react/Library/containers/DocumentForm.js ***!
  \******************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),s=n(/*! redux */"./node_modules/redux/es/index.js"),r=n(/*! ../../Multireducer */"./app/react/Multireducer/index.js"),a=n(/*! ../actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),i=n(/*! ../../Metadata */"./app/react/Metadata/index.js");t.default=Object(o.connect)(function(e,t){const{templates:n}=e,{thesauris:o}=e;return{model:`${t.storeKey}.sidepanel.metadata`,isEntity:!e[t.storeKey].sidepanel.file,templateId:e[t.storeKey].sidepanel.metadata.template,templates:n,thesauris:o}},function(e,t){return Object(s.bindActionCreators)({changeTemplate:i.actions.changeTemplate,onSubmit:a.saveDocument},Object(r.wrapDispatch)(e,t.storeKey))})(i.MetadataForm)},"./app/react/Library/containers/EntityForm.js":
/*!****************************************************!*\
  !*** ./app/react/Library/containers/EntityForm.js ***!
  \****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),s=n(/*! redux */"./node_modules/redux/es/index.js"),r=n(/*! ../../Multireducer */"./app/react/Multireducer/index.js"),a=n(/*! ../actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),i=n(/*! ../../Metadata */"./app/react/Metadata/index.js");t.default=Object(o.connect)(function(e,t){const{templates:n}=e,{thesauris:o}=e;return{model:`${t.storeKey}.sidepanel.metadata`,isEntity:!e[t.storeKey].sidepanel.file,templateId:e[t.storeKey].sidepanel.metadata.template,templates:n,thesauris:o}},function(e,t){return Object(s.bindActionCreators)({changeTemplate:i.actions.changeTemplate,onSubmit:a.saveEntity},Object(r.wrapDispatch)(e,t.storeKey))})(i.MetadataForm)},"./app/react/Library/containers/SelectMultiplePanelContainer.js":
/*!**********************************************************************!*\
  !*** ./app/react/Library/containers/SelectMultiplePanelContainer.js ***!
  \**********************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),s=n(/*! redux */"./node_modules/redux/es/index.js"),r=n(/*! ../../Multireducer */"./app/react/Multireducer/index.js"),a=n(/*! ../actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),i=n(/*! ../../Metadata */"./app/react/Metadata/index.js");t.default=Object(o.connect)(function(e,t){return{formKey:`${t.storeKey}.sidepanel.multipleEdit`,state:e[t.storeKey].sidepanel.multipleEdit,formState:e[t.storeKey].sidepanel.multipleEditForm,templates:e.templates,entitiesSelected:e[t.storeKey].ui.get("selectedDocuments"),thesauris:e.thesauris,storeKey:t.storeKey}},function(e,t){return Object(s.bindActionCreators)({unselectAllDocuments:a.unselectAllDocuments,updateSelectedEntities:a.updateSelectedEntities,updateEntities:a.updateEntities,getAndSelectDocument:a.getAndSelectDocument},Object(r.wrapDispatch)(e,t.storeKey))})(i.SelectMultiplePanel)},"./app/react/Library/docState.js":
/*!***************************************!*\
  !*** ./app/react/Library/docState.js ***!
  \***************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! reselect */"./node_modules/reselect/lib/index.js");const s=Object(o.createSelector)((e,t)=>e.progress.get(t.doc.get("sharedId")),(e,t)=>t.doc.get("uploaded"),(e,t)=>t.doc.get("processed"),(e,t)=>!t.doc.get("file"),(e,t)=>t.doc.get("template"),(e,t,n,o,s)=>t||o||!e&&0!==e?void 0===n&&!o&&t?{progress:100,status:"processing",message:"Processing..."}:s||!n&&!o?t||o||void 0!==e?!1!==n||o?{}:{status:"danger",message:"Conversion failed"}:{progress:e,status:"danger",message:"Upload failed"}:{progress:e,status:"warning",message:"No type selected"}:{progress:e,status:"processing",message:"Uploading..."});t.default=s},"./app/react/Library/helpers/blankState.js":
/*!*************************************************!*\
  !*** ./app/react/Library/helpers/blankState.js ***!
  \*************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return r});var o=n(/*! ../../store */"./app/react/store.js"),s=n(/*! ../../utils */"./app/react/utils/index.js");function r(){const e=o.store.getState();return!!s.isClient&&!e.thesauris.reduce((e,t)=>e||!!t.get("values").size,!1)}},"./app/react/Library/helpers/libraryFilters.js":
/*!*****************************************************!*\
  !*** ./app/react/Library/helpers/libraryFilters.js ***!
  \*****************************************************/
/*! exports provided: populateOptions, parseWithAggregations, default */function(e,t,n){"use strict";n.r(t),n.d(t,"populateOptions",function(){return r}),n.d(t,"parseWithAggregations",function(){return i});var o=n(/*! ../../../shared/comonProperties */"./app/shared/comonProperties.js"),s=n(/*! ../../utils/prioritySortingCriteria */"./app/react/utils/prioritySortingCriteria.js");function r(e,t){return e.map(e=>e.content?Object.assign(e,{options:function(e,t){const n=t.find(t=>t._id===e.content);return n?n.values:null}(e,t)}):e.content||"relationship"!==e.type?(e.content||"relationshipfilter"!==e.type||(e.filters=r(e.filters,t)),e):Object.assign(e,{options:t.filter(e=>"template"===e.type).reduce((e,t)=>e.concat(t.values),[])}))}const a=(e,t,n)=>{let o;return e.all&&e.all[n]&&(o=e.all[n].buckets.find(e=>e.key.toString()===t.toString())),o?o.filtered.doc_count:0};function i(e,t,n=!0){return e.map(e=>{const o=Object.assign({},e);return o.options&&o.options.length&&(n&&o.options.push({id:"missing",label:"No Value",noValueKey:!0}),o.options=o.options.map(e=>{const n=Object.assign(e,{results:a(t,e.id,o.name)});return n.values&&(n.values=n.values.map(e=>(e.results=a(t,e.id,o.name),e))),n}).filter(e=>e.results)),o.filters&&(o.filters=i(o.filters,t,n)),o})}t.default={URLQueryToState:function(e,t,n,a){let i=o.default.comonFilters(t,a,e.types);e.types&&e.types.length||(i=o.default.defaultFilters(t));const{searchTerm:l="",filters:c={},sort:d=s.default.get().sort,order:u=s.default.get().order,userSelectedSorting:p}=e;return{properties:i=r(i,n).map(e=>{let t={};return"text"!==e.type&&"markdown"!==e.type||(t=""),c[e.name]=c[e.name]?c[e.name]:t,e}),search:{searchTerm:l,filters:c,order:u,sort:d,userSelectedSorting:p}}},populateOptions:r,parseWithAggregations:i}},"./app/react/Library/helpers/requestState.js":
/*!***************************************************!*\
  !*** ./app/react/Library/helpers/requestState.js ***!
  \***************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return f});var o=n(/*! ../../utils/prioritySortingCriteria */"./app/react/utils/prioritySortingCriteria.js"),s=n(/*! rison */"./node_modules/rison/js/rison.js"),r=n.n(s),a=n(/*! ../../Search/SearchAPI */"./app/react/Search/SearchAPI.js"),i=n(/*! ./libraryFilters */"./app/react/Library/helpers/libraryFilters.js"),l=n(/*! ./setReduxState.js */"./app/react/Library/helpers/setReduxState.js");function c(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function d(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};c(n,!0).forEach(function(t){u(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):c(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(null==e)return{};var n,o,s=function(e,t){if(null==e)return{};var n,o,s={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function m(e,t,n){const s=o.default.get({templates:t.templates});let a;try{a=r.a.decode(e.q||"()")}catch(e){throw e.status=404,e}a.order=a.order||s.order,a.sort=a.sort||s.sort,a.view=e.view,"markers"===n&&(a.geolocation=!0);const{userSelectedSorting:i}=a;return p(a,["userSelectedSorting"])}function f(e,t){const n=d({},e,{data:m(e.data,t)}),o=d({},e,{data:m(e.data,t,"markers")});return Promise.all([a.default.search(n),a.default.search(o)]).then(([e,o])=>{const s=i.default.URLQueryToState(n.data,t.templates.toJS(),t.thesauris.toJS(),t.relationTypes.toJS()),r={library:{filters:{documentTypes:n.data.types||[],properties:s.properties},aggregations:e.aggregations,search:s.search,documents:e,markers:o}};return[Object(l.default)(r)]})}},"./app/react/Library/helpers/setReduxState.js":
/*!****************************************************!*\
  !*** ./app/react/Library/helpers/setReduxState.js ***!
  \****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return i});var o=n(/*! ../../Multireducer */"./app/react/Multireducer/index.js"),s=n(/*! ../actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),r=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),a=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js");function i(e){return t=>{const n=Object(o.wrapDispatch)(t,"library");n(r.actions.load("library.search",e.library.search)),n(Object(s.unsetDocuments)()),n(Object(s.initializeFiltersForm)({documentTypes:e.library.filters.documentTypes,libraryFilters:e.library.filters.properties,aggregations:e.library.aggregations})),n(Object(s.setDocuments)(e.library.documents)),n(a.actions.set("library.markers",e.library.markers))}}},"./app/react/Library/reducers/aggregationsReducer.js":
/*!***********************************************************!*\
  !*** ./app/react/Library/reducers/aggregationsReducer.js ***!
  \***********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return a});var o=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),s=n(/*! ../actions/actionTypes */"./app/react/Library/actions/actionTypes.js");const r=Object(o.default)("aggregations",{});function a(e,t={}){let n=t;return n.type===s.INITIALIZE_FILTERS_FORM&&(n=o.actions.set("aggregations",n.aggregations)),r(e,n)}},"./app/react/Library/reducers/documentsReducer.js":
/*!********************************************************!*\
  !*** ./app/react/Library/reducers/documentsReducer.js ***!
  \********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return c});var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n.n(o),r=n(/*! ../actions/actionTypes */"./app/react/Library/actions/actionTypes.js"),a=n(/*! ../../Uploads/actions/actionTypes */"./app/react/Uploads/actions/actionTypes.js"),i=n(/*! ../../Attachments/actions/actionTypes */"./app/react/Attachments/actions/actionTypes.js");const l={rows:[]};function c(e=l,t={}){if(t.type===r.SET_DOCUMENTS)return s.a.fromJS(t.documents);if(t.type===r.UPDATE_DOCUMENT){const n=e.get("rows").findIndex(e=>e.get("_id")===t.doc._id);return e.setIn(["rows",n],s.a.fromJS(t.doc))}if(t.type===r.UPDATE_DOCUMENT){const n=e.get("rows").findIndex(e=>e.get("_id")===t.doc._id);return e.setIn(["rows",n],s.a.fromJS(t.doc))}if(t.type===i.UPDATE_DOCUMENT_FILE){const n=e.get("rows").findIndex(e=>e.get("_id")===t.entity);return e.setIn(["rows",n,"file"],s.a.fromJS(t.file))}if(t.type===r.UPDATE_DOCUMENTS)return t.docs.reduce((t,n)=>{const o=e.get("rows").findIndex(e=>e.get("_id")===n._id);return t.setIn(["rows",o],s.a.fromJS(n))},e);if(t.type===r.ELEMENT_CREATED)return e.update("rows",e=>e.insert(0,s.a.fromJS(t.doc)));if(t.type===a.UPLOAD_COMPLETE){const n=e.get("rows").findIndex(e=>e.get("sharedId")===t.doc),o=e.get("rows").get(n).toJS();return o.uploaded=!0,o.file=t.file,e.setIn(["rows",n],s.a.fromJS(o))}if(t.type===a.DOCUMENT_PROCESSED){const n=e.get("rows").findIndex(e=>e.get("sharedId")===t.sharedId),o=e.get("rows").get(n).toJS();return o.processed=!0,e.setIn(["rows",n],s.a.fromJS(o))}if(t.type===a.DOCUMENT_PROCESS_ERROR){const n=e.get("rows").findIndex(e=>e.get("sharedId")===t.sharedId),o=e.get("rows").get(n).toJS();return o.processed=!1,e.setIn(["rows",n],s.a.fromJS(o))}if(t.type===r.REMOVE_DOCUMENT){const n=e.get("rows").findIndex(e=>e.get("_id")===t.doc._id);return n>=0?e.deleteIn(["rows",n]):e}return t.type===r.UNSET_DOCUMENTS?s.a.fromJS(l):t.type===r.REMOVE_DOCUMENTS?t.docs.reduce((e,t)=>{const n=e.get("rows").findIndex(e=>e.get("_id")===t._id);return n>=0?e.deleteIn(["rows",n]):e},e):s.a.fromJS(e)}},"./app/react/Library/reducers/filtersReducer.js":
/*!******************************************************!*\
  !*** ./app/react/Library/reducers/filtersReducer.js ***!
  \******************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return i});var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n.n(o),r=n(/*! ../actions/actionTypes */"./app/react/Library/actions/actionTypes.js");const a={properties:[],documentTypes:[]};function i(e=a,t={}){return t.type===r.SET_LIBRARY_FILTERS||t.type===r.INITIALIZE_FILTERS_FORM?e.set("documentTypes",s.a.fromJS(t.documentTypes)).set("properties",s.a.fromJS(t.libraryFilters)):t.type===r.UPDATE_LIBRARY_FILTERS?e.set("properties",s.a.fromJS(t.libraryFilters)):s.a.fromJS(e)}},"./app/react/Library/reducers/reducer.js":
/*!***********************************************!*\
  !*** ./app/react/Library/reducers/reducer.js ***!
  \***********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! redux */"./node_modules/redux/es/index.js"),s=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),r=n.n(s),a=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),i=n(/*! ../../Multireducer */"./app/react/Multireducer/index.js"),l=n(/*! ../../utils */"./app/react/utils/index.js"),c=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),d=n(/*! ../../Attachments */"./app/react/Attachments/index.js"),u=n(/*! ../../utils/prioritySortingCriteria */"./app/react/utils/prioritySortingCriteria.js"),p=n(/*! ./documentsReducer */"./app/react/Library/reducers/documentsReducer.js"),m=n(/*! ./uiReducer */"./app/react/Library/reducers/uiReducer.js"),f=n(/*! ./filtersReducer */"./app/react/Library/reducers/filtersReducer.js"),h=n(/*! ./aggregationsReducer */"./app/react/Library/reducers/aggregationsReducer.js");let y=null;l.isClient&&(y=window.__reduxData__&&window.__reduxData__.templates?r.a.fromJS(window.__reduxData__.templates):null);const v=u.default.get({templates:y});v.searchTerm="",v.filters={},t.default=(e=>Object(o.combineReducers)({aggregations:Object(i.multireducer)(h.default,e),documents:Object(i.multireducer)(p.default,e),ui:Object(i.multireducer)(Object(d.manageAttachmentsReducer)(m.default,{useDefaults:!1,setInArray:["selectedDocuments",0]}),e),filters:Object(i.multireducer)(f.default,e),search:Object(c.modelReducer)(`${e}.search`,v),searchForm:Object(c.formReducer)(`${e}.search`,v),selectedSorting:Object(a.default)(`${e}.selectedSorting`,{}),markers:Object(a.default)(`${e}.markers`,{rows:[]}),sidepanel:Object(o.combineReducers)({metadata:Object(c.modelReducer)(`${e}.sidepanel.metadata`,{}),metadataForm:Object(c.formReducer)(`${e}.sidepanel.metadata`,{}),multipleEdit:Object(c.modelReducer)(`${e}.sidepanel.multipleEdit`,{}),multipleEditForm:Object(c.formReducer)(`${e}.sidepanel.multipleEdit`,{}),references:Object(a.default)(`${e}.sidepanel.references`,[]),snippets:Object(a.default)(`${e}.sidepanel.snippets`,{count:0,metadata:[],fullText:[]}),tab:Object(a.default)(`${e}.sidepanel.tab`,"")})}))},"./app/react/Library/reducers/uiReducer.js":
/*!*************************************************!*\
  !*** ./app/react/Library/reducers/uiReducer.js ***!
  \*************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return i});var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n.n(o),r=n(/*! ../actions/actionTypes */"./app/react/Library/actions/actionTypes.js");const a=s.a.fromJS({searchTerm:"",previewDoc:"",suggestions:[],selectedDocuments:[],filtersPanel:!1,zoomLevel:0});function i(e=a,t={}){if(t.type===r.SET_SEARCHTERM){let n=e.set("searchTerm",t.searchTerm);return t.searchTerm||(n=n.set("suggestions",[])),n}if(t.type===r.SELECT_DOCUMENT){return e.get("selectedDocuments").filter(e=>e.get("_id")===t.doc._id).size?e:e.update("selectedDocuments",e=>e.push(s.a.fromJS(t.doc)))}if(t.type===r.SELECT_SINGLE_DOCUMENT){const n=s.a.fromJS(t.doc);return e.update("selectedDocuments",()=>s.a.fromJS([n]))}if(t.type===r.SELECT_DOCUMENTS)return t.docs.reduce((e,t)=>{return e.get("selectedDocuments").filter(e=>e.get("_id")===t._id).size?e:e.update("selectedDocuments",e=>e.push(s.a.fromJS(t)))},e);if(t.type===r.UNSELECT_DOCUMENT)return e.update("selectedDocuments",e=>e.filter(e=>e.get("_id")!==t.docId));if(t.type===r.UNSELECT_ALL_DOCUMENTS)return e.set("selectedDocuments",s.a.fromJS([]));if(t.type===r.UPDATE_SELECTED_ENTITIES)return e.set("selectedDocuments",t.entities);if(t.type===r.HIDE_FILTERS)return e.set("filtersPanel",!1);if(t.type===r.SHOW_FILTERS)return e.set("filtersPanel",!0);if(t.type===r.SET_PREVIEW_DOC)return e.set("previewDoc",t.docId);if(t.type===r.SET_SUGGESTIONS)return e.set("suggestions",s.a.fromJS(t.suggestions));if(t.type===r.SHOW_SUGGESTIONS)return e.set("showSuggestions",!0);if(t.type===r.HIDE_SUGGESTIONS)return e.set("showSuggestions",!1);if(t.type===r.OVER_SUGGESTIONS)return e.set("overSuggestions",t.hover);if(t.type===r.ZOOM_IN){const t=3;return e.set("zoomLevel",Math.min(e.get("zoomLevel")+1,t))}if(t.type===r.ZOOM_OUT){const t=-3;return e.set("zoomLevel",Math.max(e.get("zoomLevel")-1,t))}return s.a.fromJS(e)}},"./app/react/Map/Map.js":
/*!******************************!*\
  !*** ./app/react/Map/Map.js ***!
  \******************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return b});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=n(/*! react-map-gl */"./node_modules/react-map-gl/dist-es6/index.js"),i=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),l=n.n(i),c=n(/*! ../UI */"./app/react/UI/index.js"),d=n(/*! ../utils */"./app/react/utils/index.js"),u=n(/*! supercluster */"./node_modules/supercluster/index.js"),p=n.n(u),m=n(/*! ./style.json */"./app/react/Map/style.json"),f=n(/*! ./helper */"./app/react/Map/helper.js");function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function y(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}d.isClient&&n(/*! mapbox-gl */"./node_modules/mapbox-gl/dist/mapbox-gl.js").setRTLTextPlugin("/public/mapbox-gl-rtl-text.js.min");const v=({latitude:e,longitude:t,width:n,height:o,zoom:s})=>({viewport:{latitude:e||46,longitude:t||6,width:n||250,height:o||200,zoom:s},selectedMarker:null,settings:{scrollZoom:!0,touchZoom:!0},showControls:!1});class b extends s.Component{constructor(e){super(e),this.state=v(e),this.state.settings.scrollZoom=e.scrollZoom,this.state.settings.touchZoom=e.scrollZoom,this.state.showControls=e.showControls,this.mapStyle=l.a.fromJS(m),this.supercluster=p()({radius:m.sources.markers.clusterRadius,maxZoom:m.sources.markers.clusterMaxZoom}),this.updateMapStyle(e),this.bindActions(),this.assignDefaults()}componentDidMount(){const{markers:e}=this.props;this.setSize();const t=this.map.getMap();t.on("load",()=>this.centerOnMarkers(e)),t.on("moveend",e=>{e.autoCentered&&this.setViweport(t)}),this.eventListener=window.addEventListener("resize",this.setSize)}componentWillReceiveProps(e){const{viewport:t}=this.state,{markers:n}=e,o=e.latitude||t.latitude,s=e.longitude||t.longitude,r=Object.assign(t,{latitude:o,longitude:s,markers:n});l.a.fromJS(this.props.markers).equals(l.a.fromJS(n))||(this.autoCenter(n),this.updateMapStyle(e)),this.setState({viewport:r})}componentWillUnmount(){window.removeEventListener("resize",this.setSize)}onClick(e){const{markers:t,onClick:n}=this.props,o=e.features.filter(e=>"unclustered-point"===e.layer.id),s=e.features.find(e=>"clusters"===e.layer.id);switch(!0){case 1===o.length:this.clickOnMarker(t[o[0].properties.index]);break;case o.length>1:this.clickOnCluster(o.map(e=>t[e.properties.index]))}s&&this.processClusterOnClick(s),n(e)}onHover(e){const{markers:t,cluster:n}=this.props,{selectedMarker:o}=this.state,s=e.features.find(e=>"unclustered-point"===e.layer.id);s&&this.hoverOnMarker(t[s.properties.index]),!s&&o&&n&&this.setState({selectedMarker:null})}setSize(){const{viewport:e}=this.state,{width:t,height:n}=this.props;e.width=t||this.container.offsetWidth,e.height=n||this.container.offsetHeight,this.setState({viewport:e})}setViweport(e){const{viewport:t}=this.state,n=Object.assign(t,{latitude:e.getCenter().lat,longitude:e.getCenter().lng,zoom:e.getZoom(),pitch:e.getPitch(),bearing:e.getBearing()});this.setState({viewport:n})}bindActions(){this.zoom=this.zoom.bind(this),this.setSize=this.setSize.bind(this),this.onClick=this.onClick.bind(this),this.onHover=this.onHover.bind(this)}assignDefaults(){this._onViewportChange=(e=>{this.setState({viewport:e})}),this._onViewStateChange=(e=>{this.setState({viewport:e})}),this.zoomIn=(()=>this.zoom(1)),this.zoomOut=(()=>this.zoom(-1))}processClusterOnClick(e){const t=this.map.getMap(),n=this.mapStyle.getIn(["sources","markers","data","features"]).toJS();this.supercluster.load(n);const o=this.supercluster.getLeaves(e.properties.cluster_id,Math.floor(t.getZoom()),1/0);this.clickOnCluster(o)}autoCenter(e){const{autoCenter:t}=this.props;t&&this.centerOnMarkers(e)}centerOnMarkers(e){if(!this.map||!e.length)return;const t=this.map.getMap(),n=Object(f.getMarkersBoudingBox)(e);t.stop().fitBounds(n,{padding:{top:70,left:20,right:20,bottom:20},maxZoom:5,duration:0},{autoCentered:!0})}zoom(e){const{viewport:t}=this.state;if(!this.map)return;const n=this.map.getMap();this._onViewStateChange(Object.assign({},t,{zoom:n.getZoom()+e},f.TRANSITION_PROPS,{transitionDuration:500}))}updateMapStyle({cluster:e,markers:t}){if(!e)return;const n=Object(f.markersToStyleFormat)(t);if(!this.mapStyle.getIn(["sources","markers","data","features"]).equals(l.a.fromJS(n))){const e=this.mapStyle.setIn(["sources","markers","data","features"],l.a.fromJS(n));this.mapStyle=e,this.supercluster.load(n)}}clickOnMarker(e){const{clickOnMarker:t}=this.props;t(e)}clickOnCluster(e){const{clickOnCluster:t}=this.props;t(e)}hoverOnMarker(e){const{selectedMarker:t}=this.state,{hoverOnMarker:n}=this.props;t!==e&&this.setState({selectedMarker:e}),n(e)}renderMarker(e,t,n,o){const{renderMarker:s}=this.props;return s?s(e,t):y(c.Icon,{style:{position:"relative",top:"-25px",right:"15px",color:"#d9534e"},icon:"map-marker",size:"2x",fixedWidth:!0,onClick:t,onMouseOver:n,onMouseLeave:o})}renderPopup(){const{selectedMarker:e}=this.state,{renderPopupInfo:t}=this.props;if(e&&(t||e&&e.properties&&e.properties.info)){const{longitude:n,latitude:o}=e;return y(a.Popup,{tipSize:6,anchor:"bottom",longitude:n,latitude:o,offsetTop:-20,closeButton:!1},void 0,y("div",{},void 0,t?t(e):e.properties.info))}return!1}renderMarkers(){const{markers:e,cluster:t}=this.props;return!t&&e.map((e,t)=>{const n=this.clickOnMarker.bind(this,e),o=this.hoverOnMarker.bind(this,e),s=this.hoverOnMarker.bind(this,null);return r.a.createElement(a.Marker,h({},e,{key:t,offsetLeft:0,offsetTop:0}),this.renderMarker(e,n,o,s))})}renderControls(){const{showControls:e}=this.state;return!!e&&y("div",{className:"mapbox-navigation"},void 0,y(a.NavigationControl,{onViewportChange:this._onViewportChange}))}render(){const{viewport:e,settings:t}=this.state;return r.a.createElement("div",{className:"map-container",ref:e=>{this.container=e},style:{width:"100%",height:"100%"}},r.a.createElement(a.default,h({ref:e=>{this.map=e}},e,t,{dragRotate:!0,mapStyle:this.mapStyle,onViewportChange:this._onViewportChange,onViewStateChange:this._onViewStateChange,onClick:this.onClick,onHover:this.onHover}),this.renderMarkers(),this.renderPopup(),this.renderControls(),y("span",{className:"mapbox-help"},void 0,y(c.Icon,{icon:"question-circle"}),y("span",{className:"mapbox-tooltip"},void 0,"Hold shift to rotate the map"))))}}b.defaultProps={markers:[],latitude:null,longitude:null,zoom:4,width:null,height:null,onClick:()=>{},clickOnMarker:()=>{},hoverOnMarker:()=>{},clickOnCluster:()=>{},renderPopupInfo:null,renderMarker:null,cluster:!1,autoCenter:!0,scrollZoom:!0,showControls:!1}},"./app/react/Map/Markers.js":
/*!**********************************!*\
  !*** ./app/react/Map/Markers.js ***!
  \**********************************/
/*! exports provided: MarkersComponent, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"MarkersComponent",function(){return c}),n.d(t,"mapStateToProps",function(){return d});var o=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),s=n(/*! prop-types */"./node_modules/prop-types/index.js"),r=n.n(s),a=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),i=n.n(a),l=n(/*! ./helper */"./app/react/Map/helper.js");const c=({children:e,entities:t,templates:n})=>e(Object(l.getMarkers)(t,n));c.defaultProps={entities:i.a.List()},c.propTypes={children:r.a.func.isRequired,templates:r.a.instanceOf(i.a.List).isRequired,entities:r.a.instanceOf(i.a.List)};const d=({templates:e})=>({templates:e});t.default=Object(o.connect)(d)(c)},"./app/react/Map/helper.js":
/*!*********************************!*\
  !*** ./app/react/Map/helper.js ***!
  \*********************************/
/*! exports provided: getMarkersBoudingBox, markersToStyleFormat, getMarkers, TRANSITION_PROPS */function(e,t,n){"use strict";n.r(t),n.d(t,"getMarkersBoudingBox",function(){return o}),n.d(t,"markersToStyleFormat",function(){return s}),n.d(t,"getMarkers",function(){return i}),n.d(t,"TRANSITION_PROPS",function(){return l});const o=e=>e.reduce((e,t)=>{const n=e.slice();return(!n[0][0]||t.longitude<n[0][0])&&(n[0][0]=t.longitude),(!n[1][0]||t.longitude>n[1][0])&&(n[1][0]=t.longitude),(!n[1][1]||t.latitude>n[1][1])&&(n[1][1]=t.latitude),(!n[0][1]||t.latitude<n[0][1])&&(n[0][1]=t.latitude),n},[[null,null],[null,null]]),s=e=>e.map((e,t)=>{const n=e.properties||{},{longitude:o,latitude:s}=e;return n.index=t,{type:"Feature",properties:n,geometry:{type:"Point",coordinates:[o,s]}}}),r=()=>{},a=(e,t)=>{const n=t.find(t=>t.get("_id")===e.get("template")),o=t.indexOf(n),s=n.toJS(),r=e.toJS(),a=((e,t,n)=>{const o=[],s=e.properties.filter(e=>"geolocation"===e.type),r=s.map(e=>e.name);return s.length&&t.metadata&&Object.keys(t.metadata).forEach(e=>{if(r.includes(e)&&t.metadata[e]){const{label:r}=s.find(t=>t.name===e);t.metadata[e].forEach(e=>{const{lat:s,lon:a}=e;o.push({properties:{entity:t,color:n,info:e.label},latitude:s,longitude:a,label:r})})}}),o})(s,r,o),i=((e,t,n,o)=>{const s=[],r=e.properties.filter(e=>!("relationship"!==e.type||!e.inheritProperty)&&"geolocation"===n.find(t=>t.get("_id").toString()===e.content.toString()).get("properties").find(t=>t.get("_id").toString()===e.inheritProperty.toString()).get("type")),a=r.map(e=>e.name);return r.length&&t.metadata&&Object.keys(t.metadata).forEach(e=>{if(a.includes(e)&&t.metadata[e]){const{label:n,content:a}=r.find(t=>t.name===e);t.metadata[e].forEach(e=>{e.inherit_geolocation&&e.inherit_geolocation.forEach(r=>{const{lat:i,lon:l}=r,c={entity:t,color:o,info:r.label,inherited:!0,inheritedEntity:e.entity,context:a};s.push({properties:c,latitude:i,longitude:l,label:n})})})}}),s})(s,r,t,o);return[].concat(a,i)},i=(e,t)=>{let n=[];return e.forEach(e=>{const o=a(e,t);n=n.concat(o)}),n},l={transitionDuration:0,transitionEasing:e=>e,transitionInterruption:1,onTransitionStart:r,onTransitionInterrupt:r,onTransitionEnd:r,onViewportChange:r,onStateChange:r}},"./app/react/Map/index.js":
/*!********************************!*\
  !*** ./app/react/Map/index.js ***!
  \********************************/
/*! exports provided: Map, Markers, helper */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./helper */"./app/react/Map/helper.js");n.d(t,"helper",function(){return o});var s=n(/*! ./Map.js */"./app/react/Map/Map.js");n.d(t,"Map",function(){return s.default});var r=n(/*! ./Markers.js */"./app/react/Map/Markers.js");n.d(t,"Markers",function(){return r.default})},"./app/react/Map/style.json":
/*!**********************************!*\
  !*** ./app/react/Map/style.json ***!
  \**********************************/
/*! exports provided: version, name, metadata, center, zoom, bearing, pitch, sources, sprite, glyphs, layers, id, default */function(e){e.exports={version:8,name:"Klokantech Basic",metadata:{"mapbox:autocomposite":!1,"mapbox:type":"template","maputnik:renderer":"mbgljs","openmaptiles:version":"3.x","openmaptiles:mapbox:owner":"openmaptiles","openmaptiles:mapbox:source:url":"mapbox://openmaptiles.4qljc88t"},center:[8.54806714892635,47.37180823552663],zoom:12.241790506353492,bearing:0,pitch:0,sources:{openmaptiles:{type:"vector",url:"https://api.maptiler.com/tiles/v3/tiles.json?key=QiI1BlAJNMmZagsX5qp7"},markers:{type:"geojson",cluster:!0,clusterMaxZoom:14,clusterRadius:50,data:{type:"FeatureCollection",features:[]}}},sprite:"https://openmaptiles.github.io/osm-bright-gl-style/sprite",glyphs:"https://api.maptiler.com/fonts/{fontstack}/{range}.pbf?key=QiI1BlAJNMmZagsX5qp7",layers:[{id:"background",type:"background",paint:{"background-color":"hsl(47, 26%, 88%)"}},{id:"landuse-residential",type:"fill",source:"openmaptiles","source-layer":"landuse",filter:["all",["==","$type","Polygon"],["==","class","residential"]],layout:{visibility:"visible"},paint:{"fill-color":"hsl(47, 13%, 86%)","fill-opacity":.7}},{id:"landcover_grass",type:"fill",source:"openmaptiles","source-layer":"landcover",filter:["==","class","grass"],paint:{"fill-color":"hsl(82, 46%, 72%)","fill-opacity":.45}},{id:"park",type:"fill",source:"openmaptiles","source-layer":"park",paint:{"fill-color":"rgba(192, 216, 151, 0.53)","fill-opacity":1}},{id:"landcover_wood",type:"fill",source:"openmaptiles","source-layer":"landcover",filter:["==","class","wood"],paint:{"fill-color":"hsl(82, 46%, 72%)","fill-opacity":{base:1,stops:[[8,.6],[22,1]]}}},{id:"water",type:"fill",source:"openmaptiles","source-layer":"water",filter:["==","$type","Polygon"],paint:{"fill-color":"hsl(205, 56%, 73%)"}},{id:"landcover-ice-shelf",type:"fill",source:"openmaptiles","source-layer":"landcover",filter:["==","subclass","ice_shelf"],layout:{visibility:"visible"},paint:{"fill-color":"hsl(47, 26%, 88%)","fill-opacity":.8}},{id:"landcover-glacier",type:"fill",source:"openmaptiles","source-layer":"landcover",filter:["==","subclass","glacier"],layout:{visibility:"visible"},paint:{"fill-color":"hsl(47, 22%, 94%)","fill-opacity":{base:1,stops:[[0,1],[8,.5]]}}},{id:"landuse",type:"fill",source:"openmaptiles","source-layer":"landuse",filter:["==","class","agriculture"],layout:{visibility:"visible"},paint:{"fill-color":"#eae0d0"}},{id:"landuse_overlay_national_park",type:"fill",source:"openmaptiles","source-layer":"landcover",filter:["==","class","national_park"],paint:{"fill-color":"#E1EBB0","fill-opacity":{base:1,stops:[[5,0],[9,.75]]}}},{id:"park_outline",type:"line",source:"openmaptiles","source-layer":"park",layout:{},paint:{"line-color":"rgba(159, 183, 118, 0.69)","line-dasharray":[.5,1]}},{id:"waterway-tunnel",type:"line",source:"openmaptiles","source-layer":"waterway",filter:["all",["==","$type","LineString"],["==","brunnel","tunnel"]],paint:{"line-color":"hsl(205, 56%, 73%)","line-width":{base:1.4,stops:[[8,1],[20,2]]},"line-opacity":1,"line-gap-width":{stops:[[12,0],[20,6]]},"line-dasharray":[3,3]}},{id:"waterway",type:"line",source:"openmaptiles","source-layer":"waterway",filter:["all",["==","$type","LineString"],["!in","brunnel","tunnel","bridge"]],paint:{"line-color":"hsl(205, 56%, 73%)","line-width":{base:1.4,stops:[[8,1],[20,8]]},"line-opacity":1}},{id:"tunnel_railway_transit",type:"line",source:"openmaptiles","source-layer":"transportation",minzoom:0,filter:["all",["==","$type","LineString"],["==","brunnel","tunnel"],["==","class","transit"]],layout:{"line-cap":"butt","line-join":"miter"},paint:{"line-color":"hsl(34, 12%, 66%)","line-opacity":{base:1,stops:[[11,0],[16,1]]},"line-dasharray":[3,3]}},{id:"building",type:"fill",source:"openmaptiles","source-layer":"building",paint:{"fill-color":"rgba(222, 211, 190, 1)","fill-outline-color":{stops:[[15,"rgba(212, 177, 146, 0)"],[16,"rgba(212, 177, 146, 0.5)"]]},"fill-opacity":{base:1,stops:[[13,0],[15,1]]},"fill-antialias":!0}},{id:"housenumber",type:"symbol",source:"openmaptiles","source-layer":"housenumber",minzoom:17,filter:["==","$type","Point"],layout:{"text-field":"{housenumber}","text-size":10,"text-font":["Noto Sans Regular"]},paint:{"text-color":"rgba(212, 177, 146, 1)"}},{id:"road_path",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["in","class","path","track"]],layout:{"line-cap":"square","line-join":"bevel"},paint:{"line-color":"hsl(0, 0%, 97%)","line-dasharray":[1,1],"line-width":{base:1.55,stops:[[4,.25],[20,10]]}}},{id:"road_minor",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["in","class","minor","service"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"hsl(0, 0%, 97%)","line-width":{base:1.55,stops:[[4,.25],[20,30]]}}},{id:"tunnel_minor",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","brunnel","tunnel"],["==","class","minor_road"]],layout:{"line-cap":"butt","line-join":"miter"},paint:{"line-color":"#efefef","line-width":{base:1.55,stops:[[4,.25],[20,30]]},"line-dasharray":[.36,.18]}},{id:"tunnel_major",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","brunnel","tunnel"],["in","class","primary","secondary","tertiary","trunk"]],layout:{"line-cap":"butt","line-join":"miter"},paint:{"line-color":"#fff","line-width":{base:1.4,stops:[[6,.5],[20,30]]},"line-dasharray":[.28,.14]}},{id:"aeroway-area",type:"fill",metadata:{"mapbox:group":"1444849345966.4436"},source:"openmaptiles","source-layer":"aeroway",minzoom:4,filter:["all",["==","$type","Polygon"],["in","class","runway","taxiway"]],layout:{visibility:"visible"},paint:{"fill-opacity":{base:1,stops:[[13,0],[14,1]]},"fill-color":"rgba(255, 255, 255, 1)"}},{id:"aeroway-taxiway",type:"line",metadata:{"mapbox:group":"1444849345966.4436"},source:"openmaptiles","source-layer":"aeroway",minzoom:12,filter:["all",["in","class","taxiway"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"rgba(255, 255, 255, 1)","line-width":{base:1.5,stops:[[12,1],[17,10]]},"line-opacity":1}},{id:"aeroway-runway",type:"line",metadata:{"mapbox:group":"1444849345966.4436"},source:"openmaptiles","source-layer":"aeroway",minzoom:4,filter:["all",["in","class","runway"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"rgba(255, 255, 255, 1)","line-width":{base:1.5,stops:[[11,4],[17,50]]},"line-opacity":1}},{id:"road_trunk_primary",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["in","class","trunk","primary"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fff","line-width":{base:1.4,stops:[[6,.5],[20,30]]}}},{id:"road_secondary_tertiary",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["in","class","secondary","tertiary"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fff","line-width":{base:1.4,stops:[[6,.5],[20,20]]}}},{id:"road_major_motorway",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","class","motorway"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"hsl(0, 0%, 100%)","line-width":{base:1.4,stops:[[8,1],[16,10]]},"line-offset":0}},{id:"road_oneway",type:"symbol",source:"openmaptiles","source-layer":"transportation",minzoom:15,filter:["all",["==","oneway",1]],layout:{"symbol-placement":"line","icon-image":"oneway","symbol-spacing":200,"icon-padding":2,"icon-rotation-alignment":"map","icon-rotate":0,"icon-size":{stops:[[15,.5],[19,1]]}},paint:{"icon-opacity":.5}},{id:"road_oneway_opposite",type:"symbol",source:"openmaptiles","source-layer":"transportation",minzoom:15,filter:["all",["==","oneway",-1]],layout:{"symbol-placement":"line","icon-image":"oneway","symbol-spacing":200,"icon-padding":2,"icon-rotation-alignment":"map","icon-rotate":180,"icon-size":{stops:[[15,.5],[19,1]]}},paint:{"icon-opacity":.5}},{id:"railway-transit",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","class","transit"],["!=","brunnel","tunnel"]],layout:{visibility:"visible"},paint:{"line-color":"hsl(34, 12%, 66%)","line-opacity":{base:1,stops:[[11,0],[16,1]]}}},{id:"railway",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["==","class","rail"],layout:{visibility:"visible"},paint:{"line-color":"hsl(34, 12%, 66%)","line-opacity":{base:1,stops:[[11,0],[16,1]]}}},{id:"waterway-bridge-case",type:"line",source:"openmaptiles","source-layer":"waterway",filter:["all",["==","$type","LineString"],["==","brunnel","bridge"]],layout:{"line-cap":"butt","line-join":"miter"},paint:{"line-color":"#bbbbbb","line-width":{base:1.6,stops:[[12,.5],[20,10]]},"line-gap-width":{base:1.55,stops:[[4,.25],[20,30]]}}},{id:"waterway-bridge",type:"line",source:"openmaptiles","source-layer":"waterway",filter:["all",["==","$type","LineString"],["==","brunnel","bridge"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"hsl(205, 56%, 73%)","line-width":{base:1.55,stops:[[4,.25],[20,30]]}}},{id:"bridge_minor case",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","brunnel","bridge"],["==","class","minor_road"]],layout:{"line-cap":"butt","line-join":"miter"},paint:{"line-color":"#dedede","line-width":{base:1.6,stops:[[12,.5],[20,10]]},"line-gap-width":{base:1.55,stops:[[4,.25],[20,30]]}}},{id:"bridge_major case",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","brunnel","bridge"],["in","class","primary","secondary","tertiary","trunk"]],layout:{"line-cap":"butt","line-join":"miter"},paint:{"line-color":"#dedede","line-width":{base:1.6,stops:[[12,.5],[20,10]]},"line-gap-width":{base:1.55,stops:[[4,.25],[20,30]]}}},{id:"bridge_minor",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","brunnel","bridge"],["==","class","minor_road"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#efefef","line-width":{base:1.55,stops:[[4,.25],[20,30]]}}},{id:"bridge_major",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","brunnel","bridge"],["in","class","primary","secondary","tertiary","trunk"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fff","line-width":{base:1.4,stops:[[6,.5],[20,30]]}}},{id:"admin_sub",type:"line",source:"openmaptiles","source-layer":"boundary",filter:["in","admin_level",4,6,8],layout:{visibility:"visible"},paint:{"line-color":"hsl(0, 0%, 76%)","line-dasharray":[2,1]}},{id:"admin_country",type:"line",source:"openmaptiles","source-layer":"boundary",filter:["all",["<=","admin_level",2],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"hsla(0, 8%, 22%, 0.51)","line-width":{base:1.3,stops:[[3,.5],[22,15]]}}},{id:"poi_label",type:"symbol",source:"openmaptiles","source-layer":"poi",minzoom:14,filter:["all",["==","$type","Point"],["==","rank",1]],layout:{"text-size":11,"text-font":["Noto Sans Regular"],visibility:"visible","text-offset":[0,.5],"icon-size":1,"text-anchor":"top","text-field":"{name:latin}\n{name:nonlatin}","text-max-width":8},paint:{"text-color":"#666","text-halo-width":1,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-blur":1}},{id:"airport-label",type:"symbol",source:"openmaptiles","source-layer":"aerodrome_label",minzoom:10,filter:["all",["has","iata"]],layout:{"text-size":11,"text-font":["Noto Sans Regular"],visibility:"visible","text-offset":[0,.5],"icon-size":1,"text-anchor":"top","text-field":"{name:latin}\n{name:nonlatin}","text-max-width":8},paint:{"text-color":"#666","text-halo-width":1,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-blur":1}},{id:"road_major_label",type:"symbol",source:"openmaptiles","source-layer":"transportation_name",filter:["==","$type","LineString"],layout:{"symbol-placement":"line","text-field":"{name:latin} {name:nonlatin}","text-font":["Noto Sans Regular"],"text-transform":"uppercase","text-letter-spacing":.1,"text-size":{base:1.4,stops:[[10,8],[20,14]]},"text-rotation-alignment":"map"},paint:{"text-color":"#000","text-halo-color":"hsl(0, 0%, 100%)","text-halo-width":2}},{id:"place_label_other",type:"symbol",source:"openmaptiles","source-layer":"place",minzoom:8,filter:["all",["==","$type","Point"],["!in","class","city","state","country","continent"]],layout:{"text-field":"{name:latin}\n{name:nonlatin}","text-font":["Noto Sans Regular"],"text-max-width":6,"text-size":{stops:[[6,10],[12,14]]},visibility:"visible","text-anchor":"center"},paint:{"text-color":"hsl(0, 10%, 25%)","text-halo-color":"hsl(0, 0%, 100%)","text-halo-blur":0,"text-halo-width":2}},{id:"place_label_city",type:"symbol",source:"openmaptiles","source-layer":"place",maxzoom:16,filter:["all",["==","$type","Point"],["==","class","city"]],layout:{"text-field":"{name:latin}\n{name:nonlatin}","text-font":["Noto Sans Regular"],"text-max-width":10,"text-size":{stops:[[3,12],[8,16]]}},paint:{"text-color":"hsl(0, 0%, 0%)","text-halo-color":"hsla(0, 0%, 100%, 0.75)","text-halo-blur":0,"text-halo-width":2}},{id:"country_label-other",type:"symbol",source:"openmaptiles","source-layer":"place",maxzoom:12,filter:["all",["==","$type","Point"],["==","class","country"],["!has","iso_a2"]],layout:{"text-field":"{name:latin}","text-font":["Noto Sans Regular"],"text-max-width":10,"text-size":{stops:[[3,12],[8,22]]},visibility:"visible"},paint:{"text-color":"hsl(0, 0%, 13%)","text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":2,"text-halo-blur":0}},{id:"country_label",type:"symbol",source:"openmaptiles","source-layer":"place",maxzoom:12,filter:["all",["==","$type","Point"],["==","class","country"],["has","iso_a2"]],layout:{"text-field":"{name:latin}","text-font":["Noto Sans Bold"],"text-max-width":10,"text-size":{stops:[[3,12],[8,22]]},visibility:"visible"},paint:{"text-color":"hsl(0, 0%, 13%)","text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":2,"text-halo-blur":0}},{id:"clusters",type:"circle",source:"markers",filter:["has","point_count"],paint:{"circle-color":"#ef8c8c","circle-radius":["step",["get","point_count"],20,5,30,20,40],"circle-opacity":.7,"circle-stroke-width":2,"circle-stroke-color":"#fff"},interactive:!0},{id:"cluster-count",type:"symbol",source:"markers",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12}},{id:"unclustered-point",type:"circle",source:"markers",filter:["!has","point_count"],paint:{"circle-radius":6,"circle-opacity":.8,"circle-color":["match",["get","color"],0,"#C03B22",1,"#D9534F",2,"#E91E63",3,"#A03AB1",4,"#6F46B8",5,"#3F51B5",6,"#2196F3",7,"#37BDCf",8,"#359990",9,"#5CB85C",10,"#8BC34A",11,"#CDDC39",12,"#F7E64E",13,"#F0AD4E",14,"#EC9920",15,"#E46841",16,"#795548",17,"#9E9E9E",18,"#607D8B","#8BC34A"],"circle-stroke-width":1,"circle-stroke-color":"#fff"},interactive:!0}],id:"klokantech-basic"}},"./app/react/Markdown/CustomHooks/components/CejilChart.js":
/*!*****************************************************************!*\
  !*** ./app/react/Markdown/CustomHooks/components/CejilChart.js ***!
  \*****************************************************************/
/*! exports provided: countriesTemplate, countryKey, default */function(e,t,n){"use strict";n.r(t),n.d(t,"countriesTemplate",function(){return c}),n.d(t,"countryKey",function(){return d});n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! ../../../Charts */"./app/react/Charts/index.js"),a=n(/*! ../../../components/Elements/Loader */"./app/react/components/Elements/Loader.js"),i=n(/*! ../../../I18N */"./app/react/I18N/index.js");function l(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const c="58b2f3a35d59f31e1345b480",d="pa_s";class u extends s.Component{componentDidMount(){this.props.getData.call(this).then(([e,t,n])=>{this.setState({groupedResults:e,setA:t,setB:n})})}render(){let e=l(a.default,{});if(this.state&&this.state.groupedResults){const{aggregations:t}=this.state.groupedResults,n=this.props.thesauris.find(e=>e.get("_id")===c);let o=r.arrayUtils.sortValues(t.all[d].buckets.filter(e=>e.filtered.doc_count).map(e=>{const t=e,o=n.get("values").find(e=>e.get("id")===t.key);return t.label=o?o.get("label"):Object(i.t)("System","No Value",null,!1),t.results=t.filtered.doc_count,t}));o=this.props.prepareData.call(this,o,this.state.setA,this.state.setB),e=l("div",{className:"item item-chart"},void 0,l("p",{},void 0,this.props.label),l(r.StackedDualBarChart,{data:o,chartLabel:this.props.label}))}return l("div",{className:"item-group-charts",style:{paddingTop:"15px",paddingRight:"15px"}},void 0,e)}}u.defaultProps={label:null},t.default=u},"./app/react/Markdown/CustomHooks/components/CejilChart002.js":
/*!********************************************************************!*\
  !*** ./app/react/Markdown/CustomHooks/components/CejilChart002.js ***!
  \********************************************************************/
/*! exports provided: judgesCommisionersTemplate, countryKey, male, female, sexTranslationsContext, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"judgesCommisionersTemplate",function(){return l}),n.d(t,"countryKey",function(){return c}),n.d(t,"male",function(){return d}),n.d(t,"female",function(){return u}),n.d(t,"sexTranslationsContext",function(){return p}),n.d(t,"mapStateToProps",function(){return v});var o=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),s=n(/*! ../../../Search/SearchAPI */"./app/react/Search/SearchAPI.js"),r=n(/*! ../../../I18N */"./app/react/I18N/index.js"),a=n(/*! ./CejilChart */"./app/react/Markdown/CustomHooks/components/CejilChart.js"),i=n(/*! ../utils/parsingUtils */"./app/react/Markdown/CustomHooks/utils/parsingUtils.js");const l="58b2f3a35d59f31e1345b4b6",c="pa_s",d="dedcc624-0e11-4d4e-90d5-d1c0ea4c7a18",u="f2457229-e142-4b74-b595-2ac2f9b5f64e",p="58b2f3a35d59f31e1345b52d";function m(e,t){return Object.assign({},e,{sexo:{values:[t]}})}function f(e){return s.default.search({types:[l],filters:e,limit:0})}function h(){const e={};e[this.props.filterProperty]={from:-2208988800};const t=m(e,d),n=m(e,u);return Promise.all([e,t,n].map(f))}function y(e,t,n){return e.map(e=>{const o=e,s=i.default.findBucketsByCountry(t,c,o.key),a=i.default.findBucketsByCountry(n,c,o.key);return o.name=o.label,o.setALabel=Object(r.t)(p,"Hombre",null,!1),o.setAValue=s?s.filtered.doc_count:0,o.setBLabel=Object(r.t)(p,"Mujer",null,!1),o.setBValue=a?a.filtered.doc_count:0,o})}function v({thesauris:e},{filterProperty:t="mandatos_de_la_corte"}){return{thesauris:e,getData:h,prepareData:y,filterProperty:t}}t.default=Object(o.connect)(v)(a.default)},"./app/react/Markdown/CustomHooks/components/cejilChart001.js":
/*!********************************************************************!*\
  !*** ./app/react/Markdown/CustomHooks/components/cejilChart001.js ***!
  \********************************************************************/
/*! exports provided: mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"mapStateToProps",function(){return f});var o=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),s=n(/*! ../../../Search/SearchAPI */"./app/react/Search/SearchAPI.js"),r=n(/*! ../../../I18N */"./app/react/I18N/index.js"),a=n(/*! ./CejilChart */"./app/react/Markdown/CustomHooks/components/CejilChart.js"),i=n(/*! ../utils/parsingUtils */"./app/react/Markdown/CustomHooks/utils/parsingUtils.js");const l="58b2f3a35d59f31e1345b48a",c="58b2f3a35d59f31e1345b4a4",d="pa_s";function u(e){return s.default.search({types:e,limit:0})}function p(){const e=[[l,c],[l],[c]];return Promise.all(e.map(u))}function m(e,t,n){const o=this.props.templates.find(e=>e.get("_id")===l),s=Object(r.t)(l,o.get("name"),null,!1),a=this.props.templates.find(e=>e.get("_id")===c),u=Object(r.t)(c,a.get("name"),null,!1);return e.map(e=>{const o=e,r=i.default.findBucketsByCountry(t,d,o.key),a=i.default.findBucketsByCountry(n,d,o.key);return o.name=o.label,o.setALabel=s,o.setAValue=r?r.filtered.doc_count:0,o.setBLabel=u,o.setBValue=a?a.filtered.doc_count:0,o})}function f({templates:e,thesauris:t}){return{templates:e,thesauris:t,getData:p,prepareData:m}}t.default=Object(o.connect)(f)(a.default)},"./app/react/Markdown/CustomHooks/components/cejilHero.js":
/*!****************************************************************!*\
  !*** ./app/react/Markdown/CustomHooks/components/cejilHero.js ***!
  \****************************************************************/
/*! exports provided: cejilChart001, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"cejilChart001",function(){return m}),n.d(t,"mapStateToProps",function(){return f});var o,s=n(/*! react */"./node_modules/react/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react-redux */"./node_modules/react-redux/es/index.js")),a=n(/*! ../../../I18N */"./app/react/I18N/index.js"),i=n(/*! ../../../UI */"./app/react/UI/index.js"),l=n(/*! ../../../Search/SearchAPI */"./app/react/Search/SearchAPI.js");function c(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const d=["58b2f3a35d59f31e1345b48a"],u=["58b2f3a35d59f31e1345b4a4"],p=["58b2f3a35d59f31e1345b4ac","58b2f3a35d59f31e1345b471","58b2f3a35d59f31e1345b482","58b2f3a35d59f31e1345b479"];class m extends s.Component{getData(){l.default.search({limit:0}).then(e=>{this.setState({data:e.aggregations.all})})}conformLibraryLink(e,t){const n=e.map(e=>`%27${e}%27`);return t&&-1!==t.indexOf("/library/")?t.substring(t.indexOf("/library/"),t.length):`/library/?q=(order:desc,sort:creationDate,types:!(${n.join(",")}),userSelectedSorting:!t)`}getCount(e){return e.reduce((e,t)=>{const n=this.state.data.types.buckets.find(e=>e.key===t);return e+(n?n.filtered.doc_count:0)},0)}componentDidMount(){this.getData()}render(){const{title:e="",buttons:t=[],links:n=[]}=this.props,o=c(i.Icon,{icon:"spinner",pulse:!0,fixedWidth:!0});let s=o,r=o,l=o;return this.state&&this.state.data&&(s=this.getCount(d),r=this.getCount(u),l=this.getCount(p)),c("div",{className:"hero"},void 0,c("h1",{},void 0,e),c("div",{className:"hero-stats"},void 0,c(a.I18NLink,{to:this.conformLibraryLink(d,n.length&&n[0]?n[0]:null)},void 0,c("h2",{},void 0,s),c("span",{},void 0,t[0])),c(a.I18NLink,{to:this.conformLibraryLink(u,n.length&&n[1]?n[1]:null)},void 0,c("h2",{},void 0,r),c("span",{},void 0,t[1])),c(a.I18NLink,{to:this.conformLibraryLink(p,n.length&&n[2]?n[2]:null)},void 0,c("h2",{},void 0,l),c("span",{},void 0,t[2]))))}}function f({templates:e,thesauris:t}){return{templates:e,thesauris:t}}t.default=Object(r.connect)(f)(m)},"./app/react/Markdown/CustomHooks/index.js":
/*!*************************************************!*\
  !*** ./app/react/Markdown/CustomHooks/index.js ***!
  \*************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./components/cejilChart001 */"./app/react/Markdown/CustomHooks/components/cejilChart001.js"),s=n(/*! ./components/CejilChart002 */"./app/react/Markdown/CustomHooks/components/CejilChart002.js"),r=n(/*! ./components/cejilHero */"./app/react/Markdown/CustomHooks/components/cejilHero.js");t.default={cejilChart001:o.default,CejilChart002:s.default,cejilHero:r.default}},"./app/react/Markdown/CustomHooks/utils/parsingUtils.js":
/*!**************************************************************!*\
  !*** ./app/react/Markdown/CustomHooks/utils/parsingUtils.js ***!
  \**************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),t.default={findBucketsByCountry:function(e,t,n){return e.aggregations.all[t].buckets.find(e=>e.key===n)}}},"./app/react/Markdown/MarkdownViewer.js":
/*!**********************************************!*\
  !*** ./app/react/Markdown/MarkdownViewer.js ***!
  \**********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=n(/*! rison */"./node_modules/rison/js/rison.js"),i=n.n(a),l=n(/*! ./components */"./app/react/Markdown/components/index.js"),c=n(/*! ./CustomHooks */"./app/react/Markdown/CustomHooks/index.js"),d=n(/*! ./markdownToReact */"./app/react/Markdown/markdownToReact.js");function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function p(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class m extends s.Component{static errorHtml(e,t){return p("p",{className:"error"},e,p("br",{}),p("strong",{},void 0,p("i",{},void 0,"Custom component markup error: unsuported values! Please check your configuration")),p("br",{}),t,p("br",{}))}static customHook(e,t){const n=i.a.decode(e);if(!c.default[n.component])throw new Error("Invalid  component");const o=c.default[n.component];return r.a.createElement(o,u({},n,{key:t}))}inlineComponent(e,t,n){const{compact:o}=this.props;let s;return"list"===e&&(s=this.list(t,n)),"link"===e&&(s=r.a.createElement(l.default.MarkdownLink,u({},i.a.decode(t),{key:n}))),"searchbox"===e&&(s=r.a.createElement(l.default.SearchBox,u({},i.a.decode(t),{key:n}))),["vimeo","youtube","media"].includes(e)&&(s=p(l.default.MarkdownMedia,{config:t,compact:o},n)),"customhook"===e&&(s=m.customHook(t,n)),s}customComponent(e,t,n,o){try{if("function"==typeof e){const s=e;return r.a.createElement(s,u({},t,{key:n}),o)}if(e)return this.inlineComponent(e,t,n)}catch(e){return m.errorHtml(n,e.message)}return!1}list(e,t){const n=this.props.lists[this.renderedLists]||{},o=p(l.default.ItemList,{link:`/library/${n.params}`,items:n.items,options:n.options},t);return this.renderedLists+=1,o}render(){this.renderedLists=0;const e=Object(d.default)(this.props.markdown,this.customComponent.bind(this),this.props.html);return!!e&&p("div",{className:"markdown-viewer"},void 0,e)}}m.defaultProps={lists:[],markdown:"",html:!1,compact:!1},t.default=m},"./app/react/Markdown/components/BarChart.js":
/*!***************************************************!*\
  !*** ./app/react/Markdown/components/BarChart.js ***!
  \***************************************************/
/*! exports provided: BarChartComponent, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"BarChartComponent",function(){return d}),n.d(t,"mapStateToProps",function(){return u});n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),n(/*! recharts */"./node_modules/recharts/es6/index.js")),a=n(/*! ../../components/Elements/Loader */"./app/react/components/Elements/Loader.js"),i=n(/*! ../../Charts */"./app/react/Charts/index.js"),l=n(/*! ../markdownDatasets */"./app/react/Markdown/markdownDatasets.js");function c(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const d=e=>{const{excludeZero:t,maxCategories:n,layout:o,property:s,data:l,classname:d,context:u,thesauris:p}=e;let m=c(a.default,{});if(l){const a="true"===e.aggregateOthers,d=i.arrayUtils.sortValues(i.arrayUtils.formatDataForChart(l,s,p,{excludeZero:Boolean(t),context:u,maxCategories:n,aggregateOthers:a}));m=c(r.ResponsiveContainer,{height:320},void 0,c(r.BarChart,{height:300,data:d,layout:o},void 0,(({layout:e})=>c(r.XAxis,"vertical"===e?{type:"number",dataKey:"results"}:{dataKey:"label",label:""}))({layout:o}),(({layout:e})=>c(r.YAxis,"vertical"===e?{width:200,type:"category",dataKey:"label"}:{}))({layout:o}),c(r.CartesianGrid,{strokeDasharray:"2 4"}),c(r.Tooltip,{}),c(r.Bar,{dataKey:"results",fill:"rgb(30, 28, 138)",stackId:"unique"})))}return c("div",{className:`BarChart ${d}`},void 0,m)};d.defaultProps={context:"System",excludeZero:!1,layout:"horizontal",maxCategories:"0",aggregateOthers:"false",classname:"",data:null};const u=(e,t)=>({data:l.default.getAggregations(e,t),thesauris:e.thesauris});t.default=Object(s.connect)(u)(d)},"./app/react/Markdown/components/Connect.js":
/*!**************************************************!*\
  !*** ./app/react/Markdown/components/Connect.js ***!
  \**************************************************/
/*! exports provided: mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"mapStateToProps",function(){return p});var o,s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=n(/*! react */"./node_modules/react/index.js"),a=n.n(r),i=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! ./Context */"./app/react/Markdown/components/Context.js")),l=n(/*! ../utils */"./app/react/Markdown/utils.js");function c(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends r.Component{static objectPath(e,t){return e.split(".").reduce((e,t)=>e.toJS?e.get(t):e[t],t)}static renderChildren(e,t){return Array.isArray(e)?e.map((e,n)=>a.a.cloneElement(e,function(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};c(n,!0).forEach(function(t){d(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):c(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}({},t,{index:n}))):a.a.cloneElement(e,t)}render(){const{children:e}=this.props,t=Object.assign({},this.props);return delete t.children,function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default.Provider,{value:t},void 0,u.renderChildren(e,t))}}const p=(e,t)=>Object.keys(t).reduce((n,o)=>{if("children"===o)return Object.assign(n,{children:t.children});const s=Object(l.objectPath)(t[o],e);return Object.assign(n,{[o]:s})},{});t.default=Object(s.connectAdvanced)(()=>p)(u)},"./app/react/Markdown/components/ContactForm.js":
/*!******************************************************!*\
  !*** ./app/react/Markdown/components/ContactForm.js ***!
  \******************************************************/
/*! exports provided: ContactForm, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ContactForm",function(){return p});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! ../../I18N */"./app/react/I18N/index.js"),a=n(/*! ../../utils/api */"./app/react/utils/api.js"),i=n(/*! ../../UI */"./app/react/UI/index.js"),l=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),c=n(/*! redux */"./node_modules/redux/es/index.js"),d=n(/*! ../../Notifications/actions/notificationsActions */"./app/react/Notifications/actions/notificationsActions.js");function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class p extends s.Component{constructor(e,t){super(e,t),this.state={name:"",email:"",message:""},this.submit=this.submit.bind(this)}onChange(e,t){const n={};n[e]=t.target.value,this.setState(n)}submit(e){e.preventDefault(),a.default.post("contact",this.state).then(()=>{this.props.notify("Message sent","success"),this.setState({name:"",email:"",message:""})})}render(){return u("form",{onSubmit:this.submit,className:"contact-form"},void 0,u("div",{className:"form-group"},void 0,u("label",{className:"form-group-label",htmlFor:"name"},void 0,u(r.Translate,{},void 0,"Name")),u("input",{required:!0,name:"name",className:"form-control",onChange:this.onChange.bind(this,"name"),value:this.state.name})),u("div",{className:"form-group"},void 0,u("label",{className:"form-group-label",htmlFor:"email"},void 0,u(r.Translate,{},void 0,"Email")),u("input",{required:!0,name:"email",className:"form-control",onChange:this.onChange.bind(this,"email"),value:this.state.email})),u("div",{className:"form-group"},void 0,u("label",{className:"form-group-label",htmlFor:"message"},void 0,u(r.Translate,{},void 0,"Message")),u("textarea",{required:!0,name:"message",className:"form-control",onChange:this.onChange.bind(this,"message"),value:this.state.message})),u("button",{type:"submit",className:"btn btn-success"},void 0,u(i.Icon,{icon:"paper-plane"})," ",u("span",{className:"btn-label"},void 0,u(r.Translate,{},void 0,"Send"))))}}t.default=Object(l.connect)(null,function(e){return Object(c.bindActionCreators)({notify:d.notify},e)})(p)},"./app/react/Markdown/components/Context.js":
/*!**************************************************!*\
  !*** ./app/react/Markdown/components/Context.js ***!
  \**************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! react */"./node_modules/react/index.js"),s=n.n(o);t.default=s.a.createContext("")},"./app/react/Markdown/components/Counter.js":
/*!**************************************************!*\
  !*** ./app/react/Markdown/components/Counter.js ***!
  \**************************************************/
/*! exports provided: mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"mapStateToProps",function(){return l});var o=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),s=n(/*! prop-types */"./node_modules/prop-types/index.js"),r=n.n(s),a=n(/*! ../markdownDatasets */"./app/react/Markdown/markdownDatasets.js");const i=({count:e})=>e;i.defaultProps={count:"-"},i.propTypes={count:r.a.oneOfType([r.a.number,r.a.string])};const l=(e,t)=>({count:a.default.getAggregation(e,t)});t.default=Object(o.connect)(l)(i)},"./app/react/Markdown/components/EntityInfo.js":
/*!*****************************************************!*\
  !*** ./app/react/Markdown/components/EntityInfo.js ***!
  \*****************************************************/
/*! exports provided: mapDispatchToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"mapDispatchToProps",function(){return d});var o=n(/*! react */"./node_modules/react/index.js"),s=n.n(o),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react-redux */"./node_modules/react-redux/es/index.js")),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! ../../Multireducer */"./app/react/Multireducer/index.js"),l=n(/*! ../../Library/actions/libraryActions */"./app/react/Library/actions/libraryActions.js");class c extends o.Component{constructor(e){super(e),this.getAndSelect=this.getAndSelect.bind(this)}async getAndSelect(e){const{getAndSelectDocument:t}=this.props;t(e)}render(){const{entity:e,tag:t,classname:n,children:o}=this.props;return s.a.createElement(t,{className:n,onClick:()=>this.getAndSelect(e)},o)}}c.defaultProps={entity:"",tag:"div",children:"",classname:""};const d=e=>Object(a.bindActionCreators)({getAndSelectDocument:l.getAndSelectDocument},Object(i.wrapDispatch)(e,"library"));t.default=Object(r.connect)(()=>({}),d)(c)},"./app/react/Markdown/components/EntityLink.js":
/*!*****************************************************!*\
  !*** ./app/react/Markdown/components/EntityLink.js ***!
  \*****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return l});var o,s=n(/*! react */"./node_modules/react/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! ../../I18N */"./app/react/I18N/index.js")),a=n(/*! ./Context */"./app/react/Markdown/components/Context.js");function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class l extends s.Component{renderLink(e){const{children:t}=this.props,n=e.toJS?e.get("sharedId"):e.sharedId,o=`/${!(e.toJS?e.get("file"):e.file)?"entity":"document"}/${n}`;return i(r.I18NLink,{to:o,onClick:this.onClick},void 0,t)}render(){return i(a.default.Consumer,{},void 0,e=>this.renderLink(e))}}l.defaultProps={children:""}},"./app/react/Markdown/components/GaugeChart.js":
/*!*****************************************************!*\
  !*** ./app/react/Markdown/components/GaugeChart.js ***!
  \*****************************************************/
/*! exports provided: GaugeChartComponent, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"GaugeChartComponent",function(){return u}),n.d(t,"mapStateToProps",function(){return p});var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! recharts */"./node_modules/recharts/es6/index.js")),l=n(/*! ../../components/Elements/Loader */"./app/react/components/Elements/Loader.js"),c=n(/*! ../markdownDatasets */"./app/react/Markdown/markdownDatasets.js");function d(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const u=e=>{const{dataset:t,property:n,value:o,max:s,height:a,classname:c,colors:u,children:p}=e;let m=d(l.default,{});const f=r.a.Children.map(p,e=>r.a.isValidElement(e)?r.a.cloneElement(e,{dataset:t,property:n}):e);if(null!==o){const e=[{label:"progress",results:o},{label:"",results:s-o}],t=u.split(",");m=d(i.ResponsiveContainer,{width:"100%",height:a},void 0,d(i.PieChart,{width:2*a,height:2*a},void 0,d(i.Pie,{data:e,dataKey:"results",labelLine:!1,outerRadius:a,innerRadius:Math.floor(.8*a),fill:"#8884d8",startAngle:180,endAngle:0,cy:a},void 0,e.map((e,n)=>d(i.Cell,{fill:t[n%t.length]},n))),f.length&&d("g",{},void 0,d("text",{x:"50%",y:a,dy:-1,style:{fontSize:`${a/2}px`},textAnchor:"middle",fill:t[0]},void 0,f))))}return d("div",{className:`GaugeChart ${c}`},void 0,m)};u.defaultProps={dataset:void 0,classname:"",colors:"#000099,#ccc",value:null,children:""};const p=(e,t)=>({value:c.default.getMetadataValue(e,t),max:Number(t.max)||100,height:Number(t.height)||110});t.default=Object(a.connect)(p)(u)},"./app/react/Markdown/components/ItemList.js":
/*!***************************************************!*\
  !*** ./app/react/Markdown/components/ItemList.js ***!
  \***************************************************/
/*! exports provided: ItemList, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ItemList",function(){return v});var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),a=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! query-string */"./node_modules/query-string/index.js")),i=n.n(a),l=n(/*! ../../Layout/Lists */"./app/react/Layout/Lists.js"),c=n(/*! ../../Library/components/Doc */"./app/react/Library/components/Doc.js"),d=n(/*! ../../I18N */"./app/react/I18N/index.js"),u=n(/*! ../../Library/actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),p=n(/*! ../../Multireducer */"./app/react/Multireducer/index.js"),m=n(/*! redux */"./node_modules/redux/es/index.js"),f=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),h=n(/*! ./slider */"./app/react/Markdown/components/slider.js");function y(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class v extends s.Component{render(){const{items:e,link:t}=this.props,{sort:n}=i.a.parse(t.substring(t.indexOf("?"))),o=n?{sort:n}:{sort:"title"},s=e=>Object(m.bindActionCreators)({onClick:(e,t)=>Object(u.selectSingleDocument)(t)},Object(p.wrapDispatch)(e,"library")),a=e.map((e,t)=>{return y(Object(f.connect)(null,s)(c.default),{doc:Object(r.fromJS)(e),searchParams:o,storeKey:"library"},t)});let v=y(l.RowList,{},void 0,a);return this.props.options.slider&&(v=y(l.RowList,{},void 0,y(h.default,{visibleCount:3},void 0,a))),y("div",{},void 0,v,y("div",{className:"row"},void 0,y("div",{className:"col-sm-12 text-center"},void 0,y(d.I18NLink,{to:`${t}`},void 0,y("button",{className:"btn btn-default"},void 0,Object(d.t)("System","View in library"))))))}}v.defaultProps={items:[],options:{}},t.default=v},"./app/react/Markdown/components/ListChart.js":
/*!****************************************************!*\
  !*** ./app/react/Markdown/components/ListChart.js ***!
  \****************************************************/
/*! exports provided: ListChartComponent, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ListChartComponent",function(){return f}),n.d(t,"mapStateToProps",function(){return h});n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),n(/*! rison */"./node_modules/rison/js/rison.js")),a=n.n(r),i=n(/*! query-string */"./node_modules/query-string/index.js"),l=n.n(i),c=n(/*! ../../components/Elements/Loader */"./app/react/components/Elements/Loader.js"),d=n(/*! ../../Charts */"./app/react/Charts/index.js"),u=n(/*! ./MarkdownLink */"./app/react/Markdown/components/MarkdownLink.js"),p=n(/*! ../markdownDatasets */"./app/react/Markdown/markdownDatasets.js");function m(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const f=e=>{const{excludeZero:t,property:n,data:o,classname:s,context:r,colors:i,thesauris:p}=e,f=i.split(",");let h=m(c.default,{});if(o){const s=d.arrayUtils.sortValues(d.arrayUtils.formatDataForChart(o,n,p,{excludeZero:Boolean(t),context:r}));let i={filters:{}};if(e.baseUrl){const{q:t}=l.a.parse(e.baseUrl.substring(e.baseUrl.indexOf("?")));(i=a.a.decode(t)).filters=i.filters||{}}h=m("ul",{},void 0,s.map((t,o)=>{const s=m("div",{},void 0,m("div",{className:"list-bullet",style:{backgroundColor:f[o%f.length]}},void 0,m("span",{},void 0,t.results)),m("span",{className:"list-label"},void 0,t.label));return i.filters[n]={values:[t.id]},m("li",{},t.id,e.baseUrl&&m(u.default,{url:`/library/?q=${a.a.encode(i)}`,classname:"list-link"},void 0,s),!e.baseUrl&&s)}))}return m("div",{className:`ListChart ${s}`},void 0,h)};f.defaultProps={context:"System",excludeZero:!1,classname:"",colors:"#ffcc00,#ffd633,#ffe066,#ffeb99,#fff5cc",data:null,baseUrl:null};const h=(e,t)=>({data:p.default.getAggregations(e,t),thesauris:e.thesauris});t.default=Object(s.connect)(h)(f)},"./app/react/Markdown/components/Map.js":
/*!**********************************************!*\
  !*** ./app/react/Markdown/components/Map.js ***!
  \**********************************************/
/*! exports provided: MapComponent, mapStateToProps, mapDispatchToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"MapComponent",function(){return f}),n.d(t,"mapStateToProps",function(){return h}),n.d(t,"mapDispatchToProps",function(){return y});n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=n(/*! redux */"./node_modules/redux/es/index.js"),a=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),n(/*! ../../Map */"./app/react/Map/index.js")),i=n(/*! ../../Layout */"./app/react/Layout/index.js"),l=n(/*! ../../Library/actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),c=n(/*! ../../Multireducer */"./app/react/Multireducer/index.js"),d=n(/*! ../../components/Elements/Loader */"./app/react/components/Elements/Loader.js"),u=n(/*! ../markdownDatasets */"./app/react/Markdown/markdownDatasets.js");function p(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const m=e=>p("div",{},void 0,p(i.TemplateLabel,{template:e.properties.entity.template}),"  ",e.properties.entity.title),f=e=>{const{data:t,classname:n,scrollZoom:o,showControls:s}=e,r=t=>e.getAndSelectDocument(t.properties.entity.sharedId),i=t=>{e.unselectAllDocuments(),e.selectDocuments(t.map(e=>e.properties.entity))};return p("div",{className:`Map ${n}`},void 0,t?p(a.Markers,{entities:t},void 0,e=>p(a.Map,{markers:e,zoom:1,clickOnMarker:r,clickOnCluster:i,renderPopupInfo:m,cluster:!0,scrollZoom:"true"===o,showControls:"true"===s})):p(d.default,{}))};f.defaultProps={classname:"",data:null,scrollZoom:null,showControls:null};const h=(e,t)=>({data:u.default.getRows(e,t)}),y=e=>Object(r.bindActionCreators)({getAndSelectDocument:l.getAndSelectDocument,selectDocuments:l.selectDocuments,unselectAllDocuments:l.unselectAllDocuments},Object(c.wrapDispatch)(e,"library"));t.default=Object(s.connect)(h,y,null)(f)},"./app/react/Markdown/components/MarkdownLink.js":
/*!*******************************************************!*\
  !*** ./app/react/Markdown/components/MarkdownLink.js ***!
  \*******************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! react-router */"./node_modules/react-router/es/index.js");n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js");const r=({url:e,classname:t,children:n})=>(console.warn('MarkdownLink is deprecated, use <Link to="url"></Link> instead'),function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.Link,{to:e,className:t,href:e},void 0,n));r.defaultProps={children:"",classname:""},t.default=r},"./app/react/Markdown/components/MarkdownMedia.js":
/*!********************************************************!*\
  !*** ./app/react/Markdown/components/MarkdownMedia.js ***!
  \********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react-player */"./node_modules/react-player/lib/ReactPlayer.js")),i=n.n(a),l=n(/*! ../../UI */"./app/react/UI/index.js");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function d(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const u=e=>{const t={url:"",options:{}};let n=e.config.replace(/\(|\)/g,"").split(",");t.url=n.shift(),n=(n.join(",")||"{}").replace(/&quot;/g,'"');try{n=JSON.parse(n)}catch(e){n={}}return t.options=n,t};class p extends s.Component{timeLinks(e){const t=e||{};return Object.keys(t).map((e,n)=>{const o=e.split(":").reverse().reduce((e,t,n)=>e+parseInt(t,10)*60**n,0);return d("div",{className:"timelink",onClick:this.seekTo.bind(this,o)},n,d("b",{},void 0,d(l.Icon,{icon:"play"})," ",e),d("span",{},void 0,t[e]))})}seekTo(e){this.player.seekTo(e)}render(){const e=u(this.props),{compact:t}=this.props,n={width:"100%"};return t&&(n.height="100%"),d("div",{className:`video-container ${t?"compact":""}`},void 0,d("div",{},void 0,r.a.createElement(i.a,c({className:"react-player",ref:e=>{this.player=e},url:e.url},n,{controls:!0}))),d("div",{},void 0,this.timeLinks(e.options.timelinks)))}}p.defaultProps={compact:!1},t.default=p},"./app/react/Markdown/components/PayPalDonateLink.js":
/*!***********************************************************!*\
  !*** ./app/react/Markdown/components/PayPalDonateLink.js ***!
  \***********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! react-router */"./node_modules/react-router/es/index.js");n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js");const r=({paypalid:e,classname:t,children:n,currency:r,amount:a})=>{const i=`https://www.paypal.com/cgi-bin/webscr?cmd=_donations&business=${e}&currency_code=${r}${a?`&amount=${a}`:""}&source=url`;return t+=" paypal-donate",function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.Link,{className:t,href:i,target:"_blank",rel:"noreferrer noopener"},void 0,n)};r.defaultProps={children:"",classname:"",amount:null},t.default=r},"./app/react/Markdown/components/PieChart.js":
/*!***************************************************!*\
  !*** ./app/react/Markdown/components/PieChart.js ***!
  \***************************************************/
/*! exports provided: PieChartComponent, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"PieChartComponent",function(){return u}),n.d(t,"mapStateToProps",function(){return p});n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),n(/*! recharts */"./node_modules/recharts/es6/index.js")),a=n(/*! ../../components/Elements/Loader */"./app/react/components/Elements/Loader.js"),i=n(/*! ../../Charts */"./app/react/Charts/index.js"),l=n(/*! ./PieChartLabel */"./app/react/Markdown/components/PieChartLabel.js"),c=n(/*! ../markdownDatasets */"./app/react/Markdown/markdownDatasets.js");function d(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const u=e=>{const{showLabel:t,outerRadius:n,innerRadius:o,property:s,data:c,classname:u,context:p,colors:m,thesauris:f,maxCategories:h}=e;let y=d(a.default,{});if(c){const a="true"===e.aggregateOthers,u=i.arrayUtils.sortValues(i.arrayUtils.formatDataForChart(c,s,f,{context:p,excludeZero:!0,maxCategories:h,aggregateOthers:a})),v=m.split(","),b="true"===t;y=d(r.ResponsiveContainer,{width:"100%",height:222},void 0,d(r.PieChart,{width:222,height:222},void 0,d(r.Pie,{data:u,dataKey:"results",nameKey:"label",innerRadius:o,outerRadius:n,fill:"#8884d8",labelLine:b,label:b?d(l.default,{data:u}):void 0},void 0,u.map((e,t)=>d(r.Cell,{fill:v[t%v.length]},t))),!b&&d(r.Tooltip,{})))}return d("div",{className:`PieChart ${u}`},void 0,y)};u.defaultProps={context:"System",innerRadius:"0",outerRadius:"105",classname:"",colors:"#ffcc00,#ffd633,#ffe066,#ffeb99,#fff5cc",data:null,showLabel:"false",aggregateOthers:"false",maxCategories:"0"};const p=(e,t)=>({data:c.default.getAggregations(e,t),thesauris:e.thesauris});t.default=Object(s.connect)(p)(u)},"./app/react/Markdown/components/PieChartLabel.js":
/*!********************************************************!*\
  !*** ./app/react/Markdown/components/PieChartLabel.js ***!
  \********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o;n(/*! react */"./node_modules/react/index.js"),n(/*! prop-types */"./node_modules/prop-types/index.js");const s=e=>{const{data:t,cx:n,cy:s,midAngle:r,innerRadius:a,outerRadius:i,value:l,index:c}=e,d=Math.PI/180,u=25+a+(i-a),p=n+u*Math.cos(-r*d);return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("text",{x:p,y:s+u*Math.sin(-r*d),fill:"#8884d8",textAnchor:p>n?"start":"end",dominantBaseline:"central"},void 0,t[c].label," (",l,")")};s.defaultProps={cx:0,cy:0,value:0,innerRadius:0,outerRadius:0,midAngle:0,index:0},t.default=s},"./app/react/Markdown/components/PublicForm.js":
/*!*****************************************************!*\
  !*** ./app/react/Markdown/components/PublicForm.js ***!
  \*****************************************************/
/*! exports provided: mapStateToProps, mapDispatchToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"mapStateToProps",function(){return j}),n.d(t,"mapDispatchToProps",function(){return S});var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),n(/*! ../../Metadata */"./app/react/Metadata/index.js")),l=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),c=n(/*! ../../ReactReduxForms */"./app/react/ReactReduxForms/index.js"),d=n(/*! ../../I18N */"./app/react/I18N/index.js"),u=n(/*! ../../Uploads/actions/uploadsActions */"./app/react/Uploads/actions/uploadsActions.js"),p=n(/*! redux */"./node_modules/redux/es/index.js"),m=n(/*! ../../Forms */"./app/react/Forms/index.js"),f=n(/*! ../../components/Elements/Loader */"./app/react/components/Elements/Loader.js");function h(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function b(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class g extends s.Component{static renderTitle(){return b(m.FormGroup,{model:".title"},"title",b("ul",{className:"search__filter"},void 0,b("li",{},void 0,b("label",{htmlFor:"title"},void 0,b(d.Translate,{},void 0,"Title"),b("span",{className:"required"},void 0,"*"))),b("li",{className:"wide"},void 0,b(l.Control.text,{id:"title",className:"form-control",model:".title"}))))}static renderSubmitState(){return b("div",{className:"public-form submiting"},void 0,b("h3",{},void 0,b(d.Translate,{},void 0,"Submiting")),b(f.default,{}))}static renderFileField(e,t){const n={className:"form-control",model:`.${e}`},o=Object.assign(n,t);return b("div",{className:"form-group"},void 0,b("ul",{className:"search__filter"},void 0,b("li",{},void 0,b("label",{htmlFor:e},void 0,b(d.Translate,{},void 0,"file"===e?"Document":"Attachments"),r.a.createElement(l.Control.file,v({id:e},o))))))}constructor(e){super(e),this.handleSubmit=this.handleSubmit.bind(this),this.validators=Object.assign({captcha:{required:e=>e&&e.length}},i.validator.generate(e.template.toJS())),this.state={submiting:!1}}attachDispatch(e){this.formDispatch=e}resetForm(){this.formDispatch(l.actions.reset("publicform"))}handleSubmit(e){const t=function(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};h(n,!0).forEach(function(t){y(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):h(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}({},e),{submit:n,template:o,remote:s}=this.props;t.file=e.file?e.file[0]:void 0,t.template=o.get("_id"),n(t,s).then(e=>(this.setState({submiting:!0}),e.promise.then(()=>{this.setState({submiting:!1}),this.resetForm(),this.refreshCaptcha()}).catch(()=>{this.setState({submiting:!1}),this.refreshCaptcha()}))).catch(()=>{this.setState({submiting:!1}),this.refreshCaptcha()})}renderCaptcha(){const{remote:e}=this.props;return b(m.FormGroup,{model:".captcha"},"captcha",b("ul",{className:"search__filter"},void 0,b("li",{},void 0,b("label",{},void 0,b(d.Translate,{},void 0,"Captcha"),b("span",{className:"required"},void 0,"*"))),b("li",{className:"wide"},void 0,b(c.Captcha,{remote:e,refresh:e=>{this.refreshCaptcha=e},model:".captcha"}))))}render(){const{template:e,thesauris:t,file:n,attachments:o}=this.props,{submiting:s}=this.state;return b(l.LocalForm,{validators:this.validators,model:"publicform",getDispatch:e=>this.attachDispatch(e),onSubmit:this.handleSubmit},void 0,s?g.renderSubmitState():b("div",{className:"public-form"},void 0,g.renderTitle(),b(i.MetadataFormFields,{thesauris:t,model:"publicform",template:e}),!!n&&g.renderFileField("file",{accept:".pdf"}),!!o&&g.renderFileField("attachments",{multiple:"multiple"}),this.renderCaptcha(),b("input",{type:"submit",className:"btn btn-success",value:"Submit"})))}}const j=(e,t)=>({template:e.templates.find(e=>e.get("_id")===t.template),thesauris:e.thesauris,file:void 0!==t.file,remote:void 0!==t.remote,attachments:void 0!==t.attachments});function S(e){return Object(p.bindActionCreators)({submit:u.publicSubmit},e)}t.default=Object(a.connect)(j,S)(g)},"./app/react/Markdown/components/Repeat.js":
/*!*************************************************!*\
  !*** ./app/react/Markdown/components/Repeat.js ***!
  \*************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! react */"./node_modules/react/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! ./Context */"./app/react/Markdown/components/Context.js")),a=n(/*! ../utils */"./app/react/Markdown/utils.js");function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=class extends s.Component{render(){const{path:e,children:t}=this.props;return i(r.default.Consumer,{},void 0,n=>(Object(a.objectPath)(e,n)||[]).map((e,n)=>i(r.default.Provider,{value:e},n,t)))}}},"./app/react/Markdown/components/SearchBox.js":
/*!****************************************************!*\
  !*** ./app/react/Markdown/components/SearchBox.js ***!
  \****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! react-router */"./node_modules/react-router/es/index.js"),a=(n(/*! react */"./node_modules/react/index.js"),n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! rison */"./node_modules/rison/js/rison.js")),i=n.n(a),l=n(/*! ../../UI */"./app/react/UI/index.js"),c=n(/*! ../../Library/components/SearchTips */"./app/react/Library/components/SearchTips.js");function d(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const u=({searchTerm:e})=>{r.browserHistory.push(`/library/?q=${i.a.encode({searchTerm:e})}`)},p=({placeholder:e,classname:t})=>d("div",{className:`search-box ${t}`},void 0,d(s.Form,{model:"library.search",onSubmit:u},void 0,d("div",{className:"input-group"},void 0,d("button",{type:"submit",className:"btn btn-primary"},void 0,d(l.Icon,{icon:"search"})),d(s.Field,{model:".searchTerm"},void 0,d("input",{className:"form-control",type:"text",placeholder:e})))),d(c.default,{}));p.defaultProps={placeholder:"",classname:""},t.default=p},"./app/react/Markdown/components/Slideshow.js":
/*!****************************************************!*\
  !*** ./app/react/Markdown/components/Slideshow.js ***!
  \****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! react-image-gallery */"./node_modules/react-image-gallery/build/image-gallery.js"),r=n.n(s);n(/*! react-image-gallery/styles/scss/image-gallery.scss */"./node_modules/react-image-gallery/styles/scss/image-gallery.scss"),n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js");const a=({children:e,showNav:t,showFullscreenButton:n,showPlayButton:s,autoPlay:a,classname:i})=>{const l=e.map(e=>({renderItem:()=>e}));return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(r.a,{additionalClass:i,items:l,autoPlay:a,showNav:t,showThumbnails:!1,showFullscreenButton:n,showPlayButton:s})};a.defaultProps={autoPlay:!0,showNav:!1,showFullscreenButton:!1,showPlayButton:!1,classname:""},t.default=a},"./app/react/Markdown/components/Value.js":
/*!************************************************!*\
  !*** ./app/react/Markdown/components/Value.js ***!
  \************************************************/
/*! exports provided: ValueComponent, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ValueComponent",function(){return c}),n.d(t,"mapStateToProps",function(){return d});var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! ../markdownDatasets */"./app/react/Markdown/markdownDatasets.js")),i=n(/*! ./Context */"./app/react/Markdown/components/Context.js"),l=n(/*! ../utils */"./app/react/Markdown/utils.js");class c extends s.Component{renderChildren(e){const{path:t}=this.props;return t?Object(l.objectPath)(t,e):e}render(){const{property:e,value:t}=this.props;return e?this.renderChildren(t):function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default.Consumer,{},void 0,e=>this.renderChildren(e))}}c.defaultProps={value:"-",path:"",property:""};const d=(e,t)=>t.property?{value:a.default.getMetadataValue(e,t)}:{};t.default=Object(r.connect)(d)(c)},"./app/react/Markdown/components/index.js":
/*!************************************************!*\
  !*** ./app/react/Markdown/components/index.js ***!
  \************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! react-router */"./node_modules/react-router/es/index.js"),s=n(/*! ../../UI */"./app/react/UI/index.js"),r=n(/*! ./BarChart */"./app/react/Markdown/components/BarChart.js"),a=n(/*! ./Counter */"./app/react/Markdown/components/Counter.js"),i=n(/*! ./ContactForm */"./app/react/Markdown/components/ContactForm.js"),l=n(/*! ./EntityLink */"./app/react/Markdown/components/EntityLink.js"),c=n(/*! ./ItemList */"./app/react/Markdown/components/ItemList.js"),d=n(/*! ./Repeat */"./app/react/Markdown/components/Repeat.js"),u=n(/*! ./Context */"./app/react/Markdown/components/Context.js"),p=n(/*! ./Connect */"./app/react/Markdown/components/Connect.js"),m=n(/*! ./Slideshow */"./app/react/Markdown/components/Slideshow.js"),f=n(/*! ./Map */"./app/react/Markdown/components/Map.js"),h=n(/*! ./MarkdownLink */"./app/react/Markdown/components/MarkdownLink.js"),y=n(/*! ./PayPalDonateLink */"./app/react/Markdown/components/PayPalDonateLink.js"),v=n(/*! ./PublicForm */"./app/react/Markdown/components/PublicForm.js"),b=n(/*! ./MarkdownMedia */"./app/react/Markdown/components/MarkdownMedia.js"),g=n(/*! ./PieChart */"./app/react/Markdown/components/PieChart.js"),j=n(/*! ./ListChart */"./app/react/Markdown/components/ListChart.js"),S=n(/*! ./GaugeChart */"./app/react/Markdown/components/GaugeChart.js"),_=n(/*! ./Value */"./app/react/Markdown/components/Value.js"),x=n(/*! ./SearchBox */"./app/react/Markdown/components/SearchBox.js"),w=n(/*! ./EntityInfo */"./app/react/Markdown/components/EntityInfo.js");t.default={MarkdownMedia:b.default,ContactForm:i.default,Context:u.default,Connect:p.default,EntityLink:l.default,ItemList:c.default,Slideshow:m.default,MarkdownLink:h.default,PayPalDonateLink:y.default,PublicForm:v.default,SearchBox:x.default,Counter:a.default,BarChart:r.default,PieChart:g.default,ListChart:j.default,Repeat:d.default,GaugeChart:S.default,Value:_.default,Icon:s.Icon,Map:f.default,Link:o.Link,EntityInfo:w.default}},"./app/react/Markdown/components/slider.js":
/*!*************************************************!*\
  !*** ./app/react/Markdown/components/slider.js ***!
  \*************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return c});var o,s=n(/*! react */"./node_modules/react/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! ../../UI */"./app/react/UI/index.js"));function a(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const i=(e,t)=>e>=0?e%t:t+e,l=(e,t,n)=>{if(!e.length)return[];let o=e.map((e,t)=>t);return e.length>n&&(o=((e,t,n)=>{const o=-Math.floor(t/2),s=[];for(let n=0;n<t;n+=1)s.push(e+o+n);return s.map(e=>i(e,n))})(t,n,e.length)),o.map(t=>e[t])};class c extends s.Component{constructor(e){super(e),this.state={currentIndex:0}}componentWillMount(){const{initialIndex:e}=this.props;this.setState({currentIndex:e||0})}slide(e){let{currentIndex:t}=this.state;const{children:n}=this.props;t=i(t+e,n.length),this.setState({currentIndex:t})}render(){const{children:e,visibleCount:t}=this.props,{currentIndex:n}=this.state,o=l(e,n,t);return a("div",{className:"slider"},void 0,e.length>t&&a("div",{className:"slider-buttons"},void 0,a("button",{className:"slider-btn",onClick:()=>this.slide(-1)},void 0,a(r.Icon,{icon:"angle-left"})),a("button",{className:"slider-btn",onClick:()=>this.slide(1)},void 0,a(r.Icon,{icon:"angle-right"}))),a("div",{className:"slider-items"},void 0,o))}}},"./app/react/Markdown/index.js":
/*!*************************************!*\
  !*** ./app/react/Markdown/index.js ***!
  \*************************************/
/*! exports provided: markdownDatasets, default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./MarkdownViewer */"./app/react/Markdown/MarkdownViewer.js"),s=n(/*! ./markdownDatasets */"./app/react/Markdown/markdownDatasets.js");n.d(t,"markdownDatasets",function(){return s.default}),t.default=o.default},"./app/react/Markdown/markdownDatasets.js":
/*!************************************************!*\
  !*** ./app/react/Markdown/markdownDatasets.js ***!
  \************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! htmlparser2/lib/Parser */"./node_modules/htmlparser2/lib/Parser.js"),s=n.n(o),r=n(/*! query-string */"./node_modules/query-string/index.js"),a=n.n(r),i=n(/*! rison */"./node_modules/rison/js/rison.js"),l=n.n(i),c=n(/*! big.js */"./node_modules/big.js/big.js"),d=n.n(c),u=n(/*! ../Search/SearchAPI */"./app/react/Search/SearchAPI.js"),p=n(/*! ../utils/api */"./app/react/utils/api.js"),m=n(/*! ../Entities/EntitiesAPI */"./app/react/Entities/EntitiesAPI.js");const f=e=>e.entity?e:(({url:e="",geolocation:t=!1})=>{const{q:n}=a.a.parse(e.substring(e.indexOf("?")));if(!n){const e={allAggregations:!0,limit:0};return t&&(e.geolocation=!0),e}const o=l.a.decode(n);return o.limit=0,t&&(o.geolocation=!0),o})(e),h=e=>e.reduce((e,t)=>Object.assign({},e,{[t.name]:t.data}),{}),y=(e,{property:t,dataset:n="default"})=>{const o=e.page.datasets.get(n);return o?o.getIn(["aggregations","all",t,"buckets"]):void 0};t.default={fetch:async(e,t)=>((e,t)=>Promise.all(Object.keys(e).map(n=>{if(e[n].query)return p.default.get(e[n].url,t).then(e=>({data:e.json,name:n}));const o=e[n].entity?m.default.get:u.default.search,s=e[n].entity?{sharedId:e[n].entity}:e[n],r=e[n].entity?e=>e[0]:e=>e;return o(t.set(s)).then(r).then(e=>({data:e,name:n}))})))((e=>{const t={};return new s.a({onopentag(e,n){"dataset"===e&&(t[n.name||"default"]=f(n)),"query"===e&&(t[n.name||"default"]={url:n.url,query:!0})}},{decodeEntities:!0}).parseComplete(e),t})(e),t).then(h),getRows(e,{dataset:t="default"}){const n=e.page.datasets.get(t);if(n)return n.get("rows")},getAggregations:y,getAggregation(e,{uniqueValues:t,property:n,value:o,dataset:s="default"}){const r=y(e,{property:n,dataset:s});if(r)return t?r.filter(e=>0!==e.getIn(["filtered","doc_count"])).size:((e,t)=>{let n=new d.a(0);return t.forEach(t=>{const o=e.find(e=>e.get("key")===t),s=o?o.getIn(["filtered","doc_count"]):0;n=n.plus(s||0)}),Number(n)})(r,o?o.split(","):[""])},getMetadataValue(e,{property:t,dataset:n="default"}){const o=e.page.datasets.get(n);return o?Number(o.getIn(["metadata",t])):void 0}}},"./app/react/Markdown/markdownToReact.js":
/*!***********************************************!*\
  !*** ./app/react/Markdown/markdownToReact.js ***!
  \***********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! react */"./node_modules/react/index.js"),s=n.n(o),r=n(/*! html-to-react */"./node_modules/html-to-react/index.js"),a=n.n(r),i=n(/*! markdown-it */"./node_modules/markdown-it/index.js"),l=n.n(i),c=n(/*! markdown-it-container */"./node_modules/markdown-it-container/index.js"),d=n.n(c),u=n(/*! ./components */"./app/react/Markdown/components/index.js");const p=Object.keys(u.default).reduce((e,t)=>Object.assign({},e,{[t.toLowerCase()]:u.default[t]}),{}),m=Object.keys(p),f=new r.Parser({xmlMode:!0}),h=new a.a.ProcessNodeDefinitions(s.a),y="{\\w+}\\(.+\\)\\(.+\\)|{\\w+}\\(.+\\)",v={validate:()=>!0,render(e,t){const n=e[t];return"container_dynamic_open"===n.type?`<div class="${n.info.trim()}">`:"</div>"}},b=l()().use(d.a,"dynamic",v),g=l()({html:!0}).use(d.a,"dynamic",v),j=/{(.+)}\(/,S=e=>{let t;const n=/{\w+}(\(.+\)\(.+\))|{\w+}(\(.+\))/g.exec(e);return n&&(t=n[1]||n[2]),t};t.default=((e,t,n=!1)=>{let o=b;n&&(o=g);const s=e.replace(new RegExp(`(${y})`,"g"),"$1\n"),r=(e=>e.replace(/((\/)?(table|thead|tbody|tr|th|td)>)[\s\n]+(<(\/)?(table|thead|tbody|tr|th|td))/g,"$1$4").replace(/((\/)?(table|thead|tbody|tr|th|td)>)[\s\n]+(<(\/)?(table|thead|tbody|tr|th|td))/g,"$1$4"))(o.render(s).replace(new RegExp(`<p>(${y})</p>`,"g"),"<placeholder>$1</placeholder>")),a=[{shouldProcessNode:()=>!0,processNode:(e,n,o)=>{if(e.name&&("dataset"===e.name.toLowerCase()||"query"===e.name.toLowerCase()))return!1;const s="placeholder"===e.name&&e.children&&e.children[0]&&e.children[0].data&&e.children[0].data.match(y),r=e&&(!e.parent||e.parent&&"placeholder"!==e.parent.name)&&e.data&&e.data.match(y),{type:a,config:i}=((e,t,n,o)=>{let s,r=e;return n&&([,s]=t.children[0].data.match(j),r=S(t.children[0].data)),o&&([,s]=t.data.match(j),r=S(t.data)),{type:s=m.includes(t.name?t.name.toLowerCase():"")?p[t.name.toLowerCase()]:s,config:r}})(e.attribs,e,s,r);return t(a,i,o,n)||h.processDefaultNode(e,n,o)}}];return f.parseWithInstructions(r,e=>{return!("tag"===e.type&&e.name.match(/<|>/g))},a)})},"./app/react/Markdown/utils.js":
/*!*************************************!*\
  !*** ./app/react/Markdown/utils.js ***!
  \*************************************/
/*! exports provided: objectPath */function(e,t,n){"use strict";n.r(t),n.d(t,"objectPath",function(){return o});const o=(e,t)=>e.split(".").reduce((e,t)=>e&&t?e.toJS?e.get(t):e[t]:e,t)},"./app/react/Metadata/actions/actionTypes.js":
/*!***************************************************!*\
  !*** ./app/react/Metadata/actions/actionTypes.js ***!
  \***************************************************/
/*! exports provided: START_REUPLOAD_DOCUMENT, REUPLOAD_PROGRESS, REUPLOAD_COMPLETE */function(e,t,n){"use strict";n.r(t),n.d(t,"START_REUPLOAD_DOCUMENT",function(){return o}),n.d(t,"REUPLOAD_PROGRESS",function(){return s}),n.d(t,"REUPLOAD_COMPLETE",function(){return r});const o="START_REUPLOAD_DOCUMENT",s="REUPLOAD_PROGRESS",r="REUPLOAD_COMPLETE"},"./app/react/Metadata/actions/actions.js":
/*!***********************************************!*\
  !*** ./app/react/Metadata/actions/actions.js ***!
  \***********************************************/
/*! exports provided: resetReduxForm, loadInReduxForm, changeTemplate, loadTemplate, reuploadDocument, removeIcon, multipleUpdate */function(e,t,n){"use strict";n.r(t),n.d(t,"resetReduxForm",function(){return b}),n.d(t,"loadInReduxForm",function(){return j}),n.d(t,"changeTemplate",function(){return S}),n.d(t,"loadTemplate",function(){return _}),n.d(t,"reuploadDocument",function(){return x}),n.d(t,"removeIcon",function(){return w}),n.d(t,"multipleUpdate",function(){return O});var o=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),s=n(/*! superagent */"./node_modules/superagent/lib/client.js"),r=n.n(s),a=n(/*! ../../config.js */"./app/react/config.js"),i=n(/*! ../../utils/advancedSort */"./app/react/utils/advancedSort.js"),l=n(/*! ../../Entities */"./app/react/Entities/index.js"),c=n(/*! ../../Notifications */"./app/react/Notifications/index.js"),d=n(/*! ../../Library/actions/actionTypes */"./app/react/Library/actions/actionTypes.js"),u=n(/*! ../../Library/actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),p=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js"),m=n(/*! ../helpers/defaultTemplate */"./app/react/Metadata/helpers/defaultTemplate.js"),f=n(/*! ./actionTypes */"./app/react/Metadata/actions/actionTypes.js");function h(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function y(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};h(n,!0).forEach(function(t){v(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):h(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return o.actions.reset(e)}const g=(e,t,n,o)=>{const s={};return t.properties.forEach(t=>{const r=n.resetExisting||!((e,t)=>t&&Boolean(t.properties.find(t=>t.name===e.name&&t.type===e.type&&t.content===e.content)))(t,o)||!e[t.name],{type:a,name:i}=t;r||(s[t.name]=e[t.name]),r&&!["date","geolocation","link"].includes(a)&&(s[i]=""),r&&"daterange"===a&&(s[i]={}),r&&["multiselect","relationship","nested","multidate","multidaterange"].includes(a)&&(s[i]=[])}),s};function j(e,t,n){return s=>{(t.sharedId?l.api.get(new p.RequestParams({sharedId:t.sharedId})):Promise.resolve([t])).then(([t])=>{const r=Object(i.advancedSort)(n,{property:"name"}),a=r.find(e=>e.default),l=t.template||a._id,c=r.find(e=>e._id===l)||m.default,d=g(t.metadata||{},c,{resetExisting:!1},c);s(o.actions.reset(e)),s(o.actions.load(e,y({},t,{metadata:d,template:l}))),s(o.actions.setPristine(e))})}}function S(e,t){return(n,s)=>{const r=Object.assign({},Object(o.getModel)(s(),e)),{templates:a}=s(),i=a.find(e=>e.get("_id")===t),l=a.find(e=>e.get("_id")===r.template);r.metadata=g(r.metadata,i.toJS(),{resetExisting:!1},l.toJS()),r.template=i.get("_id"),n(o.actions.reset(e)),setTimeout(()=>{n(o.actions.load(e,r))})}}function _(e,t){return n=>{const s={template:t._id,metadata:{}};s.metadata=g(s.metadata,t,{resetExisting:!0}),n(o.actions.load(e,s)),n(o.actions.setPristine(e))}}function x(e,t,n,o){return(s,i)=>{s({type:f.START_REUPLOAD_DOCUMENT,doc:e}),r.a.post(`${a.APIURL}reupload`).set("Accept","application/json").set("X-Requested-With","XMLHttpRequest").set("Content-Language",i().locale).field("document",n).attach("file",t,t.name).on("progress",t=>{s({type:f.REUPLOAD_PROGRESS,doc:e,progress:Math.floor(t.percent)})}).on("response",({body:t})=>{const r={filename:t.filename,size:t.size,originalname:t.originalname};s({type:f.REUPLOAD_COMPLETE,doc:e,file:r,__reducerKey:o}),l.api.get(new p.RequestParams({sharedId:n})).then(([e])=>{s({type:d.UPDATE_DOCUMENT,doc:e,__reducerKey:o}),s({type:d.UNSELECT_ALL_DOCUMENTS,__reducerKey:o}),s({type:d.SELECT_DOCUMENT,doc:e,__reducerKey:o})})}).end()}}function w(e){return o.actions.change(e,{_id:null,type:"Empty"})}function O(e,t){return n=>{const o=e.toJS().map(e=>{const n=y({},e);return n.metadata=Object.assign({},n.metadata,t.metadata),t.icon&&(n.icon=t.icon),t.template&&(n.template=t.template),n}),s=o.map(e=>e.sharedId);return l.api.multipleUpdate(new p.RequestParams({ids:s,values:t})).then(()=>(n(c.notificationActions.notify("Update success","success")),void 0!==t.published&&(n(Object(u.unselectAllDocuments)()),n(Object(u.removeDocuments)(o))),o))}}},"./app/react/Metadata/components/GeolocationViewer.js":
/*!************************************************************!*\
  !*** ./app/react/Metadata/components/GeolocationViewer.js ***!
  \************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! formatcoords */"./node_modules/formatcoords/index.js")),i=n.n(a),l=n(/*! ../../Map */"./app/react/Map/index.js");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function d(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const u=({points:e,onlyForCards:t})=>{if(t)return d("div",{},void 0,e.filter(e=>Boolean(e)).map((e,t)=>{const n=i()(e.lat,e.lon);return d("div",{},t,e.label?`${e.label}: `:"",n.format("DD MM ss X",{latLonSeparator:", ",decimalPlaces:0}))}));const n=[];e.filter(e=>Boolean(e)).forEach(({lat:e,lon:t,label:o})=>{n.push({latitude:e,longitude:t,properties:{info:o}})});const o=n.length?{latitude:n[0].latitude,longitude:n[0].longitude}:{};return r.a.createElement(l.Map,c({},o,{height:370,markers:n}))};u.defaultProps={points:[],onlyForCards:!0},t.default=u},"./app/react/Metadata/components/IconField.js":
/*!****************************************************!*\
  !*** ./app/react/Metadata/components/IconField.js ***!
  \****************************************************/
/*! exports provided: IconField, default */function(e,t,n){"use strict";n.r(t),n.d(t,"IconField",function(){return m});n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=n(/*! ../../ReactReduxForms */"./app/react/ReactReduxForms/index.js"),a=n(/*! ./.. */"./app/react/Metadata/index.js"),i=n(/*! ../../Forms */"./app/react/Forms/index.js"),l=n(/*! ../../Layout/ToggleDisplay */"./app/react/Layout/ToggleDisplay.js"),c=n(/*! redux */"./node_modules/redux/es/index.js"),d=n(/*! ../../I18N */"./app/react/I18N/index.js"),u=n(/*! ../../UI */"./app/react/UI/index.js");function p(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const m=({model:e,removeIcon:t})=>p(i.FormValue,{model:`${e}.icon`},void 0,(n={})=>p("div",{className:"icon-selector"},void 0,p(l.default,{showLabel:p("span",{},void 0,p(d.Translate,{},void 0,"add icon"),p(u.Icon,{icon:"eye"})),hideLabel:p("span",{},void 0,p(d.Translate,{},void 0,"remove icon"),p(u.Icon,{icon:"eye-slash"})),onHide:()=>t(`${e}.icon`),open:!!n._id},void 0,p("ul",{className:"search__filter"},void 0,p("li",{},void 0,p("label",{},void 0,p(d.Translate,{},void 0,"Icon")," / ",p(d.Translate,{},void 0,"Flag"))),p("li",{className:"wide"},void 0,p(r.IconSelector,{model:".icon"}))))));t.default=Object(s.connect)(null,function(e){return Object(c.bindActionCreators)({removeIcon:a.actions.removeIcon},e)})(m)},"./app/react/Metadata/components/Metadata.js":
/*!***************************************************!*\
  !*** ./app/react/Metadata/components/Metadata.js ***!
  \***************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=n(/*! ../../I18N */"./app/react/I18N/index.js"),i=n(/*! ../../Markdown */"./app/react/Markdown/index.js"),l=n(/*! ../../Layout */"./app/react/Layout/index.js"),c=n(/*! ./GeolocationViewer */"./app/react/Metadata/components/GeolocationViewer.js"),d=n(/*! ./ValueList */"./app/react/Metadata/components/ValueList.js");function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const p=(e,t)=>{let n=e.value;switch(e.type){case null:n=Object(a.t)("System","No property");break;case"markdown":n=u(i.default,{markdown:e.value});break;case"image":n=u("img",{className:`multimedia-img ${e.style}`,src:e.value,alt:e.label},e.value);break;case"media":n=u(i.default,{markdown:`{media}(${e.value})`,compact:!0});break;case"geolocation":n=u(c.default,{points:e.value,onlyForCards:Boolean(e.onlyForCards)});break;default:e.url&&(n=u(a.I18NLink,{to:e.url},e.url,e.icon&&u(l.Icon,{className:"item-icon",data:e.icon}),e.value)),e.value&&e.value.map&&(e.value=e.value.map(e=>{const n=p(e,t);return n&&n.value?n:{value:n}}),n=u(d.default,{compact:t,property:e}))}return n},m=e=>Array.isArray(e.value)?e.value.length:e.value||null===e.type,f=({metadata:e,compact:t,renderLabel:n})=>u(r.a.Fragment,{},void 0,e.filter(m).map((e,o)=>{let s=e.type?e.type:"default";return u("dl",{className:`metadata-type-${s="image"===s||"media"===s?"multimedia":s} ${e.fullWidth?"full-width":""}`},`${e.name}_${o}`,n(e,u("dt",{},void 0,Object(a.t)(e.translateContext,e.label))),u("dd",{className:e.sortedBy?"item-current-sort":""},void 0,p(e,t)))}));f.defaultProps={compact:!1,renderLabel:(e,t)=>t},t.default=f},"./app/react/Metadata/components/MetadataForm.js":
/*!*******************************************************!*\
  !*** ./app/react/Metadata/components/MetadataForm.js ***!
  \*******************************************************/
/*! exports provided: MetadataForm, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"MetadataForm",function(){return w}),n.d(t,"mapStateToProps",function(){return O});var o,s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! redux */"./node_modules/redux/es/index.js"),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=n(/*! reselect */"./node_modules/reselect/lib/index.js"),l=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),c=n(/*! ../../ReactReduxForms */"./app/react/ReactReduxForms/index.js"),d=n(/*! ../../Forms */"./app/react/Forms/index.js"),u=n(/*! ../../Entities/utils/filterBaseProperties */"./app/react/Entities/utils/filterBaseProperties.js"),p=n(/*! ../../Notifications */"./app/react/Notifications/index.js"),m=n(/*! ../../I18N */"./app/react/I18N/index.js"),f=n(/*! ../../UI */"./app/react/UI/index.js"),h=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),y=n.n(h),v=n(/*! ./IconField */"./app/react/Metadata/components/IconField.js"),b=n(/*! ./MetadataFormFields */"./app/react/Metadata/components/MetadataFormFields.js"),g=n(/*! ../helpers/validator */"./app/react/Metadata/helpers/validator.js"),j=n(/*! ../helpers/defaultTemplate */"./app/react/Metadata/helpers/defaultTemplate.js");function S(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const _=y.a.fromJS(j.default),x=Object(i.createSelector)(e=>e.templates,e=>e.map(e=>({label:e.get("name"),value:e.get("_id")})));class w extends l.Component{constructor(e){super(e),this.onSubmit=this.onSubmit.bind(this),this.onSubmitFailed=this.onSubmitFailed.bind(this)}onSubmit(e){this.props.onSubmit(u.default.filterBaseProperties(e),this.props.model)}onSubmitFailed(){this.props.notify(Object(m.t)("System","Invalid form",null,!1),"danger")}renderTemplateSelect(e,t){return e.size?S(c.FormGroup,{},void 0,S("ul",{className:"search__filter"},void 0,S("li",{},void 0,S("label",{},void 0,Object(m.t)("System","Type"))),S("li",{className:"wide"},void 0,S(d.Select,{className:"form-control",value:t.get("_id"),options:e.toJS(),onChange:e=>{this.props.changeTemplate(this.props.model,e.target.value)}})))):S("ul",{className:"search__filter"},void 0,S("div",{className:"text-center protip"},void 0,S(f.Icon,{icon:"lightbulb"})," ",S("b",{},void 0,"ProTip!"),S("span",{},void 0,"You can create metadata templates in ",S(m.I18NLink,{to:"/settings"},void 0,"settings"),".")))}render(){const{model:e,template:t,templateOptions:n,id:o,multipleEdition:r}=this.props;if(!t)return S("div",{});const a=t.get("commonProperties")?t.get("commonProperties").find(e=>"title"===e.get("name")).get("label"):"Title";return S(s.Form,{id:o,model:e,onSubmit:this.onSubmit,validators:g.default.generate(t.toJS(),r),onSubmitFailed:this.onSubmitFailed},void 0,!r&&S(c.FormGroup,{model:".title"},void 0,S("ul",{className:"search__filter"},void 0,S("li",{},void 0,S("label",{},void 0,S(m.Translate,{context:t.get("_id")},void 0,a)," ",S("span",{className:"required"},void 0,"*"))),S("li",{className:"wide"},void 0,S(s.Field,{model:".title"},void 0,S("textarea",{className:"form-control"}))),S(v.default,{model:e}))),this.renderTemplateSelect(n,t),S(b.default,{multipleEdition:r,thesauris:this.props.thesauris,model:e,template:t}))}}w.defaultProps={id:"metadataForm",multipleEdition:!1};const O=(e,t)=>({template:t.template?t.template:e.templates.find(e=>e.get("_id")===t.templateId)||_,templateOptions:x(e)});t.default=Object(a.connect)(O,function(e){return Object(r.bindActionCreators)({notify:p.notificationActions.notify},e)})(w)},"./app/react/Metadata/components/MetadataFormButtons.js":
/*!**************************************************************!*\
  !*** ./app/react/Metadata/components/MetadataFormButtons.js ***!
  \**************************************************************/
/*! exports provided: MetadataFormButtons, default */function(e,t,n){"use strict";n.r(t),n.d(t,"MetadataFormButtons",function(){return b});var o,s=n(/*! prop-types */"./node_modules/prop-types/index.js"),r=n.n(s),a=n(/*! react */"./node_modules/react/index.js"),i=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),l=n(/*! redux */"./node_modules/redux/es/index.js"),c=n(/*! ../../Multireducer */"./app/react/Multireducer/index.js"),d=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),u=n(/*! ../../Auth */"./app/react/Auth/index.js"),p=n(/*! ../../I18N */"./app/react/I18N/index.js"),m=n(/*! ../../UI */"./app/react/UI/index.js"),f=n(/*! ../../Uploads/actions/uploadsActions */"./app/react/Uploads/actions/uploadsActions.js"),h=n(/*! ../../Entities/utils/filterBaseProperties */"./app/react/Entities/utils/filterBaseProperties.js"),y=n(/*! ../actions/actions */"./app/react/Metadata/actions/actions.js");function v(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class b extends a.Component{render(){const{entityBeingEdited:e,exclusivelyViewButton:t,formName:n}=this.props,o=this.props.data.toJS(),s=v(p.I18NLink,{to:`${o.file?"document":"entity"}/${o.sharedId}`},void 0,v("button",{className:"edit-metadata btn btn-primary"},void 0,v(m.Icon,{icon:"file"}),v("span",{className:"btn-label"},void 0,Object(p.t)("System","View"))));if(t)return v("span",{},void 0,s);const r=!o.file,a=(o.processed||r)&&!o.published&&!!o.template;return v("span",{},void 0,v(d.default,{if:this.props.includeViewButton},void 0,s),v(u.NeedAuthorization,{roles:["admin","editor"]},void 0,v(d.default,{if:!e},void 0,v("button",{onClick:()=>this.props.loadInReduxForm(this.props.formStatePath,o,this.props.templates.toJS()),className:"edit-metadata btn btn-primary"},void 0,v(m.Icon,{icon:"pencil-alt"}),v("span",{className:"btn-label"},void 0,Object(p.t)("System","Edit"))))),v(d.default,{if:e},void 0,v("button",{onClick:()=>this.props.resetForm(this.props.formStatePath),className:"cancel-edit-metadata btn btn-primary"},void 0,v(m.Icon,{icon:"times"}),v("span",{className:"btn-label"},void 0,Object(p.t)("System","Cancel")))),v(d.default,{if:e},void 0,v("button",{type:"submit",form:n,className:"btn btn-success"},void 0,v(m.Icon,{icon:"save"}),v("span",{className:"btn-label"},void 0,Object(p.t)("System","Save")))),v(u.NeedAuthorization,{roles:["admin","editor"]},void 0,v(d.default,{if:!e},void 0,v("button",{className:"delete-metadata btn btn-danger",onClick:this.props.delete},void 0,v(m.Icon,{icon:"trash-alt"}),v("span",{className:"btn-label"},void 0,Object(p.t)("System","Delete"))))),v(u.NeedAuthorization,{roles:["admin","editor"]},void 0,v(d.default,{if:!e&&a},void 0,v("button",{className:"publish btn btn-success",onClick:e=>{e.stopPropagation(),this.context.confirm({accept:()=>{this.props.publish(h.default.filterBaseProperties(o))},title:"Confirm",message:"Are you sure you want to publish this entity?",type:"success"})}},void 0,v(m.Icon,{icon:"paper-plane"}),v("span",{className:"btn-label"},void 0,Object(p.t)("System","Publish"))))),v(u.NeedAuthorization,{roles:["admin","editor"]},void 0,v(d.default,{if:o.published},void 0,v("button",{className:"unpublish btn btn-warning",onClick:e=>{e.stopPropagation(),this.context.confirm({accept:()=>{this.props.unpublish(h.default.filterBaseProperties(o))},title:"Confirm",message:"Are you sure you want to unpublish this entity?",type:"warning"})}},void 0,v(m.Icon,{icon:"paper-plane"}),v("span",{className:"btn-label"},void 0,Object(p.t)("System","Unpublish"))))))}}b.contextTypes={confirm:r.a.func},b.defaultProps={entityBeingEdited:!1,formName:"metadataForm",delete:()=>{}};t.default=Object(i.connect)(({templates:e})=>({templates:e}),function(e,t){return Object(l.bindActionCreators)({loadInReduxForm:y.loadInReduxForm,resetForm:y.resetReduxForm,publish:f.publish,unpublish:f.unpublish},Object(c.wrapDispatch)(e,t.storeKey))})(b)},"./app/react/Metadata/components/MetadataFormFields.js":
/*!*************************************************************!*\
  !*** ./app/react/Metadata/components/MetadataFormFields.js ***!
  \*************************************************************/
/*! exports provided: MetadataFormFields, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"MetadataFormFields",function(){return m}),n.d(t,"mapStateToProps",function(){return f});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=(n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),n(/*! ../../Forms */"./app/react/Forms/index.js")),a=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),i=n(/*! ../../I18N/t */"./app/react/I18N/t.js"),l=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),c=n(/*! ../../ReactReduxForms */"./app/react/ReactReduxForms/index.js"),d=n(/*! ./MultipleEditionFieldWarning */"./app/react/Metadata/components/MultipleEditionFieldWarning.js");function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const p=e=>e.values.map(t=>(t.label=Object(i.default)(e._id,t.label,null,!1),t.values&&(t.options=t.values.map(t=>(t.label=Object(i.default)(e._id,t.label,null,!1),t))),t));class m extends s.Component{getField(e,t,n){let o;const{dateFormat:s}=this.props;switch(e.type){case"select":return o=n.find(t=>t._id.toString()===e.content.toString()),u(c.Select,{model:t,optionsValue:"id",options:p(o)});case"multiselect":return o=n.find(t=>t._id.toString()===e.content.toString()),u(c.MultiSelect,{model:t,optionsValue:"id",options:p(o),prefix:t});case"relationship":if(e.content){const t=n.find(t=>t._id.toString()===e.content.toString());o=p(t)}return e.content||(o=Array.prototype.concat(...n.filter(e=>"template"===e.type).map(p))),u(c.MultiSelect,{model:t,optionsValue:"id",options:o,prefix:t,sort:!0});case"date":return u(c.DatePicker,{model:t,format:s});case"daterange":return u(c.DateRange,{model:t,format:s});case"numeric":return u(c.Numeric,{model:t});case"markdown":return u(c.MarkDown,{model:t});case"nested":return u(c.Nested,{model:t});case"multidate":return u(c.MultiDate,{model:t,format:s});case"multidaterange":return u(c.MultiDateRange,{model:t,format:s});case"geolocation":return u(c.Geolocation,{model:t});case"link":return u(c.LinkField,{model:t});case"media":case"image":return u("div",{},void 0,u(a.Field,{model:t},void 0,u("textarea",{rows:"6",className:"form-control"}))," ",u("em",{},void 0,"URL (address for image or media file)"));case"preview":return u("div",{},void 0,u("em",{},void 0,"This content is automatically generated"));case"text":return u(a.Field,{model:t},void 0,u("input",{type:"text",className:"form-control"}));default:return!1}}render(){const{thesauris:e,template:t,multipleEdition:n,model:o}=this.props,s=t.get("properties").toJS(),a=t.get("_id");return u("div",{},void 0,s.map(t=>u(r.FormGroup,{model:`.metadata.${t.name}`},t.name,u("ul",{className:"search__filter is-active"},void 0,u("li",{},void 0,u("label",{},void 0,u(d.default,{multipleEdition:n,model:o,field:`metadata.${t.name}`}),Object(i.default)(a,t.label),t.required?u("span",{className:"required"},void 0,"*"):"")),u("li",{className:"wide"},void 0,this.getField(t,`.metadata.${t.name}`,e.toJS()))))))}}m.defaultProps={multipleEdition:!1,dateFormat:null};const f=e=>({dateFormat:e.settings.collection.get("dateFormat")});t.default=Object(l.connect)(f)(m)},"./app/react/Metadata/components/MultipleEditionFieldWarning.js":
/*!**********************************************************************!*\
  !*** ./app/react/Metadata/components/MultipleEditionFieldWarning.js ***!
  \**********************************************************************/
/*! exports provided: MultipleEditionFieldWarning, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"MultipleEditionFieldWarning",function(){return c}),n.d(t,"mapStateToProps",function(){return d});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),i=n(/*! ../../UI */"./app/react/UI/index.js");function l(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class c extends s.Component{render(){return!(!this.props.touched||!this.props.multipleEdition)&&l("span",{},void 0,l(i.Icon,{icon:"exclamation-triangle"})," ")}}const d=(e,t)=>{const n=Object(a.getField)(e,`${t.model}.${t.field}`)||{pristine:!0};let o=!n.pristine;return n.$form&&(o=!n.$form.pristine),{touched:o}};t.default=Object(r.connect)(d)(c)},"./app/react/Metadata/components/SelectMultiplePanel.js":
/*!**************************************************************!*\
  !*** ./app/react/Metadata/components/SelectMultiplePanel.js ***!
  \**************************************************************/
/*! exports provided: SelectMultiplePanel, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"SelectMultiplePanel",function(){return T}),n.d(t,"mapStateToProps",function(){return C});var o,s=n(/*! prop-types */"./node_modules/prop-types/index.js"),r=n.n(s),a=n(/*! react */"./node_modules/react/index.js"),i=n.n(a),l=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),c=n(/*! redux */"./node_modules/redux/es/index.js"),d=n(/*! ../../I18N */"./app/react/I18N/index.js"),u=n(/*! ../../Entities/actions/actions */"./app/react/Entities/actions/actions.js"),p=n(/*! ../actions/actions */"./app/react/Metadata/actions/actions.js"),m=n(/*! reselect */"./node_modules/reselect/lib/index.js"),f=n(/*! ../../Multireducer */"./app/react/Multireducer/index.js"),h=n(/*! ../../utils/advancedSort */"./app/react/utils/advancedSort.js"),y=n(/*! ../../Layout/TemplateLabel */"./app/react/Layout/TemplateLabel.js"),v=n(/*! ../../Layout/SidePanel */"./app/react/Layout/SidePanel.js"),b=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),g=n.n(b),j=n(/*! ../../UI */"./app/react/UI/index.js"),S=n(/*! ./MetadataForm */"./app/react/Metadata/components/MetadataForm.js"),_=n(/*! ../helpers/comonTemplate */"./app/react/Metadata/helpers/comonTemplate.js");function x(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const w=Object(m.createSelector)(e=>e.templates,e=>{const t=e?e.toJS():[];return Object(h.advancedSort)(t,{property:"name"})}),O=Object(m.createSelector)(w,e=>e.entitiesSelected,_.default);class T extends a.Component{constructor(e){super(e),this.close=this.close.bind(this),this.delete=this.delete.bind(this),this.cancel=this.cancel.bind(this),this.save=this.save.bind(this),this.edit=this.edit.bind(this),this.publish=this.publish.bind(this),this.unpublish=this.unpublish.bind(this),this.changeTemplate=this.changeTemplate.bind(this)}close(){this.props.unselectAllDocuments(),this.props.resetForm(this.props.formKey)}delete(){this.context.confirm({accept:()=>{this.props.deleteEntities(this.props.entitiesSelected.toJS())},title:Object(d.t)("System","Confirm",null,!1),message:Object(d.t)("System","Confirm delete multiple items",null,!1)})}metadataFieldModified(e){return!(this.props.formState.metadata[e].pristine||this.props.formState.metadata[e].$form&&this.props.formState.metadata[e].$form.pristine)}save(e){const t={metadata:{}},n=this.props.template.toJS();return Object.keys(e.metadata).forEach(n=>{this.metadataFieldModified(n)&&(t.metadata[n]=e.metadata[n])}),n._id&&(t.template=n._id),this.props.formState.icon&&!this.props.formState.icon.pristine&&(t.icon=e.icon),this.props.multipleUpdate(this.props.entitiesSelected,t).then(e=>{this.props.updateEntities(e),this.props.unselectAllDocuments(),this.props.resetForm(this.props.formKey)})}publish(){this.context.confirm({accept:()=>{this.props.multipleUpdate(this.props.entitiesSelected,{published:!0})},title:Object(d.t)("System","Confirm",null,!1),message:Object(d.t)("System","Confirm publish multiple items",null,!1),type:"success"})}unpublish(){this.context.confirm({accept:()=>this.props.multipleUpdate(this.props.entitiesSelected,{published:!1}),title:Object(d.t)("System","Confirm",null,!1),message:Object(d.t)("System","Confirm unpublish multiple items",null,!1),type:"success"})}changeTemplate(e,t){const n=this.props.entitiesSelected.map(e=>e.set("template",t));this.props.updateSelectedEntities(n)}cancel(){this.context.confirm({accept:()=>{this.props.resetForm(this.props.formKey)},title:Object(d.t)("System","Confirm",null,!1),message:Object(d.t)("System","Discard changes",null,!1)})}edit(){this.props.loadForm(this.props.formKey,this.props.template.toJS())}renderEditingForm(){const{formKey:e,thesauris:t}=this.props;return x(i.a.Fragment,{},void 0,x("div",{className:"alert alert-warning"},void 0,x(j.Icon,{icon:"exclamation-triangle",size:"2x"}),x("p",{},void 0,"Warning: you are editing multiple files. Fields marked with a ",x(j.Icon,{icon:"exclamation-triangle"})," will be updated with the same value.")),x(S.default,{id:"multiEdit",model:e,onSubmit:this.save,thesauris:t,template:this.props.template,changeTemplate:this.changeTemplate,multipleEdition:!0}))}renderEditingButtons(){return x(i.a.Fragment,{},void 0,x("button",{type:"button",onClick:this.cancel,className:"cancel-edit-metadata btn btn-primary"},void 0,x(j.Icon,{icon:"times"}),x("span",{className:"btn-label"},void 0,Object(d.t)("System","Cancel"))),x("button",{type:"submit",form:"multiEdit",className:"btn btn-success"},void 0,x(j.Icon,{icon:"save"}),x("span",{className:"btn-label"},void 0,Object(d.t)("System","Save"))))}renderListButtons(e,t){return x(i.a.Fragment,{},void 0,x("button",{type:"button",onClick:this.edit,className:"edit btn btn-primary"},void 0,x(j.Icon,{icon:"pencil-alt"}),x("span",{className:"btn-label"},void 0,Object(d.t)("System","Edit"))),x("button",{type:"button",className:"delete btn btn-danger",onClick:this.delete},void 0,x(j.Icon,{icon:"trash-alt"}),x("span",{className:"btn-label"},void 0,Object(d.t)("System","Delete"))),e&&x("button",{type:"button",className:"publish btn btn-success",onClick:this.publish},void 0,x(j.Icon,{icon:"paper-plane"}),x("span",{className:"btn-label"},void 0,Object(d.t)("System","Publish"))),t&&x("button",{type:"button",className:"unpublish btn btn-warning",onClick:this.unpublish},void 0,x(j.Icon,{icon:"paper-plane"}),x("span",{className:"btn-label"},void 0,Object(d.t)("System","Unpublish"))))}renderList(){const{entitiesSelected:e,getAndSelectDocument:t}=this.props;return x("ul",{className:"entities-list"},void 0,e.map((e,n)=>{return x("li",{onClick:t.bind(this,e.get("sharedId"))},n,x("span",{className:"entity-title"},void 0,e.get("title")),x(y.default,{template:e.get("template")}))}))}render(){const{entitiesSelected:e,open:t,editing:n}=this.props,o=this.props.entitiesSelected.reduce((e,t)=>{const n=!t.get("file");return e&&(t.get("processed")||n)&&!t.get("published")&&!!t.get("template")},!0),s=this.props.entitiesSelected.reduce((e,t)=>e&&t.get("published"),!0);return x(v.default,{open:t,className:"multi-edit"},void 0,x("div",{className:"sidepanel-header"},void 0,x(j.Icon,{icon:"check"})," ",x("span",{},void 0,e.size," ",Object(d.t)("System","selected")),x("button",{type:"button",className:"closeSidepanel close-modal",onClick:this.close},void 0,x(j.Icon,{icon:"times"}))),x("div",{className:"sidepanel-body"},void 0,!n&&this.renderList(),n&&this.renderEditingForm()),x("div",{className:"sidepanel-footer"},void 0,!n&&this.renderListButtons(o,s),n&&this.renderEditingButtons()))}}T.defaultProps={entitiesSelected:g.a.fromJS([]),template:null,open:!1,editing:!1},T.contextTypes={confirm:r.a.func};const C=(e,t)=>({template:O(t),open:t.entitiesSelected.size>1,editing:Object.keys(t.state).length>0});t.default=Object(l.connect)(C,function(e,t){return Object(c.bindActionCreators)({deleteEntities:u.deleteEntities,loadForm:p.loadTemplate,resetForm:p.resetReduxForm,multipleUpdate:p.multipleUpdate},Object(f.wrapDispatch)(e,t.storeKey))})(T)},"./app/react/Metadata/components/ShowMetadata.js":
/*!*******************************************************!*\
  !*** ./app/react/Metadata/components/ShowMetadata.js ***!
  \*******************************************************/
/*! exports provided: ShowMetadata, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ShowMetadata",function(){return h});var o,s=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),r=n.n(s),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),l=n(/*! ../../Layout/Icon */"./app/react/Layout/Icon.js"),c=n(/*! ../../Layout */"./app/react/Layout/index.js"),d=n(/*! ../../Timeline/utils/timelineFixedData */"./app/react/Timeline/utils/timelineFixedData.js"),u=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),p=n(/*! ../../Timeline/components/TimelineViewer */"./app/react/Timeline/components/TimelineViewer.js"),m=n(/*! ../containers/FormatMetadata */"./app/react/Metadata/containers/FormatMetadata.js");function f(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class h extends i.Component{render(){const{entity:e,showTitle:t,showType:n,relationships:o}=this.props;let s="";if(t||n){let o="";t&&(o=f("div",{},void 0,f(l.Icon,{className:"item-icon item-icon-center",data:e.icon}),f("h1",{className:"item-name"},void 0,e.title,f(c.DocumentLanguage,{doc:r.a.fromJS(e)})))),s=f("div",{className:"item-info"},void 0,o,n?f(c.TemplateLabel,{template:e.template}):"")}return f("div",{className:"view"},void 0,s,f(u.default,{if:e.template===d.caseTemplate||e.template===d.matterTemplate},void 0,f("dl",{className:"metadata-timeline-viewer"},void 0,f("dd",{},void 0,f(p.default,{entity:e})))),f(m.default,{entity:e,relationships:o}))}}t.default=Object(a.connect)(({templates:e})=>({templates:e}))(h)},"./app/react/Metadata/components/UploadButton.js":
/*!*******************************************************!*\
  !*** ./app/react/Metadata/components/UploadButton.js ***!
  \*******************************************************/
/*! exports provided: UploadButton, default */function(e,t,n){"use strict";n.r(t),n.d(t,"UploadButton",function(){return y});var o,s=n(/*! prop-types */"./node_modules/prop-types/index.js"),r=n.n(s),a=n(/*! react */"./node_modules/react/index.js"),i=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),l=n(/*! redux */"./node_modules/redux/es/index.js"),c=n(/*! ../actions/actions */"./app/react/Metadata/actions/actions.js"),d=n(/*! ../../Uploads/actions/uploadsActions */"./app/react/Uploads/actions/uploadsActions.js"),u=n(/*! ../../socket */"./app/react/socket.js"),p=n(/*! ../../UI */"./app/react/UI/index.js");function m(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const f=e=>m("div",{className:"item-shortcut btn btn-default btn-disabled"},void 0,m("span",{},void 0,e,"%")),h=()=>m("div",{className:"item-shortcut btn btn-default"},void 0,m(p.Icon,{icon:"cog",spin:!0}));class y extends a.Component{constructor(e,t){super(e,t),this.state={processing:!1,failed:!1,completed:!1},this.conversionStart=this.conversionStart.bind(this),this.conversionFailed=this.conversionFailed.bind(this),this.documentProcessed=this.documentProcessed.bind(this),u.default.on("conversionStart",this.conversionStart),u.default.on("conversionFailed",this.conversionFailed),u.default.on("documentProcessed",this.documentProcessed),this.onChange=this.onChange.bind(this)}componentWillUnmount(){u.default.removeListener("conversionStart",this.conversionStart),u.default.removeListener("conversionFailed",this.conversionFailed),u.default.removeListener("documentProcessed",this.documentProcessed),clearTimeout(this.timeout)}onChange(e){const t=e.target.files[0];this.context.confirm({accept:()=>{this.props.reuploadDocument(this.props.documentId,t,this.props.documentSharedId,this.props.storeKey)},title:"Confirm upload",message:"Are you sure you want to upload a new document?\n\nAll Table of Contents (TOC) and all text-based references linked to the previous document will be lost."})}documentProcessed(e){e===this.props.documentSharedId&&(this.props.documentProcessed(e),this.setState({processing:!1,failed:!1,completed:!0},()=>{this.timeout=setTimeout(()=>{this.setState({processing:!1,failed:!1,completed:!1})},2e3)}))}conversionStart(e){e===this.props.documentId&&this.setState({processing:!0,failed:!1,completed:!1})}conversionFailed(e){e===this.props.documentId&&this.setState({processing:!1,failed:!0,completed:!1})}renderUploadButton(){return m("label",{htmlFor:"upload-button-input",className:"item-shortcut btn btn-default"},void 0,m(p.Icon,{icon:"upload"}),m("input",{onChange:this.onChange,type:"file",accept:"application/pdf",id:"upload-button-input",style:{display:"none"}}))}renderCompleted(){return m("label",{htmlFor:"upload-button-input",className:"item-shortcut btn btn-success"},void 0,m(p.Icon,{icon:"check"}),m("input",{onChange:this.onChange,type:"file",accept:"application/pdf",id:"upload-button-input",style:{display:"none"}}))}renderFailed(){return m("label",{htmlFor:"upload-button-input",className:"item-shortcut btn btn-danger"},void 0,m(p.Icon,{icon:"exclamation-triangle"}),m("input",{onChange:this.onChange,type:"file",accept:"application/pdf",id:"upload-button-input",style:{display:"none"}}))}render(){if(this.state.processing)return h();if(this.state.failed)return this.renderFailed();if(this.state.completed)return this.renderCompleted();const e=this.props.progress.get(this.props.documentId);return e?f(e):this.renderUploadButton()}}y.contextTypes={confirm:r.a.func};t.default=Object(i.connect)(({metadata:e})=>({progress:e.progress}),function(e){return Object(l.bindActionCreators)({reuploadDocument:c.reuploadDocument,documentProcessed:d.documentProcessed},e)})(y)},"./app/react/Metadata/components/ValueList.js":
/*!****************************************************!*\
  !*** ./app/react/Metadata/components/ValueList.js ***!
  \****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=n(/*! ../../Layout */"./app/react/Layout/index.js");function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const l=e=>e.icon?i(r.a.Fragment,{},void 0,i(a.Icon,{className:"item-icon item-icon-center",data:e.icon}),e.value):e.value,c=(e,t)=>[].concat(...e.map(e=>[t,e])).slice(1);t.default=(({property:e,compact:t})=>t?(e=>"multidate"===e.type||"multidaterange"===e.type?c(e.value.map(e=>e.value),i("br",{})):c(e.value.map(e=>l(e)),", "))(e):(e=>i("ul",{className:"multiline"},void 0,e.value.map((t,n)=>i("li",{},`${e.name}_${n}`,l(t)))))(e))},"./app/react/Metadata/containers/FormatMetadata.js":
/*!*********************************************************!*\
  !*** ./app/react/Metadata/containers/FormatMetadata.js ***!
  \*********************************************************/
/*! exports provided: mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"mapStateToProps",function(){return m});var o=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),s=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),r=n.n(s),a=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),i=n.n(a),l=n(/*! ../selectors */"./app/react/Metadata/selectors.js"),c=n(/*! ../components/Metadata */"./app/react/Metadata/components/Metadata.js");function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,o,s=function(e,t){if(null==e)return{};var n,o,s={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}const p=e=>{let{additionalMetadata:t,sortedProperty:n,entity:o,relationships:s}=e,a=u(e,["additionalMetadata","sortedProperty","entity","relationships"]);return r.a.createElement(c.default,d({metadata:t.concat(l.metadataSelectors.formatMetadata(a,o,n,s)),compact:!!n},a))};function m(e,{entity:t,sortedProperty:n}){return{templates:e.templates,thesauris:e.thesauris,entity:t,sortedProperty:n}}p.defaultProps={sortedProperty:"",additionalMetadata:[],relationships:i.a.fromJS([])},t.default=Object(o.connect)(m)(p)},"./app/react/Metadata/helpers/comonTemplate.js":
/*!*****************************************************!*\
  !*** ./app/react/Metadata/helpers/comonTemplate.js ***!
  \*****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n.n(o),r=n(/*! ../../../shared/comonProperties */"./app/shared/comonProperties.js");t.default=((e,t)=>{const n=t.map(e=>e.get("template")).filter((e,t,n)=>n.indexOf(e)===t),o=r.default.comonProperties(e,n),a=1===n.size?n.first():"";return t.reduce((e,t)=>e&&!t.get("template"),!0)?s.a.fromJS(e.find(e=>e.default)):s.a.fromJS({_id:a,properties:o})})},"./app/react/Metadata/helpers/defaultTemplate.js":
/*!*******************************************************!*\
  !*** ./app/react/Metadata/helpers/defaultTemplate.js ***!
  \*******************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),t.default={comonProperties:[{label:"Title",name:"title",isComonProperty:!0,type:"text"}],properties:[]}},"./app/react/Metadata/helpers/formater.js":
/*!************************************************!*\
  !*** ./app/react/Metadata/helpers/formater.js ***!
  \************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! moment */"./node_modules/moment/moment.js"),r=n.n(s),a=(n(/*! react */"./node_modules/react/index.js"),n(/*! ../../utils/advancedSort */"./app/react/utils/advancedSort.js")),i=n(/*! ../../store */"./app/react/store.js"),l=n(/*! ../../Templates/components/ViolatedArticlesNestedProperties */"./app/react/Templates/components/ViolatedArticlesNestedProperties.js"),c=n(/*! ../../I18N/t */"./app/react/I18N/t.js");function d(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function u(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};d(n,!0).forEach(function(t){p(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):d(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=(e,t)=>e.get("values").get(t),f=(e,t,n,o)=>{if(!e.find(e=>o===`metadata.${e.name}`)&&"creationDate"!==o)return e.push(((e,t)=>e.reduce((e,n)=>{if(!n.get("properties"))return e;let o=n.get("properties").find(e=>`metadata.${e.get("name")}`===t);return o&&(o=o.set("type",null).set("translateContext",n.get("_id"))),e||o},!1))(t,o)).filter(e=>e);let s=((e,t)=>e.map(e=>{const n=Object.assign({},e);return n.sortedBy=!1,t===`metadata.${e.name}`&&(n.sortedBy=!0,e.value||(n.value="No value",n.translateContext="System")),n}))(e,o);return"creationDate"===o&&(s=((e,t)=>e.push({value:r.a.utc(t.creationDate).format("ll"),label:"Date added",translateContext:"System",sortedBy:!0}))(s,n)),s};t.default={formatDateRange(e){let t="",n="";return e.from&&(t=r.a.utc(e.from,"X").format("ll")),e.to&&(n=r.a.utc(e.to,"X").format("ll")),`${t} ~ ${n}`},getSelectOptions(e,t){let n,o,s="";if(e&&(s=Object(c.default)(t.get("_id"),e.get("label"),null,!1),n=e.get("icon")),e&&"template"===t.get("type")){o=`/${e.get("type")}/${e.get("id")}`}return{value:s,url:o,icon:n}},multimedia:(e,t,n)=>({type:n,label:e.get("label"),name:e.get("name"),style:e.get("style")||"contain",noLabel:Boolean(e.get("noLabel")),value:t}),date(e,t){const n=r.a.utc(t,"X").format("ll");return{label:e.get("label"),name:e.get("name"),value:n,timestamp:t}},daterange(e,t){return{label:e.get("label"),name:e.get("name"),value:this.formatDateRange(t)}},multidate(e,t=[]){const n=t.map(e=>({timestamp:e,value:r.a.utc(e,"X").format("ll")}));return{label:e.get("label"),name:e.get("name"),value:n}},multidaterange(e,t=[]){const n=t.map(e=>({value:this.formatDateRange(e)}));return{label:e.get("label"),name:e.get("name"),value:n}},image(e,t){return this.multimedia(e,t,"image")},preview(e,t,n,{doc:o}){const s=o.file&&o.file.filename?o.file.filename:"";return this.multimedia(e,`/api/attachment/${o._id}.jpg${s?`?r=${s}`:""}`,"image")},media(e,t){return this.multimedia(e,t,"media")},link(e,t){const n=function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},void 0,t.label);return{label:e.get("label"),name:e.get("name"),value:n}},geolocation:(e,t,n,{onlyForCards:o})=>({label:e.get("label"),name:e.get("name"),value:t,onlyForCards:Boolean(o),type:"geolocation"}),select(e,t,n){const o=n.find(t=>t.get("_id")===e.get("content")),{value:s,url:r,icon:a}=this.getSelectOptions(m(o,t),o);return{label:e.get("label"),name:e.get("name"),value:s,icon:a,url:r}},multiselect(e,t,n){const o=n.find(t=>t.get("_id")===e.get("content")),s=this.getThesauriValues(t,o);return{label:e.get("label"),name:e.get("name"),value:s}},inherit(e,t=[],n,o,s,r){const a=s.find(t=>t.get("_id")===e.get("content")),i=a.get("properties").find(t=>t.get("_id")===e.get("inheritProperty")),l=i.get("type");let c=t.map(e=>{const t=i.get("name"),a=r.toJS().find(t=>t.entity===e)||{entityData:{metadata:{}}},c=a.entityData.metadata?a.entityData.metadata:{};return this[l]&&(c[t]||"preview"===l)?this[l](i,c[t],n,o,s):{value:c[t]}}),d="inherit";if(["multidate","multidaterange","multiselect","geolocation"].includes(l)){const e=n.find(e=>e.get("_id")===a.get("_id"));d=l,c=this.flattenInheritedMultiValue(c,l,t,e)}return Object.assign({},u({translateContext:a.get("_id")},i.toJS(),{value:c,label:e.get("label"),type:d,onlyForCards:Boolean(o.onlyForCards)}))},flattenInheritedMultiValue(e,t,n,o){return e.reduce((e,s,r)=>{if(s.value){let{value:a}=s;if("geolocation"===t){const e=this.getSelectOptions(m(o,n[r]),o).value;a=a.map(t=>u({},t,{label:`${e}${t.label?` (${t.label})`:""}`}))}return e.concat(a)}return e},[])},relationship(e,t,n){const o=n.filter(e=>"template"===e.get("type")).reduce((e,n)=>e.concat(this.getThesauriValues(t,n)),[]),s=Object(a.advancedSort)(o,{property:"value"});return{label:e.get("label"),name:e.get("name"),value:s}},markdown:(e,t,n,{type:o})=>({label:e.get("label"),name:e.get("name"),value:t,type:o||"markdown"}),nested(e,t,n){if(!t[0])return{label:e.get("label"),name:e.get("name"),value:""};const{locale:o}=i.store.getState(),s=Object.keys(t[0]).sort();let r=`| ${s.map(e=>l.default[e.toLowerCase()]?l.default[e.toLowerCase()][`key_${o}`]:e).join(" | ")}|\n`;return r+=`| ${s.map(()=>"-").join(" | ")}|\n`,r+=`${t.map(e=>`| ${s.map(t=>(e[t]||[]).join(", ")).join(" | ")}`).join("|\n")}|`,this.markdown(e,r,n,{type:"markdown"})},getThesauriValues(e,t){return Object(a.advancedSort)(e.map(e=>this.getSelectOptions(m(t,e),t)).filter(e=>e.value),{property:"value"})},prepareMetadataForCard(e,t,n,o){return this.prepareMetadata(e,t,n,null,{onlyForCards:!0,sortedProperty:o})},prepareMetadata(e,t,n,o,s={}){const r=e,a=t.find(e=>e.get("_id")===r.template);if(!a||!n.size)return Object.assign({},r,{metadata:[],documentType:""});r.metadata||(r.metadata={});let i=this.filterProperties(a,s.onlyForCards,s.sortedProperty).map(e=>this.applyTransformation(e,{doc:r,thesauris:n,options:s,template:a,templates:t,relationships:o}));return i=f(i,t,r,s.sortedProperty),Object.assign({},r,{metadata:i.toJS(),documentType:a.name})},applyTransformation(e,{doc:t,thesauris:n,options:o,template:s,templates:r,relationships:a}){const i=t.metadata[e.get("name")],l=e.get("showInCard"),c=e.get("type");return e.get("inherit")&&a?this.inherit(e,i,n,u({},o,{doc:t}),r,a):this[c]&&(i||"preview"===c)?Object.assign({},u({translateContext:s.get("_id")},e.toJS()),this[c](e,i,n,u({},o,{doc:t}))):{label:e.get("label"),name:e.get("name"),value:i,showInCard:l,translateContext:s.get("_id")}},filterProperties:(e,t,n)=>e.get("properties").filter(e=>!t||!(!e.get("showInCard")&&n!==`metadata.${e.get("name")}`))}},"./app/react/Metadata/helpers/validator.js":
/*!*************************************************!*\
  !*** ./app/react/Metadata/helpers/validator.js ***!
  \*************************************************/
/*! exports provided: notEmpty, default */function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return Array.isArray(e)?Boolean(e.length):"number"==typeof e||("object"===o(e)&&null!==e?Boolean(Object.keys(e).length):!!e&&""!==e.trim())}n.r(t),n.d(t,"notEmpty",function(){return s}),t.default={generate(e,t=!1){const n={title:{required:s}};return t&&delete n.title,e.properties.forEach(e=>{e.required&&(n[`metadata.${e.name}`]={required:s})}),n}}},"./app/react/Metadata/index.js":
/*!*************************************!*\
  !*** ./app/react/Metadata/index.js ***!
  \*************************************/
/*! exports provided: validator, actions, formater, MetadataForm, MetadataFormButtons, MetadataFormFields, ShowMetadata, SelectMultiplePanel, FormatMetadata */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./actions/actions */"./app/react/Metadata/actions/actions.js");n.d(t,"actions",function(){return o});var s=n(/*! ./containers/FormatMetadata */"./app/react/Metadata/containers/FormatMetadata.js");n.d(t,"FormatMetadata",function(){return s.default});var r=n(/*! ./components/ShowMetadata */"./app/react/Metadata/components/ShowMetadata.js");n.d(t,"ShowMetadata",function(){return r.default});var a=n(/*! ./helpers/formater */"./app/react/Metadata/helpers/formater.js");n.d(t,"formater",function(){return a.default});var i=n(/*! ./helpers/validator */"./app/react/Metadata/helpers/validator.js");n.d(t,"validator",function(){return i.default});var l=n(/*! ./components/MetadataForm */"./app/react/Metadata/components/MetadataForm.js");n.d(t,"MetadataForm",function(){return l.default});var c=n(/*! ./components/MetadataFormButtons */"./app/react/Metadata/components/MetadataFormButtons.js");n.d(t,"MetadataFormButtons",function(){return c.default});var d=n(/*! ./components/MetadataFormFields */"./app/react/Metadata/components/MetadataFormFields.js");n.d(t,"MetadataFormFields",function(){return d.default});var u=n(/*! ./components/SelectMultiplePanel */"./app/react/Metadata/components/SelectMultiplePanel.js");n.d(t,"SelectMultiplePanel",function(){return u.default})},"./app/react/Metadata/reducer.js":
/*!***************************************!*\
  !*** ./app/react/Metadata/reducer.js ***!
  \***************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! redux */"./node_modules/redux/es/index.js"),s=n(/*! ./reducers/progressReducer */"./app/react/Metadata/reducers/progressReducer.js");t.default=Object(o.combineReducers)({progress:s.default})},"./app/react/Metadata/reducers/progressReducer.js":
/*!********************************************************!*\
  !*** ./app/react/Metadata/reducers/progressReducer.js ***!
  \********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return i});var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n.n(o),r=n(/*! ../actions/actionTypes */"./app/react/Metadata/actions/actionTypes.js");const a={};function i(e=a,t={}){return t.type===r.START_REUPLOAD_DOCUMENT?e.set(t.doc,0):t.type===r.REUPLOAD_PROGRESS?e.set(t.doc,t.progress):t.type===r.REUPLOAD_COMPLETE?e.delete(t.doc):s.a.fromJS(e)}},"./app/react/Metadata/selectors.js":
/*!*****************************************!*\
  !*** ./app/react/Metadata/selectors.js ***!
  \*****************************************/
/*! exports provided: metadataSelectors */function(e,t,n){"use strict";n.r(t),n.d(t,"metadataSelectors",function(){return c});var o=n(/*! reselect */"./node_modules/reselect/lib/index.js"),s=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),r=n.n(s),a=n(/*! ./helpers/formater */"./app/react/Metadata/helpers/formater.js");const i=e=>e.set("values",e.get("values").reduce((e,t)=>t.get("values")?e.merge(i(t).get("values")):e.set(t.get("id"),t),new r.a.Map({}))),l=Object(o.createSelector)(e=>e.thesauris,e=>e.map(e=>i(e))),c={formatMetadata:Object(o.createSelector)(e=>e.templates,l,(e,t,n,o)=>({doc:t,sortProperty:n,references:o}),(e,t,{doc:n,sortProperty:o,references:s})=>o?a.default.prepareMetadataForCard(n,e,t,o).metadata:a.default.prepareMetadata(n,e,t,s).metadata),indexedThesaurus:l}},"./app/react/Modals/actions/actionTypes.js":
/*!*************************************************!*\
  !*** ./app/react/Modals/actions/actionTypes.js ***!
  \*************************************************/
/*! exports provided: SHOW_MODAL, HIDE_MODAL */function(e,t,n){"use strict";n.r(t),n.d(t,"SHOW_MODAL",function(){return o}),n.d(t,"HIDE_MODAL",function(){return s});const o="SHOW_MODAL",s="CLOSE_MODAL"},"./app/react/Modals/actions/modalActions.js":
/*!**************************************************!*\
  !*** ./app/react/Modals/actions/modalActions.js ***!
  \**************************************************/
/*! exports provided: showModal, hideModal */function(e,t,n){"use strict";n.r(t),n.d(t,"showModal",function(){return s}),n.d(t,"hideModal",function(){return r});var o=n(/*! ./actionTypes */"./app/react/Modals/actions/actionTypes.js");function s(e,t){return{type:o.SHOW_MODAL,modal:e,data:t}}function r(e){return{type:o.HIDE_MODAL,modal:e}}},"./app/react/Modals/index.js":
/*!***********************************!*\
  !*** ./app/react/Modals/index.js ***!
  \***********************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./actions/modalActions */"./app/react/Modals/actions/modalActions.js");t.default={actions:o}},"./app/react/Modals/reducers/modalsReducer.js":
/*!****************************************************!*\
  !*** ./app/react/Modals/reducers/modalsReducer.js ***!
  \****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return i});var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n.n(o),r=n(/*! ../actions/actionTypes */"./app/react/Modals/actions/actionTypes.js");const a={};function i(e=a,t={}){return t.type===r.SHOW_MODAL?e.set(t.modal,t.data):t.type===r.HIDE_MODAL?e.delete(t.modal):s.a.fromJS(e)}},"./app/react/Multireducer/index.js":
/*!*****************************************!*\
  !*** ./app/react/Multireducer/index.js ***!
  \*****************************************/
/*! exports provided: multireducer, wrapDispatch, default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./multireducer */"./app/react/Multireducer/multireducer.js");n.d(t,"multireducer",function(){return o.default});var s=n(/*! ./wrapDispatch */"./app/react/Multireducer/wrapDispatch.js");n.d(t,"wrapDispatch",function(){return s.default}),t.default={multireducer:o.default,wrapDispatch:s.default}},"./app/react/Multireducer/multireducer.js":
/*!************************************************!*\
  !*** ./app/react/Multireducer/multireducer.js ***!
  \************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),t.default=function(e,t){return function(n,o){return o.__reducerKey===t?e(n,o):e(n,{})}}},"./app/react/Multireducer/wrapDispatch.js":
/*!************************************************!*\
  !*** ./app/react/Multireducer/wrapDispatch.js ***!
  \************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return s});const o=(e,t)=>(e.__reducerKey=t,e);function s(e,t){const n=s=>{let r=o(s,t);return"function"==typeof s&&(r=((e,t)=>s(n,t))),e(r)};return n}},"./app/react/Notifications/actions/actionTypes.js":
/*!********************************************************!*\
  !*** ./app/react/Notifications/actions/actionTypes.js ***!
  \********************************************************/
/*! exports provided: NOTIFY, REMOVE_NOTIFICATION */function(e,t,n){"use strict";n.r(t),n.d(t,"NOTIFY",function(){return o}),n.d(t,"REMOVE_NOTIFICATION",function(){return s});const o="NOTIFY",s="REMOVE_NOTIFICATION"},"./app/react/Notifications/actions/notificationsActions.js":
/*!*****************************************************************!*\
  !*** ./app/react/Notifications/actions/notificationsActions.js ***!
  \*****************************************************************/
/*! exports provided: removeNotification, notify */function(e,t,n){"use strict";n.r(t),n.d(t,"removeNotification",function(){return r}),n.d(t,"notify",function(){return a});var o=n(/*! ./actionTypes */"./app/react/Notifications/actions/actionTypes.js"),s=n(/*! ../../../shared/uniqueID */"./app/shared/uniqueID.js");function r(e){return{type:o.REMOVE_NOTIFICATION,id:e}}function a(e,t,n=6e3){return a=>{const i=Object(s.default)();return a({type:o.NOTIFY,notification:{message:e,type:t,id:i}}),n&&setTimeout(()=>{a(r(i))},n),i}}},"./app/react/Notifications/components/Notification.js":
/*!************************************************************!*\
  !*** ./app/react/Notifications/components/Notification.js ***!
  \************************************************************/
/*! exports provided: Notification, default */function(e,t,n){"use strict";n.r(t),n.d(t,"Notification",function(){return d});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! redux */"./node_modules/redux/es/index.js"),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=n(/*! ../../UI */"./app/react/UI/index.js"),l=n(/*! ../actions/notificationsActions */"./app/react/Notifications/actions/notificationsActions.js");function c(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class d extends s.Component{close(){this.props.removeNotification(this.props.id)}render(){const{type:e,message:t}=this.props,n=`alert alert-${e}`;let o="check";return"warning"!==e&&"danger"!==e||(o="exclamation-triangle"),c("div",{className:n,onClick:this.close.bind(this)},void 0,c(i.Icon,{icon:o}),c("span",{},void 0,t),c(i.Icon,{icon:"times"}))}}d.defaultProps={type:"success"},t.default=Object(a.connect)(null,function(e){return Object(r.bindActionCreators)({removeNotification:l.removeNotification},e)})(d)},"./app/react/Notifications/components/Notifications.js":
/*!*************************************************************!*\
  !*** ./app/react/Notifications/components/Notifications.js ***!
  \*************************************************************/
/*! exports provided: Notifications, default */function(e,t,n){"use strict";n.r(t),n.d(t,"Notifications",function(){return c});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=n(/*! ./Notification */"./app/react/Notifications/components/Notification.js");function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}class c extends s.Component{render(){return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:"alert-wrapper"},void 0,this.props.notifications.map(e=>r.a.createElement(i.default,l({key:e.id},e))))}}t.default=Object(a.connect)(e=>({notifications:e.notifications.toJS()}))(c)},"./app/react/Notifications/index.js":
/*!******************************************!*\
  !*** ./app/react/Notifications/index.js ***!
  \******************************************/
/*! exports provided: notificationActions, default */function(e,t,n){"use strict";n.r(t),n.d(t,"notificationActions",function(){return r});var o=n(/*! ./actions/notificationsActions */"./app/react/Notifications/actions/notificationsActions.js"),s=n(/*! ./components/Notifications */"./app/react/Notifications/components/Notifications.js");const r={notify:o.notify,removeNotification:o.removeNotification};t.default=s.default},"./app/react/Notifications/reducers/notificationsReducer.js":
/*!******************************************************************!*\
  !*** ./app/react/Notifications/reducers/notificationsReducer.js ***!
  \******************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return i});var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n.n(o),r=n(/*! ../actions/actionTypes */"./app/react/Notifications/actions/actionTypes.js");const a=[];function i(e=a,t={}){return t.type===r.NOTIFY?e.push(s.a.fromJS(t.notification)):t.type===r.REMOVE_NOTIFICATION?e.filter(e=>e.get("id")!==t.id):s.a.fromJS(e)}},"./app/react/PDF/PDFJS.js":
/*!********************************!*\
  !*** ./app/react/PDF/PDFJS.js ***!
  \********************************/
/*! exports provided: default, textLayerFactory */function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,"textLayerFactory",function(){return i});let r={},a={},i={};n(/*! ../utils */"./app/react/utils/index.js").isClient&&(n(/*! ../../../node_modules/pdfjs-dist/web/pdf_viewer.css */"./node_modules/pdfjs-dist/web/pdf_viewer.css"),r=n(/*! ../../../node_modules/pdfjs-dist/web/pdf_viewer.js */"./node_modules/pdfjs-dist/web/pdf_viewer.js"),a=Object({NODE_ENV:"production"}).HOT?n(/*! pdfjs-dist */"./node_modules/pdfjs-dist/build/pdf.js"):n(/*! pdfjs-dist/webpack */"./node_modules/pdfjs-dist/webpack.js"),i=new r.DefaultTextLayerFactory),t.default=function(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};o(n,!0).forEach(function(t){s(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):o(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}({},r,{},a)},"./app/react/PDF/components/PDF.js":
/*!*****************************************!*\
  !*** ./app/react/PDF/components/PDF.js ***!
  \*****************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=n(/*! ../../utils/advancedSort */"./app/react/utils/advancedSort.js"),i=n(/*! ../../utils */"./app/react/utils/index.js"),l=n(/*! ../PDFJS */"./app/react/PDF/PDFJS.js"),c=n(/*! ./PDFPage.js */"./app/react/PDF/components/PDFPage.js");function d(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class u extends s.Component{constructor(e){super(e),this.state={pdf:{numPages:0}},this.pagesLoaded={},this.loadDocument(e.file),this.currentPage="1",this.pages={},this.pdfReady=!1,this.pageUnloaded=this.pageUnloaded.bind(this),this.pageLoading=this.pageLoading.bind(this),this.onPageVisible=this.onPageVisible.bind(this),this.onPageHidden=this.onPageHidden.bind(this)}componentDidMount(){this.pdfContainer&&document.addEventListener("textlayerrendered",e=>{this.pageLoaded(e.detail.pageNumber)})}componentWillReceiveProps(e){null!==this.props.filename&&this.props.filename!==e.filename&&(this.pagesLoaded={},this.setState({pdf:{numPages:0}},()=>{this.loadDocument(e.file)}))}shouldComponentUpdate(e,t){return e.file!==this.props.file||e.filename!==this.props.filename||e.pdfInfo!==this.props.pdfInfo||e.style!==this.props.style||t.pdf!==this.state.pdf}componentDidUpdate(){this.state.pdf.numPages&&!this.pdfReady&&(this.pdfReady=!0,this.props.onPDFReady())}onPageVisible(e,t){this.pages[e]=t;const n=Object.keys(this.pages).reduce((e,t)=>!this.pages[t-1]||this.pages[t]>this.pages[t-1]?t:e,1);this.currentPage!==n&&(this.currentPage=n,this.props.onPageChange(Number(n)))}onPageHidden(e){delete this.pages[e]}loadDocument(e){i.isClient&&l.default.getDocument(e).promise.then(e=>{this.setState({pdf:e})})}pageUnloaded(e){delete this.pagesLoaded[e],this.loaded()}pageLoading(e){this.pagesLoaded[e]=!1}pageLoaded(e){this.pagesLoaded[e]=!0,0===Object.keys(this.pagesLoaded).map(e=>this.pagesLoaded[e]).filter(e=>!e).length&&this.loaded()}loaded(){const e=Object.keys(this.pagesLoaded).map(e=>parseInt(e,10));if(Object(a.advancedSort)(e,{treatAs:"number"}).reduce((e,t)=>!1===e?e:null===e?t:!(t-e>1)&&t,null)){const t=this.props.pdfInfo.toJS(),n=t[Math.min.apply(null,Object.keys(this.pagesLoaded).map(e=>parseInt(e,10)))-1]||{chars:0},o=t[Math.max.apply(null,Object.keys(this.pagesLoaded).map(e=>parseInt(e,10)))]||{chars:0};this.props.onLoad({start:n.chars,end:o.chars,pages:e})}}render(){return r.a.createElement("div",{ref:e=>{this.pdfContainer=e},style:this.props.style},(()=>{const e=[];for(let t=1;t<=this.state.pdf.numPages;t+=1)e.push(d(c.default,{onUnload:this.pageUnloaded,onLoading:this.pageLoading,onVisible:this.onPageVisible,onHidden:this.onPageHidden,page:t,pdf:this.state.pdf},t));return e})())}}u.defaultProps={filename:null,onPageChange:()=>{},onPDFReady:()=>{},style:{}},t.default=u},"./app/react/PDF/components/PDFPage.js":
/*!*********************************************!*\
  !*** ./app/react/PDF/components/PDFPage.js ***!
  \*********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! prop-types */"./node_modules/prop-types/index.js");var o=n(/*! react */"./node_modules/react/index.js"),s=n.n(o),r=n(/*! ../../utils */"./app/react/utils/index.js"),a=n(/*! ../PDFJS */"./app/react/PDF/PDFJS.js");class i extends o.Component{componentDidMount(){this.scrollCallback=this.scroll.bind(this),this.pageContainer&&this.pageShouldRender()&&this.renderPage(),this.props.getViewportContainer().addEventListener("scroll",this.scrollCallback)}componentWillUnmount(){this.pdfPageView&&this.pdfPageView.destroy(),this.props.getViewportContainer().removeEventListener("scroll",this.scrollCallback)}scroll(){this.pageShouldRender()&&!this.rendered&&this.renderPage(),!this.pageShouldRender()&&this.pdfPageView&&(this.pdfPageView.cancelRendering(),this.pdfPageView.destroy(),this.rendered&&this.props.onUnload(this.props.page),this.rendered=!1)}pageShouldRender(){const e=this.pageContainer.getBoundingClientRect(),t=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight;return e.right<0||e.bottom<-500||e.left>t||e.top>n+500?(this.props.onHidden(this.props.page),!1):(this.checkVisibility(e),!0)}checkVisibility(e){const t=this.props.getViewportContainer().getBoundingClientRect(),n=e.top-t.top,o=(e.bottom,n<0?-n:0),s=e.bottom-t.bottom>0?e.bottom-t.bottom:0,r=e.height-o-s;r>0&&this.props.onVisible(this.props.page,r),r<0&&this.props.onHidden(this.props.page)}renderPage(){if(!this.rendered&&this.pdfPageView)return this.props.onLoading(this.props.page),this.pdfPageView.draw().catch(e=>e),void(this.rendered=!0);this.rendered||(this.props.onLoading(this.props.page),this.rendered=!0,this.props.pdf.getPage(this.props.page).then(e=>{this.pdfPageView=new a.default.PDFPageView({container:this.pageContainer,id:this.props.page,scale:1,defaultViewport:e.getViewport({scale:1}),enhanceTextSelection:!0,textLayerFactory:a.textLayerFactory}),this.pdfPageView.setPdfPage(e),this.pdfPageView.draw().then(()=>{this.setState({height:this.pdfPageView.viewport.height})}).catch(e=>e)}))}render(){const e={height:1100};return this.state&&this.state.height&&(e.height=this.state.height+20),s.a.createElement("div",{id:`page-${this.props.page}`,className:"doc-page",ref:e=>{this.pageContainer=e},style:e})}}i.defaultProps={getViewportContainer:()=>r.isClient?document.querySelector(".document-viewer"):null,onVisible:()=>{},onHidden:()=>{}},t.default=i},"./app/react/PDF/index.js":
/*!********************************!*\
  !*** ./app/react/PDF/index.js ***!
  \********************************/
/*! exports provided: default, PDFUtils */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./components/PDF.js */"./app/react/PDF/components/PDF.js"),s=n(/*! ./utils.js */"./app/react/PDF/utils.js");n.d(t,"PDFUtils",function(){return s.default}),t.default=o.default},"./app/react/PDF/utils.js":
/*!********************************!*\
  !*** ./app/react/PDF/utils.js ***!
  \********************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./PDFJS */"./app/react/PDF/PDFJS.js");const s={extractPDFInfo:e=>new Promise(t=>{o.default.getDocument(e).promise.then(e=>{const n=[];for(let t=1;t<=e.numPages;t+=1)n.push(e.getPage(t).then(s.extractPageInfo));return Promise.all(n).then(e=>{const n={};e.forEach((e,t)=>{n[t+1]={chars:e},n[t]&&(n[t+1].chars+=n[t].chars)}),t(n)})})}),extractPageInfo:e=>new Promise(t=>{const n=document.createElement("div");n.className="textLayer",e.getTextContent({normalizeWhitespace:!0}).then(s=>{o.default.renderTextLayer({textContent:s,container:n,viewport:e.getViewport({scale:1})}).promise.then(()=>{t(n.innerText.length)})})})};t.default=s},"./app/react/Pages/EditPage.js":
/*!*************************************!*\
  !*** ./app/react/Pages/EditPage.js ***!
  \*************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return l});n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! ../App/RouteHandler */"./app/react/App/RouteHandler.js"),a=n(/*! ./components/PageCreator */"./app/react/Pages/components/PageCreator.js"),i=n(/*! ./PagesAPI */"./app/react/Pages/PagesAPI.js");class l extends r.default{static async requestState(e){const[t]=await i.default.get(e);return[s.actions.load("page.data",t)]}componentDidMount(){this.context.store.dispatch(s.actions.reset("page.data"))}render(){return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(a.default,{})}}},"./app/react/Pages/NewPage.js":
/*!************************************!*\
  !*** ./app/react/Pages/NewPage.js ***!
  \************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return a});n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! ./components/PageCreator */"./app/react/Pages/components/PageCreator.js"),r=n(/*! ../App/RouteHandler */"./app/react/App/RouteHandler.js");class a extends r.default{render(){return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{})}}},"./app/react/Pages/PageView.js":
/*!*************************************!*\
  !*** ./app/react/Pages/PageView.js ***!
  \*************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=n(/*! rison */"./node_modules/rison/js/rison.js"),i=n.n(a),l=n(/*! ../BasicReducer */"./app/react/BasicReducer/index.js"),c=n(/*! ../Markdown */"./app/react/Markdown/index.js"),d=n(/*! ../Library/actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),u=n(/*! ../Multireducer */"./app/react/Multireducer/index.js"),p=n(/*! ../App/RouteHandler */"./app/react/App/RouteHandler.js"),m=n(/*! ../Library/components/ViewMetadataPanel */"./app/react/Library/components/ViewMetadataPanel.js"),f=n(/*! ../Library/containers/SelectMultiplePanelContainer */"./app/react/Library/containers/SelectMultiplePanelContainer.js"),h=n(/*! ../Search/SearchAPI */"./app/react/Search/SearchAPI.js"),y=n(/*! ./components/PageViewer */"./app/react/Pages/components/PageViewer.js"),v=n(/*! ./PagesAPI */"./app/react/Pages/PagesAPI.js"),b=n(/*! ./utils/pageItemLists */"./app/react/Pages/utils/pageItemLists.js");function g(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.default=class extends p.default{static async requestState(e){const t=await v.default.getById(e),n=function(e,t){const n=b.default.generate(e);return n.searchs=Promise.all(n.params.map((e,o)=>{const s=e?decodeURI(e):"",r={filters:{},types:[]};let a=r;return s&&"object"!==j(a=i.a.decode(s.replace("?q=","")||"()"))&&(a=r),a.limit=n.options[o].limit?String(n.options[o].limit):"6",h.default.search(t.set(a))})),n}(t.metadata.content,e),o=c.markdownDatasets.fetch(t.metadata.content,e.onlyHeaders()),[s,r,a,d,u]=await Promise.all([t,n.params,n.options,o,n.searchs]),p=r.map((e,t)=>({params:e,items:u[t].rows,options:a[t]}));return[l.actions.set("page/pageView",s),l.actions.set("page/itemLists",p),l.actions.set("page/datasets",d)]}closeSidePanel(){Object(u.wrapDispatch)(this.context.store.dispatch,"library")(Object(d.unselectAllDocuments)())}componentDidMount(){this.closeSidePanel()}componentWillUnmount(){this.emptyState()}emptyState(){this.closeSidePanel(),this.context.store.dispatch(l.actions.unset("page/pageView")),this.context.store.dispatch(l.actions.unset("page/itemLists")),this.context.store.dispatch(l.actions.unset("page/datasets"))}setReduxState(e){this.context.store.dispatch(l.actions.set("page/pageView",e.page.pageView)),this.context.store.dispatch(l.actions.set("page/itemLists",e.page.itemLists)),this.context.store.dispatch(l.actions.set("page/datasets",e.page.datasets))}render(){return g(r.a.Fragment,{},void 0,g(y.default,{}),g(m.default,{storeKey:"library"}),g(f.default,{storeKey:"library"}))}}},"./app/react/Pages/Pages.js":
/*!**********************************!*\
  !*** ./app/react/Pages/Pages.js ***!
  \**********************************/
/*! exports provided: Pages, default */function(e,t,n){"use strict";n.r(t),n.d(t,"Pages",function(){return l});n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! ../App/RouteHandler */"./app/react/App/RouteHandler.js"),r=n(/*! ../BasicReducer */"./app/react/BasicReducer/index.js"),a=n(/*! ./PagesAPI */"./app/react/Pages/PagesAPI.js"),i=n(/*! ./components/PagesList */"./app/react/Pages/components/PagesList.js");class l extends s.default{static async requestState(e){const t=await a.default.get(e);return[r.actions.set("pages",t)]}render(){return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{})}}t.default=l},"./app/react/Pages/PagesAPI.js":
/*!*************************************!*\
  !*** ./app/react/Pages/PagesAPI.js ***!
  \*************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ../utils/api */"./app/react/utils/api.js");t.default={get:e=>o.default.get("pages",e).then(e=>e.json),getById:e=>o.default.get("page",e).then(e=>e.json),save:e=>o.default.post("pages",e).then(e=>e.json),delete:e=>o.default.delete("pages",e).then(e=>e.json)}},"./app/react/Pages/actions/actionTypes.js":
/*!************************************************!*\
  !*** ./app/react/Pages/actions/actionTypes.js ***!
  \************************************************/
/*! exports provided: UPDATE_PAGE, PAGE_SAVED, DELETE_PAGE, RESET_PAGE, SAVING_PAGE */function(e,t,n){"use strict";n.r(t),n.d(t,"UPDATE_PAGE",function(){return o}),n.d(t,"PAGE_SAVED",function(){return s}),n.d(t,"DELETE_PAGE",function(){return r}),n.d(t,"RESET_PAGE",function(){return a}),n.d(t,"SAVING_PAGE",function(){return i});const o="UPDATE_PAGE",s="PAGE_SAVED",r="DELETE_PAGE",a="RESET_PAGE",i="SAVING_PAGE"},"./app/react/Pages/actions/pageActions.js":
/*!************************************************!*\
  !*** ./app/react/Pages/actions/pageActions.js ***!
  \************************************************/
/*! exports provided: resetPage, savePage, deletePage */function(e,t,n){"use strict";n.r(t),n.d(t,"resetPage",function(){return d}),n.d(t,"savePage",function(){return u}),n.d(t,"deletePage",function(){return p});var o=n(/*! react-router */"./node_modules/react-router/es/index.js"),s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js"),a=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),i=n(/*! ../../Notifications */"./app/react/Notifications/index.js"),l=n(/*! ../PagesAPI */"./app/react/Pages/PagesAPI.js"),c=n(/*! ./actionTypes */"./app/react/Pages/actions/actionTypes.js");function d(){return e=>{e(s.actions.reset("page.data")),e(s.actions.setInitial("page.data"))}}function u(e){return t=>(t({type:c.SAVING_PAGE}),l.default.save(new r.RequestParams(e)).then(e=>{t(i.notificationActions.notify("Saved successfully.","success")),t(s.actions.merge("page.data",{_id:e._id,sharedId:e.sharedId,_rev:e._rev})),t({type:c.PAGE_SAVED,data:e}),o.browserHistory.push(`/settings/pages/edit/${e.sharedId}`)}).catch(()=>{t({type:c.PAGE_SAVED,data:{}})}))}function p(e){return t=>l.default.delete(new r.RequestParams({sharedId:e.sharedId})).then(()=>{t(a.actions.remove("pages",e))})}},"./app/react/Pages/components/PageCreator.js":
/*!***************************************************!*\
  !*** ./app/react/Pages/components/PageCreator.js ***!
  \***************************************************/
/*! exports provided: PageCreator, default */function(e,t,n){"use strict";n.r(t),n.d(t,"PageCreator",function(){return h});var o,s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! redux */"./node_modules/redux/es/index.js"),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),l=n(/*! ../../ReactReduxForms */"./app/react/ReactReduxForms/index.js"),c=n(/*! ../actions/pageActions */"./app/react/Pages/actions/pageActions.js"),d=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),u=n(/*! ../../Layout */"./app/react/Layout/index.js"),p=n(/*! ../../UI */"./app/react/UI/index.js"),m=n(/*! ./ValidatePage */"./app/react/Pages/components/ValidatePage.js");function f(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class h extends i.Component{componentWillUnmount(){const{resetPage:e}=this.props;e()}render(){const{formState:e,page:t,savePage:n,savingPage:o}=this.props,r=`/page/${t.data.sharedId}`;let a="template-name form-group";return e.title&&!e.title.valid&&(e.submitFailed||e.title.touched)&&(a+=" has-error"),f("div",{className:"page-creator"},void 0,f(s.Form,{model:"page.data",onSubmit:n,validators:Object(m.default)()},void 0,f("div",{className:"panel panel-default"},void 0,f("div",{className:"metadataTemplate-heading panel-heading"},void 0,f("div",{className:a},void 0,f(s.Field,{model:".title"},void 0,f("input",{placeholder:"Page name",className:"form-control"})))),f("div",{className:"panel-body page-viewer document-viewer"},void 0,f(d.default,{if:Boolean(t.data._id)},void 0,f("div",{className:"alert alert-info"},void 0,f(p.Icon,{icon:"terminal"})," ",r,f("a",{target:"_blank",rel:"noopener noreferrer",href:r,className:"pull-right"},void 0,"(view page)"))),f(l.MarkDown,{htmlOnViewer:!0,model:".metadata.content",rows:18}),f("div",{className:"alert alert-info"},void 0,f(p.Icon,{icon:"info-circle",size:"2x"}),f("div",{className:"force-ltr"},void 0,"Use ",f("a",{target:"_blank",rel:"noopener noreferrer",href:"https://guides.github.com/features/mastering-markdown/"},void 0,"Markdown")," syntax to create page content",f("br",{}),"You can also embed advanced components like maps, charts and document lists in your page. ",f("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/huridocs/uwazi/wiki/Components"},void 0,"Click here")," to learn more about the components.")),f("div",{},void 0,f("div",{},void 0,f("span",{className:"form-group-label"},void 0,"Page Javascript")),f("div",{className:"alert alert-warning"},void 0,f(p.Icon,{icon:"exclamation-triangle",size:"2x"}),f("div",{className:"force-ltr"},void 0,"With great power comes great responsibility!",f("br",{}),f("br",{}),"This area allows you to append custom Javascript to the page.  This opens up a new universe of possibilities.",f("br",{}),"It could also very easily break the app.  Only write code here if you know exactly what you are doing.")),f(s.Field,{model:".metadata.script"},void 0,f("textarea",{placeholder:"// Javascript - With great power comes great responsibility!",className:"form-control",rows:12}))))),f("div",{className:"settings-footer"},void 0,f(u.BackButton,{to:"/settings/pages"}),f("button",{type:"submit",className:"btn btn-success save-template",disabled:!!o},void 0,f(p.Icon,{icon:"save"}),f("span",{className:"btn-label"},void 0,"Save")))))}}t.default=Object(a.connect)(function({page:e}){return{page:e,formState:e.formState,savingPage:e.uiState.get("savingPage")}},function(e){return Object(r.bindActionCreators)({resetPage:c.resetPage,savePage:c.savePage},e)})(h)},"./app/react/Pages/components/PageViewer.js":
/*!**************************************************!*\
  !*** ./app/react/Pages/components/PageViewer.js ***!
  \**************************************************/
/*! exports provided: PageViewer, default */function(e,t,n){"use strict";n.r(t),n.d(t,"PageViewer",function(){return y});var o,s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=n(/*! react-helmet */"./node_modules/react-helmet/lib/Helmet.js"),a=n.n(r),i=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),l=n.n(i),c=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),d=n(/*! ../../App/Footer */"./app/react/App/Footer.js"),u=n(/*! ../../Markdown */"./app/react/Markdown/index.js"),p=n(/*! ../../Markdown/components */"./app/react/Markdown/components/index.js"),m=n(/*! ./Script */"./app/react/Pages/components/Script.js");function f(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const{Context:h}=p.default;class y extends c.Component{render(){const{page:e,itemLists:t,datasets:n}=this.props,o=t.toJS(),s=e.getIn(["metadata","content"])||"",r=e.getIn(["metadata","script"])||"";return f("div",{className:"row"},void 0,f(a.a,{title:e.get("title")?e.get("title"):"Page"}),f("main",{className:"page-viewer document-viewer"},void 0,f("div",{className:"main-wrapper"},void 0,f(h.Provider,{value:n},void 0,f(u.default,{html:!0,markdown:s,lists:o})),f(d.default,{}))),f(m.default,{},void 0,r))}}y.defaultProps={page:l.a.fromJS({}),itemLists:l.a.fromJS([]),datasets:l.a.fromJS({})};t.default=Object(s.connect)(({page:e})=>({page:e.pageView,datasets:e.datasets,itemLists:e.itemLists}))(y)},"./app/react/Pages/components/PagesList.js":
/*!*************************************************!*\
  !*** ./app/react/Pages/components/PagesList.js ***!
  \*************************************************/
/*! exports provided: PagesList, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"PagesList",function(){return m}),n.d(t,"mapStateToProps",function(){return f});var o,s=n(/*! redux */"./node_modules/redux/es/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! prop-types */"./node_modules/prop-types/index.js"),i=n.n(a),l=n(/*! react */"./node_modules/react/index.js"),c=n(/*! ../../I18N */"./app/react/I18N/index.js"),d=n(/*! ../../UI */"./app/react/UI/index.js"),u=n(/*! ../actions/pageActions */"./app/react/Pages/actions/pageActions.js");function p(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class m extends l.Component{deletePage(e){return this.context.confirm({accept:()=>{this.props.deletePage(e.toJS())},title:`Confirm delete page: ${e.get("title")}`,message:"Are you sure you want to delete this page?"})}render(){const{pages:e}=this.props;return p("div",{className:"panel panel-default"},void 0,p("div",{className:"panel-heading"},void 0,Object(c.t)("System","Pages")),p("ul",{className:"list-group pages"},void 0,e.map((e,t)=>p("li",{className:"list-group-item"},t,p(c.I18NLink,{to:`/settings/pages/edit/${e.get("sharedId")}`},void 0,e.get("title")),p("div",{className:"list-group-item-actions"},void 0,p(c.I18NLink,{to:`/settings/pages/edit/${e.get("sharedId")}`,className:"btn btn-default btn-xs"},void 0,p(d.Icon,{icon:"pencil-alt"})," ",p("span",{},void 0,Object(c.t)("System","Edit"))),p("a",{onClick:this.deletePage.bind(this,e),className:"btn btn-danger btn-xs template-remove"},void 0,p(d.Icon,{icon:"trash-alt"})," ",p("span",{},void 0,Object(c.t)("System","Delete"))))))),p("div",{className:"settings-footer"},void 0,p(c.I18NLink,{to:"/settings/pages/new",className:"btn btn-success"},void 0,p(d.Icon,{icon:"plus"})," ",p("span",{className:"btn-label"},void 0,Object(c.t)("System","Add page")))))}}function f({pages:e}){return{pages:e}}m.contextTypes={confirm:i.a.func},t.default=Object(r.connect)(f,function(e){return Object(s.bindActionCreators)({deletePage:u.deletePage},e)})(m)},"./app/react/Pages/components/Script.js":
/*!**********************************************!*\
  !*** ./app/react/Pages/components/Script.js ***!
  \**********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! react */"./node_modules/react/index.js");n(/*! prop-types */"./node_modules/prop-types/index.js");class s extends o.Component{componentDidMount(){this.appendScript()}componentDidUpdate(e){const{children:t}=this.props;t!==e.children&&this.appendScript()}appendScript(){const{children:e}=this.props;if(e){const t=document.createElement("script");t.src=`data:text/javascript,(function(){${encodeURIComponent(`\n\n${e}\n\n`)}})()`,document.body.appendChild(t)}}render(){return null}}s.defaultProps={children:""},t.default=s},"./app/react/Pages/components/ValidatePage.js":
/*!****************************************************!*\
  !*** ./app/react/Pages/components/ValidatePage.js ***!
  \****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),t.default=function(){return{"":{},title:{required:e=>e&&""!==e.trim()}}}},"./app/react/Pages/reducers/reducer.js":
/*!*********************************************!*\
  !*** ./app/react/Pages/reducers/reducer.js ***!
  \*********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! redux */"./node_modules/redux/es/index.js"),s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),a=n(/*! ./uiReducer.js */"./app/react/Pages/reducers/uiReducer.js");t.default=Object(o.combineReducers)({pageView:Object(r.default)("page/pageView",{}),datasets:Object(r.default)("page/datasets",{}),itemLists:Object(r.default)("page/itemLists",[]),data:Object(s.modelReducer)("page.data",{title:"",metadata:{content:""}}),formState:Object(s.formReducer)("page.data"),uiState:a.default})},"./app/react/Pages/reducers/uiReducer.js":
/*!***********************************************!*\
  !*** ./app/react/Pages/reducers/uiReducer.js ***!
  \***********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return a});var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n.n(o),r=n(/*! ../actions/actionTypes */"./app/react/Pages/actions/actionTypes.js");function a(e={},t={}){return t.type===r.SAVING_PAGE?e.set("savingPage",!0):t.type===r.PAGE_SAVED?e.set("savingPage",!1):s.a.fromJS(e)}},"./app/react/Pages/utils/pageItemLists.js":
/*!************************************************!*\
  !*** ./app/react/Pages/utils/pageItemLists.js ***!
  \************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! rison */"./node_modules/rison/js/rison.js"),s=n.n(o),r=n(/*! ../../utils/markdownEscapedValues */"./app/react/utils/markdownEscapedValues.js");t.default={generate:e=>{const t=Object(r.default)(e,"(...)","{list}"),n=[];let o=e||"";return{params:t.map(e=>{const t=((e,t)=>{const n=Object(r.default)(e,"(...)",`{list}(${t})`)[0];let o={},a="";if(n){a=`(${n})`;try{o=s.a.decode(`(${n})`)}catch(e){o={}}}return{options:o,matchString:a}})(o,e);n.push(t.options),o=o.replace(`{list}(${e})${t.matchString}`,"{---UWAZILIST---}");const a=/\?(.*)/g.exec(e);return a?a[0]:""}),content:o,options:n}}}},"./app/react/ReactReduxForms/index.js":
/*!********************************************!*\
  !*** ./app/react/ReactReduxForms/index.js ***!
  \********************************************/
/*! exports provided: Select, FormGroup, DatePicker, Captcha, DateRange, MultiSelect, MarkDown, Nested, NestedMultiselect, Numeric, NumericRange, NumericRangeSlide, MultiDate, MultiDateRange, DropdownList, IconSelector, RadioButtons, Switcher, Geolocation, LinkField */function(e,t,n){"use strict";n.r(t),n.d(t,"Select",function(){return l}),n.d(t,"FormGroup",function(){return C}),n.d(t,"DatePicker",function(){return c}),n.d(t,"Captcha",function(){return d}),n.d(t,"DateRange",function(){return u}),n.d(t,"MultiSelect",function(){return p}),n.d(t,"MarkDown",function(){return m}),n.d(t,"Nested",function(){return f}),n.d(t,"NestedMultiselect",function(){return T}),n.d(t,"Numeric",function(){return v}),n.d(t,"NumericRange",function(){return b}),n.d(t,"NumericRangeSlide",function(){return g}),n.d(t,"MultiDate",function(){return h}),n.d(t,"MultiDateRange",function(){return y}),n.d(t,"DropdownList",function(){return j}),n.d(t,"IconSelector",function(){return S}),n.d(t,"RadioButtons",function(){return _}),n.d(t,"Switcher",function(){return x}),n.d(t,"Geolocation",function(){return w}),n.d(t,"LinkField",function(){return O});var o=n(/*! react */"./node_modules/react/index.js"),s=n.n(o),r=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),a=n(/*! ../Forms */"./app/react/Forms/index.js");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}const l=e=>s.a.createElement(r.Control.select,i({component:a.Select},e)),c=e=>s.a.createElement(r.Control,i({component:a.DatePicker},e)),d=e=>s.a.createElement(r.Control,i({component:a.Captcha},e)),u=e=>s.a.createElement(r.Control.select,i({component:a.DateRange},e)),p=e=>s.a.createElement(r.Control.select,i({component:a.MultiSelect},e)),m=e=>s.a.createElement(r.Control.text,i({component:a.MarkDown},e)),f=e=>s.a.createElement(r.Control.select,i({component:a.Nested},e)),h=e=>s.a.createElement(r.Control.select,i({component:a.MultiDate},e)),y=e=>s.a.createElement(r.Control.select,i({component:a.MultiDateRange},e)),v=e=>s.a.createElement(r.Control,i({component:a.Numeric},e)),b=e=>s.a.createElement(r.Control.select,i({component:a.NumericRange},e)),g=e=>s.a.createElement(r.Control.select,i({component:a.NumericRangeSlide},e)),j=e=>s.a.createElement(r.Control.select,i({component:a.DropdownList},e)),S=e=>s.a.createElement(r.Control.select,i({component:a.IconSelector},e)),_=e=>s.a.createElement(r.Control.select,i({component:a.RadioButtons},e)),x=e=>s.a.createElement(r.Control.select,i({component:a.Switcher},e)),w=e=>s.a.createElement(r.Control,i({component:a.Geolocation},e)),O=e=>s.a.createElement(r.Control,i({component:a.LinkField},e)),T=e=>s.a.createElement(a.NestedMultiselect,e),C=e=>s.a.createElement(a.FormGroup,e)},"./app/react/RelationTypes/EditRelationType.js":
/*!*****************************************************!*\
  !*** ./app/react/RelationTypes/EditRelationType.js ***!
  \*****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return l});n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! ../App/RouteHandler */"./app/react/App/RouteHandler.js"),r=n(/*! ./actions/relationTypesActions */"./app/react/RelationTypes/actions/relationTypesActions.js"),a=n(/*! ./RelationTypesAPI */"./app/react/RelationTypes/RelationTypesAPI.js"),i=n(/*! ../Templates/components/TemplateCreator */"./app/react/Templates/components/TemplateCreator.js");class l extends s.default{static async requestState(e){const[t]=await a.default.get(e);return t.properties=t.properties||[],[Object(r.editRelationType)(t)]}render(){return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{relationType:!0})}}},"./app/react/RelationTypes/NewRelationType.js":
/*!****************************************************!*\
  !*** ./app/react/RelationTypes/NewRelationType.js ***!
  \****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return c});n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! ../App/RouteHandler */"./app/react/App/RouteHandler.js"),r=n(/*! ../BasicReducer */"./app/react/BasicReducer/index.js"),a=n(/*! ./actions/relationTypesActions */"./app/react/RelationTypes/actions/relationTypesActions.js"),i=n(/*! ./RelationTypesAPI */"./app/react/RelationTypes/RelationTypesAPI.js"),l=n(/*! ../Templates/components/TemplateCreator */"./app/react/Templates/components/TemplateCreator.js");class c extends s.default{static async requestState(e){const t=await i.default.get(e);return[r.actions.set("relationTypes",t),Object(a.editRelationType)({name:"",properties:[]})]}render(){return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{relationType:!0})}}},"./app/react/RelationTypes/RelationTypesAPI.js":
/*!*****************************************************!*\
  !*** ./app/react/RelationTypes/RelationTypesAPI.js ***!
  \*****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ../utils/api */"./app/react/utils/api.js");t.default={get:e=>o.default.get("relationtypes",e).then(e=>e.json.rows),save:e=>o.default.post("relationtypes",e).then(e=>e.json),delete:e=>o.default.delete("relationtypes",e).then(e=>e.json)}},"./app/react/RelationTypes/actions/actionTypes.js":
/*!********************************************************!*\
  !*** ./app/react/RelationTypes/actions/actionTypes.js ***!
  \********************************************************/
/*! exports provided: RELATION_TYPE_SAVED, EDIT_RELATION_TYPE, RELATION_TYPE_DELETED, SET_RELATION_TYPES, RESET_RELATION_TYPE */function(e,t,n){"use strict";n.r(t),n.d(t,"RELATION_TYPE_SAVED",function(){return o}),n.d(t,"EDIT_RELATION_TYPE",function(){return s}),n.d(t,"RELATION_TYPE_DELETED",function(){return r}),n.d(t,"SET_RELATION_TYPES",function(){return a}),n.d(t,"RESET_RELATION_TYPE",function(){return i});const o="RELATION_TYPE_SAVED",s="EDIT_RELATION_TYPE",r="RELATION_TYPE_DELETED",a="SET_RELATION_TYPES",i="RESET_RELATION_TYPE"},"./app/react/RelationTypes/actions/relationTypeActions.js":
/*!****************************************************************!*\
  !*** ./app/react/RelationTypes/actions/relationTypeActions.js ***!
  \****************************************************************/
/*! exports provided: saveRelationType, resetRelationType */function(e,t,n){"use strict";n.r(t),n.d(t,"saveRelationType",function(){return l}),n.d(t,"resetRelationType",function(){return c});var o=n(/*! ./actionTypes */"./app/react/RelationTypes/actions/actionTypes.js"),s=n(/*! ../RelationTypesAPI */"./app/react/RelationTypes/RelationTypesAPI.js"),r=n(/*! ../../Notifications */"./app/react/Notifications/index.js"),a=n(/*! ../../I18N */"./app/react/I18N/index.js"),i=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js");function l(e){return t=>s.default.save(new i.RequestParams(e)).then(()=>{t({type:o.RELATION_TYPE_SAVED}),t(r.notificationActions.notify(Object(a.t)("System","RelationType saved",null,!1),"success"))})}function c(){return{type:o.RESET_RELATION_TYPE}}},"./app/react/RelationTypes/actions/relationTypesActions.js":
/*!*****************************************************************!*\
  !*** ./app/react/RelationTypes/actions/relationTypesActions.js ***!
  \*****************************************************************/
/*! exports provided: editRelationType, deleteRelationType, checkRelationTypeCanBeDeleted */function(e,t,n){"use strict";n.r(t),n.d(t,"editRelationType",function(){return l}),n.d(t,"deleteRelationType",function(){return c}),n.d(t,"checkRelationTypeCanBeDeleted",function(){return d});var o=n(/*! ../RelationTypesAPI */"./app/react/RelationTypes/RelationTypesAPI.js"),s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! ../../Viewer/referencesAPI */"./app/react/Viewer/referencesAPI.js"),a=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),i=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js");function l(e){return s.actions.load("template.data",e)}function c(e){return function(t){return o.default.delete(new i.RequestParams({_id:e._id})).then(()=>{t(a.actions.remove("relationTypes",e))})}}function d(e){return function(){return r.default.countByRelationType(new i.RequestParams({relationtypeId:e._id})).then(e=>{if(e)return Promise.reject()})}}},"./app/react/Relationships/actions/actionTypes.js":
/*!********************************************************!*\
  !*** ./app/react/Relationships/actions/actionTypes.js ***!
  \********************************************************/
/*! exports provided: PARSE_RELATIONSHIPS_RESULTS, ADD_RELATIONSHIPS_HUB, UPDATE_RELATIONSHIPS_LEFT_TYPE, UPDATE_RELATIONSHIPS_RIGHT_TYPE, TOGGLE_REMOVE_RELATIONSHIPS_LEFT, TOGGLE_REMOVE_RELATIONSHIPS_RIGHT_GROUP, SET_RELATIONSHIPS_ADD_TO_DATA, ADD_RELATIONSHIPS_ENTITY, TOGGLE_REMOVE_RELATIONSHIPS_ENTITY, TOGGLE_MOVE_RELATIONSHIPS_ENTITY, MOVE_RELATIONSHIPS_ENTITY, EDIT_RELATIONSHIPS, SAVING_RELATIONSHIPS, SAVED_RELATIONSHIPS, OPEN_RELATIONSHIPS_PANEL, CLOSE_RELATIONSHIPS_PANEL, SEARCHING_RELATIONSHIPS */function(e,t,n){"use strict";n.r(t),n.d(t,"PARSE_RELATIONSHIPS_RESULTS",function(){return o}),n.d(t,"ADD_RELATIONSHIPS_HUB",function(){return s}),n.d(t,"UPDATE_RELATIONSHIPS_LEFT_TYPE",function(){return r}),n.d(t,"UPDATE_RELATIONSHIPS_RIGHT_TYPE",function(){return a}),n.d(t,"TOGGLE_REMOVE_RELATIONSHIPS_LEFT",function(){return i}),n.d(t,"TOGGLE_REMOVE_RELATIONSHIPS_RIGHT_GROUP",function(){return l}),n.d(t,"SET_RELATIONSHIPS_ADD_TO_DATA",function(){return c}),n.d(t,"ADD_RELATIONSHIPS_ENTITY",function(){return d}),n.d(t,"TOGGLE_REMOVE_RELATIONSHIPS_ENTITY",function(){return u}),n.d(t,"TOGGLE_MOVE_RELATIONSHIPS_ENTITY",function(){return p}),n.d(t,"MOVE_RELATIONSHIPS_ENTITY",function(){return m}),n.d(t,"EDIT_RELATIONSHIPS",function(){return f}),n.d(t,"SAVING_RELATIONSHIPS",function(){return h}),n.d(t,"SAVED_RELATIONSHIPS",function(){return y}),n.d(t,"OPEN_RELATIONSHIPS_PANEL",function(){return v}),n.d(t,"CLOSE_RELATIONSHIPS_PANEL",function(){return b}),n.d(t,"SEARCHING_RELATIONSHIPS",function(){return g});const o="PARSE_RELATIONSHIPS_RESULTS",s="ADD_RELATIONSHIPS_HUB",r="UPDATE_RELATIONSHIPS_LEFT_TYPE",a="UPDATE_RELATIONSHIPS_RIGHT_TYPE",i="TOGGLE_REMOVE_RELATIONSHIPS_LEFT",l="TOGGLE_REMOVE_RELATIONSHIPS_RIGHT_GROUP",c="EDIT_RELATIONSHIPS_GROUP",d="ADD_RELATIONSHIPS_ENTITY",u="TOGGLE_REMOVE_RELATIONSHIPS_ENTITY",p="TOGGLE_MOVE_RELATIONSHIPS_ENTITY",m="MOVE_RELATIONSHIPS_ENTITY",f="EDIT_RELATIONSHIPS",h="SAVING_RELATIONSHIPS",y="SAVED_RELATIONSHIPS",v="OPEN_RELATIONSHIPS_PANEL",b="CLOSE_RELATIONSHIPS_PANEL",g="SEARCHING_RELATIONSHIPS"},"./app/react/Relationships/actions/actions.js":
/*!****************************************************!*\
  !*** ./app/react/Relationships/actions/actions.js ***!
  \****************************************************/
/*! exports provided: parseResults, edit, addHub, toggelRemoveLeftRelationship, toggleRemoveRightRelationshipGroup, updateLeftRelationshipType, setAddToData, updateRightRelationshipType, addEntity, toggleRemoveEntity, toggleMoveEntity, moveEntities, reloadRelationships, saveRelationships, immidiateSearch, search, selectConnection, unselectConnection */function(e,t,n){"use strict";n.r(t),n.d(t,"parseResults",function(){return p}),n.d(t,"edit",function(){return m}),n.d(t,"addHub",function(){return f}),n.d(t,"toggelRemoveLeftRelationship",function(){return h}),n.d(t,"toggleRemoveRightRelationshipGroup",function(){return y}),n.d(t,"updateLeftRelationshipType",function(){return v}),n.d(t,"setAddToData",function(){return b}),n.d(t,"updateRightRelationshipType",function(){return g}),n.d(t,"addEntity",function(){return j}),n.d(t,"toggleRemoveEntity",function(){return S}),n.d(t,"toggleMoveEntity",function(){return _}),n.d(t,"moveEntities",function(){return x}),n.d(t,"reloadRelationships",function(){return w}),n.d(t,"saveRelationships",function(){return O}),n.d(t,"immidiateSearch",function(){return T}),n.d(t,"search",function(){return N}),n.d(t,"selectConnection",function(){return I}),n.d(t,"unselectConnection",function(){return P});var o=n(/*! ../../utils/api */"./app/react/utils/api.js"),s=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),r=n(/*! ../../utils/debounce */"./app/react/utils/debounce.js"),a=n(/*! ../../Notifications */"./app/react/Notifications/index.js"),i=n(/*! ../../Viewer */"./app/react/Viewer/index.js"),l=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js"),c=n(/*! ./actionTypes */"./app/react/Relationships/actions/actionTypes.js"),d=n(/*! ./uiActions */"./app/react/Relationships/actions/uiActions.js"),u=n(/*! ../utils/routeUtils */"./app/react/Relationships/utils/routeUtils.js");function p(e,t,n){return{type:c.PARSE_RELATIONSHIPS_RESULTS,results:e,parentEntity:t,editing:n}}function m(e,t,n){return{type:c.EDIT_RELATIONSHIPS,value:e,results:t,parentEntity:n,editing:e}}function f(){return{type:c.ADD_RELATIONSHIPS_HUB}}function h(e){return{type:c.TOGGLE_REMOVE_RELATIONSHIPS_LEFT,index:e}}function y(e,t){return{type:c.TOGGLE_REMOVE_RELATIONSHIPS_RIGHT_GROUP,index:e,rightIndex:t}}function v(e,t){return{type:c.UPDATE_RELATIONSHIPS_LEFT_TYPE,index:e,_id:t}}function b(e,t){return{type:c.SET_RELATIONSHIPS_ADD_TO_DATA,index:e,rightIndex:t}}function g(e,t,n){return(o,s)=>{const{hubs:r}=s().relationships,a=t===r.getIn([e,"rightRelationships"]).size-1;o({type:c.UPDATE_RELATIONSHIPS_RIGHT_TYPE,index:e,rightIndex:t,_id:n,newRightRelationshipType:a}),a&&(o(b(e,t)),o(d.openPanel()))}}function j(e,t,n){return o=>{const s=n.title.length>75?`${n.title.slice(0,75)}(...)`:n.title;o(a.notificationActions.notify(`${s} added to hub.  Save your work to make change permanent.`,"success")),o({type:c.ADD_RELATIONSHIPS_ENTITY,index:e,rightIndex:t,entity:n})}}function S(e,t,n){return{type:c.TOGGLE_REMOVE_RELATIONSHIPS_ENTITY,index:e,rightIndex:t,relationshipIndex:n}}function _(e,t,n){return{type:c.TOGGLE_MOVE_RELATIONSHIPS_ENTITY,index:e,rightIndex:t,relationshipIndex:n}}function x(e,t){return{type:c.MOVE_RELATIONSHIPS_ENTITY,index:e,rightRelationshipIndex:t}}function w(e){return(t,n)=>u.requestState(new l.RequestParams({sharedId:e}),n()).then(([e,n])=>{t(s.actions.set("relationships/list/connectionsGroups",e)),t(s.actions.set("relationships/list/searchResults",n))})}function O(){return(e,t)=>{e({type:c.SAVING_RELATIONSHIPS});const n=t().relationships.list.sharedId,r=t().relationships.hubs.toJS().reduce((e,t)=>{if(!t.hub&&!t.deleted){const o=Object.assign({entity:n},t.leftRelationship),s=t.rightRelationships.reduce((e,t)=>{if(!t.deleted){const n=t.relationships.filter(e=>!e.deleted);return e.concat(n)}return e},[]),r=[o].concat(s);e.save.push(r)}return t.hub&&(t.deleted&&e.delete.push({_id:t.leftRelationship._id,entity:n}),t.modified&&!t.deleted&&e.save.push(Object.assign({entity:n,hub:t.hub},t.leftRelationship)),t.rightRelationships.forEach(n=>{n.relationships.forEach(o=>{const s=n.deleted||o.deleted||o.moved;s&&o._id&&e.delete.push(Object.assign({_id:o._id,entity:o.entity})),(n.modified||!o._id)&&!s&&e.save.push(Object.assign(o,{entity:o.entity,hub:t.hub,template:n.template}))})})),e},{save:[],delete:[]});return o.default.post("relationships/bulk",new l.RequestParams(r)).then(s=>Promise.all([s,o.default.get("entities",new l.RequestParams({sharedId:n})).then(e=>e.json.rows[0]),w(n)(e,t)])).then(([o,r])=>{e(s.actions.set("entityView/entity",r)),e(s.actions.set("viewer/doc",r)),e(d.closePanel()),e(m(!1,t().relationships.list.searchResults,t().relationships.list.entity)),e(i.referencesActions.loadReferences(n)),e({type:c.SAVED_RELATIONSHIPS,response:o}),e(a.notificationActions.notify("Relationships saved","success"))})}}function T(e,t){e(d.searching());const n=new l.RequestParams({searchTerm:t,fields:["title"],includeUnpublished:!0});return o.default.get("search",n).then(t=>{const n=t.json.rows;e(s.actions.set("relationships/searchResults",n))})}const C=Object(r.default)(T,400);function N(e){return t=>(t(s.actions.set("relationships/searchTerm",e)),C(t,e))}function I(e){return s.actions.set("relationships/connection",e)}function P(){return s.actions.set("relationships/connection",{})}},"./app/react/Relationships/actions/uiActions.js":
/*!******************************************************!*\
  !*** ./app/react/Relationships/actions/uiActions.js ***!
  \******************************************************/
/*! exports provided: openPanel, closePanel, searching */function(e,t,n){"use strict";n.r(t),n.d(t,"openPanel",function(){return s}),n.d(t,"closePanel",function(){return r}),n.d(t,"searching",function(){return a});var o=n(/*! ./actionTypes */"./app/react/Relationships/actions/actionTypes.js");function s(){return{type:o.OPEN_RELATIONSHIPS_PANEL}}function r(){return{type:o.CLOSE_RELATIONSHIPS_PANEL}}function a(){return{type:o.SEARCHING_RELATIONSHIPS}}},"./app/react/Relationships/components/AddEntities.js":
/*!***********************************************************!*\
  !*** ./app/react/Relationships/components/AddEntities.js ***!
  \***********************************************************/
/*! exports provided: AddEntities, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"AddEntities",function(){return f}),n.d(t,"mapStateToProps",function(){return h});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! ../../Layout/SidePanel */"./app/react/Layout/SidePanel.js"),l=n(/*! ../../Connections/components/SearchResults */"./app/react/Connections/components/SearchResults.js"),c=n(/*! ../../UI */"./app/react/UI/index.js"),d=n(/*! ../actions/uiActions */"./app/react/Relationships/actions/uiActions.js"),u=n(/*! ./SearchEntitiesForm */"./app/react/Relationships/components/SearchEntitiesForm.js"),p=n(/*! ../actions/actions */"./app/react/Relationships/actions/actions.js");function m(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class f extends s.Component{constructor(e){super(e),this.addEntity=this.addEntity.bind(this)}addEntity(e,t){this.props.addEntity(this.props.hubIndex,this.props.rightRelationshipIndex,t)}render(){const{uiState:e,searchResults:t}=this.props,n=Boolean(this.props.uiState.get("open"));return m(i.default,{open:n,className:"create-reference"},void 0,m("div",{className:"sidepanel-header"},void 0,m("h1",{},void 0,"Add entities / documents"),m("button",{className:"closeSidepanel close-modal",onClick:this.props.closePanel},void 0,m(c.Icon,{icon:"times"}))),m("div",{className:"sidepanel-body"},void 0,m("div",{className:"search-box"},void 0,m(u.default,{})),m(l.default,{results:t,searching:e.get("searching"),onClick:this.addEntity})))}}const h=({relationships:e})=>({uiState:e.uiState,searchResults:e.searchResults,hubIndex:e.hubActions.getIn(["addTo","hubIndex"]),rightRelationshipIndex:e.hubActions.getIn(["addTo","rightRelationshipIndex"])});t.default=Object(r.connect)(h,function(e){return Object(a.bindActionCreators)({addEntity:p.addEntity,closePanel:d.closePanel},e)})(f)},"./app/react/Relationships/components/HubRelationshipMetadata.js":
/*!***********************************************************************!*\
  !*** ./app/react/Relationships/components/HubRelationshipMetadata.js ***!
  \***********************************************************************/
/*! exports provided: mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"mapStateToProps",function(){return m});n(/*! react */"./node_modules/react/index.js"),n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),a=n(/*! ../../I18N */"./app/react/I18N/index.js"),i=n(/*! ../../Metadata/helpers/formater */"./app/react/Metadata/helpers/formater.js"),l=n(/*! ../../UI */"./app/react/UI/index.js");function c(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const d=e=>c("div",{className:"relationship-quote"},void 0,c("span",{className:"quoteIconStart"},void 0,c(l.Icon,{icon:"quote-left"})),e,c("span",{className:"quoteIconEnd"},void 0,c(l.Icon,{icon:"quote-right"}))),u=({label:e,name:t,value:n})=>c("dl",{className:"item-property-default"},t,c("dt",{},void 0,e),c("dd",{},void 0,Array.isArray(n)?n.map(e=>e.value).join(", "):n)),p=e=>{const{relationship:t,relationTypes:n,thesauris:o}=e,s=t.getIn(["range","text"]),r=t.get("metadata");return r&&r.size?((e,t,n,o)=>{return c("div",{className:"relationship-metadata"},void 0,c("div",{className:"item-metadata"},void 0,i.default.prepareMetadata(e.toJS(),n,o).metadata.map(u),t&&u({label:Object(a.t)("System","Text"),name:"text",value:d(e.getIn(["range","text"]))})))})(t,s,n,o):s?(e=>c("div",{className:"relationship-metadata"},void 0,d(e)))(s):null};function m({relationTypes:e,thesauris:t}){return{relationTypes:e,thesauris:t}}p.defaultProps={relationship:Object(r.Map)({})},t.default=Object(s.connect)(m)(p)},"./app/react/Relationships/components/LeftRelationship.js":
/*!****************************************************************!*\
  !*** ./app/react/Relationships/components/LeftRelationship.js ***!
  \****************************************************************/
/*! exports provided: LeftRelationship, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"LeftRelationship",function(){return f}),n.d(t,"mapStateToProps",function(){return y});var o,s=n(/*! redux */"./node_modules/redux/es/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! reselect */"./node_modules/reselect/lib/index.js"),i=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),l=(n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),n(/*! ../../UI */"./app/react/UI/index.js")),c=n(/*! ../../Library/components/Doc */"./app/react/Library/components/Doc.js"),d=n(/*! ../../Forms/components/DropdownList */"./app/react/Forms/components/DropdownList.js"),u=n(/*! ../actions/actions */"./app/react/Relationships/actions/actions.js"),p=n(/*! ./HubRelationshipMetadata */"./app/react/Relationships/components/HubRelationshipMetadata.js");function m(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class f extends i.Component{static renderFigure(){return m("div",{className:"hubRelationship"},"figure",m("figure",{}))}constructor(e){super(e),this.toggelRemoveLeftRelationship=this.props.toggelRemoveLeftRelationship.bind(null,e.index),this.onClick=this.onClick.bind(this)}onClick(e,t){this.props.selectConnection(t)}renderTrashButton(e){return this.props.editing&&m("div",{className:"removeHub"},"toggelRemoveLeftRelationship",m("button",{onClick:this.toggelRemoveLeftRelationship,className:"relationships-icon"},void 0,m(l.Icon,{icon:e.get("deleted")?"undo":"trash-alt"})))}renderRelationship(){const{parentEntity:e,hub:t,search:n,editing:o,relationTypes:s,index:r}=this.props,a=t.get("leftRelationship"),i=a.get("range")?a:null;return m("div",{className:`leftRelationshipType ${t.get("deleted")?"deleted":""}`},"leftRelationshipType",!o&&t.getIn(["leftRelationship","template"])&&m("div",{className:"rw-dropdown-list rw-widget"},void 0,m("div",{className:"rw-widget-input rw-widget-picker rw-widget-container no-edit"},void 0,m("div",{className:"rw-input rw-dropdown-list-input no-edit"},void 0,s.find(e=>e._id===t.getIn(["leftRelationship","template"])).name))),o&&m(d.default,{valueField:"_id",textField:"name",data:s,value:t.getIn(["leftRelationship","template"]),filter:"contains",onChange:this.props.updateLeftRelationshipType.bind(null,r)}),m("div",{className:`leftDocument ${t.getIn(["leftRelationship","template"])||o?"":"docWithoutRelationshipType"}`},void 0,m(c.default,{className:"item-collapsed",doc:e,searchParams:n,onClick:this.onClick,targetReference:i})),m(p.default,{relationship:t.get("leftRelationship")}))}render(){const{hub:e,index:t,parentEntity:n}=this.props;return!!n.get("sharedId")&&m(i.Fragment,{},void 0,this.renderTrashButton(e,t),this.renderRelationship(),f.renderFigure())}}const h=Object(a.createSelector)(e=>e.relationTypes,e=>[{_id:null,name:"No label"}].concat(e.toJS()));function y(e){const{relationships:t}=e;return{parentEntity:t.list.entity,search:t.list.sort,editing:t.hubActions.get("editing"),relationTypes:h(e)}}t.default=Object(r.connect)(y,function(e){return Object(s.bindActionCreators)({selectConnection:u.selectConnection,updateLeftRelationshipType:u.updateLeftRelationshipType,toggelRemoveLeftRelationship:u.toggelRemoveLeftRelationship},e)})(f)},"./app/react/Relationships/components/LoadMoreRelationshipsButton.js":
/*!***************************************************************************!*\
  !*** ./app/react/Relationships/components/LoadMoreRelationshipsButton.js ***!
  \***************************************************************************/
/*! exports provided: LoadMoreRelationshipsButton, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"LoadMoreRelationshipsButton",function(){return c}),n.d(t,"mapStateToProps",function(){return d});n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=n(/*! redux */"./node_modules/redux/es/index.js"),a=n(/*! ../../I18N */"./app/react/I18N/index.js"),i=n(/*! ../../ConnectionsList/actions/actions */"./app/react/ConnectionsList/actions/actions.js");function l(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const c=({totalHubs:e,requestedHubs:t,action:n,loadMoreAmmount:o})=>{if(t<e){const s=()=>{n(t+o)};return l("div",{className:"text-center"},void 0,l("p",{className:"col-sm-12 text-center documents-counter"},void 0,l("b",{},void 0,t)," ",Object(a.t)("System","of")," ",l("b",{},void 0,e)," ",Object(a.t)("System","hubs")),l("button",{onClick:s,className:"btn btn-default btn-load-more"},void 0,`${o}`," ",Object(a.t)("System","x more")))}return null},d=({relationships:e})=>({totalHubs:e.list.searchResults.get("totalHubs"),requestedHubs:e.list.searchResults.get("requestedHubs"),loadMoreAmmount:10});t.default=Object(s.connect)(d,function(e){return Object(r.bindActionCreators)({action:i.loadMoreReferences},e)})(c)},"./app/react/Relationships/components/RelationshipMetadata.js":
/*!********************************************************************!*\
  !*** ./app/react/Relationships/components/RelationshipMetadata.js ***!
  \********************************************************************/
/*! exports provided: RelationshipMetadata, default */function(e,t,n){"use strict";n.r(t),n.d(t,"RelationshipMetadata",function(){return f});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),l=n(/*! reselect */"./node_modules/reselect/lib/index.js"),c=n(/*! ../../UI */"./app/react/UI/index.js"),d=n(/*! ../../Metadata */"./app/react/Metadata/index.js"),u=n(/*! ../../Layout/SidePanel */"./app/react/Layout/SidePanel.js"),p=n(/*! ../actions/actions */"./app/react/Relationships/actions/actions.js");function m(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class f extends s.Component{render(){return m(u.default,{open:this.props.selectedConnection,className:"connections-metadata"},void 0,m("button",{className:"closeSidepanel close-modal",onClick:this.props.unselectConnection},void 0,m(c.Icon,{icon:"times"})),m("div",{className:"sidepanel-body"},void 0,m(d.ShowMetadata,{entity:this.props.entity,showTitle:!0,showType:!0})),m("div",{className:"sidepanel-footer"},void 0,m(d.MetadataFormButtons,{exclusivelyViewButton:!0,data:Object(i.fromJS)(this.props.entity)})))}}const h=Object(l.createSelector)(e=>e.relationships.connection,e=>e&&e.toJS?e.toJS():{metadata:{}});t.default=Object(r.connect)(e=>({selectedConnection:Boolean(e.relationships.connection&&e.relationships.connection.get("_id")),entity:h(e)}),function(e){return Object(a.bindActionCreators)({unselectConnection:p.unselectConnection},e)})(f)},"./app/react/Relationships/components/RelationshipsFormButtons.js":
/*!************************************************************************!*\
  !*** ./app/react/Relationships/components/RelationshipsFormButtons.js ***!
  \************************************************************************/
/*! exports provided: RelationshipsFormButtons, default */function(e,t,n){"use strict";n.r(t),n.d(t,"RelationshipsFormButtons",function(){return m});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),l=n(/*! ../../Auth */"./app/react/Auth/index.js"),c=n(/*! ../../I18N */"./app/react/I18N/index.js"),d=n(/*! ../../UI */"./app/react/UI/index.js"),u=n(/*! ../actions/actions */"./app/react/Relationships/actions/actions.js");function p(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class m extends s.Component{constructor(e){super(e),this.edit=this.edit.bind(this)}edit(e){return()=>{this.props.edit(e,this.props.searchResults,this.props.parentEntity)}}render(){const{editing:e,saving:t}=this.props;return p("span",{},void 0,p(l.NeedAuthorization,{roles:["admin","editor"]},void 0,p(i.default,{if:!e},void 0,p("button",{onClick:this.edit(!0),className:"edit-metadata btn btn-primary"},void 0,p(d.Icon,{icon:"pencil-alt"}),p("span",{className:"btn-label"},void 0,Object(c.t)("System","Edit"))))),p(l.NeedAuthorization,{roles:["admin","editor"]},void 0,p(i.default,{if:e},void 0,p("button",{onClick:this.edit(!1),className:"cancel-edit-metadata btn btn-primary"},void 0,p(d.Icon,{icon:"times"}),p("span",{className:"btn-label"},void 0,Object(c.t)("System","Cancel"))))),p(l.NeedAuthorization,{roles:["admin","editor"]},void 0,p(i.default,{if:e},void 0,p("button",{onClick:this.props.save,className:"btn btn-success",disabled:t},void 0,p(d.Icon,{icon:t?"spinner":"save",pulse:!!t,fixedWidth:!0}),p("span",{className:"btn-label"},void 0,Object(c.t)("System","Save"))))))}}t.default=Object(r.connect)(({relationships:e})=>({editing:e.hubActions.get("editing"),saving:e.hubActions.get("saving"),parentEntity:e.list.entity,searchResults:e.list.searchResults}),function(e){return Object(a.bindActionCreators)({edit:u.edit,save:u.saveRelationships},e)})(m)},"./app/react/Relationships/components/RelationshipsGraphEdit.js":
/*!**********************************************************************!*\
  !*** ./app/react/Relationships/components/RelationshipsGraphEdit.js ***!
  \**********************************************************************/
/*! exports provided: RelationshipsGraphEdit, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"RelationshipsGraphEdit",function(){return p}),n.d(t,"mapStateToProps",function(){return m});var o,s=n(/*! redux */"./node_modules/redux/es/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),i=(n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),n(/*! ../../UI */"./app/react/UI/index.js")),l=n(/*! ../actions/actions */"./app/react/Relationships/actions/actions.js"),c=n(/*! ./LeftRelationship */"./app/react/Relationships/components/LeftRelationship.js"),d=n(/*! ./RightRelationship */"./app/react/Relationships/components/RightRelationship.js");function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class p extends a.Component{componentWillMount(){this.props.parseResults(this.props.searchResults,this.props.parentEntity,this.props.editing)}componentWillUpdate(e){this.props.searchResults!==e.searchResults&&this.props.parseResults(e.searchResults,e.parentEntity,this.props.editing)}render(){const{hubs:e,addHub:t}=this.props;return u("div",{className:"relationships-graph"},void 0,u("div",{},void 0,e.map((e,t)=>u("div",{className:"relationshipsHub"},t,u(c.default,{index:t,hub:e}),u(d.default,{index:t,hub:e}))),this.props.editing&&u("div",{className:"relationshipsHub"},void 0,u("div",{className:"leftRelationshipType "},void 0,u("button",{className:"relationships-new",onClick:t},void 0,u("span",{},void 0,"New relationships group"),u(i.Icon,{icon:"plus"}))))))}}function m(e){const{relationships:t}=e;return{parentEntity:t.list.entity,searchResults:t.list.searchResults,search:t.list.sort,hubs:t.hubs,editing:t.hubActions.get("editing")}}t.default=Object(r.connect)(m,function(e){return Object(s.bindActionCreators)({parseResults:l.parseResults,addHub:l.addHub},e)})(p)},"./app/react/Relationships/components/RightRelationship.js":
/*!*****************************************************************!*\
  !*** ./app/react/Relationships/components/RightRelationship.js ***!
  \*****************************************************************/
/*! exports provided: RightRelationship, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"RightRelationship",function(){return h}),n.d(t,"mapStateToProps",function(){return v});var o,s=n(/*! redux */"./node_modules/redux/es/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! reselect */"./node_modules/reselect/lib/index.js"),i=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),l=n(/*! ../../UI */"./app/react/UI/index.js"),c=n(/*! ../../Library/components/Doc */"./app/react/Library/components/Doc.js"),d=n(/*! ../../Forms/components/DropdownList */"./app/react/Forms/components/DropdownList.js"),u=n(/*! ../actions/actions */"./app/react/Relationships/actions/actions.js"),p=n(/*! ../actions/uiActions */"./app/react/Relationships/actions/uiActions.js"),m=n(/*! ./HubRelationshipMetadata */"./app/react/Relationships/components/HubRelationshipMetadata.js");function f(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class h extends i.Component{constructor(e){super(e),this.updateRightRelationshipType=this.updateRightRelationshipType.bind(this),this.toggleRemoveRightRelationshipGroup=this.toggleRemoveRightRelationshipGroup.bind(this),this.toggleRemoveEntity=this.toggleRemoveEntity.bind(this),this.setAddToData=this.setAddToData.bind(this),this.onClick=this.onClick.bind(this)}onClick(e,t){this.props.selectConnection(t)}setAddToData(e,t){return()=>{this.props.setAddToData(e,t),this.props.openAddEntitiesPanel()}}updateRightRelationshipType(e,t){return n=>{this.props.updateRightRelationshipType(e,t,n._id)}}toggleRemoveRightRelationshipGroup(e,t){return()=>{this.props.toggleRemoveRightRelationshipGroup(e,t)}}toggleRemoveEntity(e,t,n){return()=>{this.props.toggleRemoveEntity(e,t,n)}}render(){const{hub:e,index:t,search:n,hubActions:o,relationTypes:s}=this.props,r=o.get("editing");return f("div",{className:"rightRelationships"},void 0,e.get("rightRelationships").map((a,i)=>f("div",{className:`rightRelationshipsTypeGroup ${a.get("deleted")?"deleted":""}`},i,f("div",{className:`rightRelationshipType\n                             ${i===e.get("rightRelationships").size-1?"last-of-type":""}`},void 0,!r&&f("div",{className:"rw-dropdown-list rw-widget no-edit"},void 0,f("div",{className:"rw-widget-input rw-widget-picker rw-widget-container no-edit"},void 0,f("div",{className:"rw-input rw-dropdown-list-input no-edit"},void 0,s.find(e=>e._id===a.get("template"))?a.get("template")?s.find(e=>e._id===a.get("template")).name:f(l.Icon,{icon:"link"}):null))),r&&f(d.default,{valueField:"_id",textField:"name",data:s,value:a.get("template"),placeholder:"New connection type",filter:"contains",onChange:this.updateRightRelationshipType(t,i)})),r&&f("div",{className:"removeRightRelationshipGroup"},void 0,(()=>a.has("template")?f("button",{onClick:this.toggleRemoveRightRelationshipGroup(t,i),className:"relationships-icon"},void 0,f(l.Icon,{icon:a.get("deleted")?"undo":"trash-alt"})):f("span",{},void 0," "))()),a.get("relationships").map((e,o)=>{if(e.get("moved"))return!1;const s=a.get("deleted"),d=e.get("deleted"),u=e.get("move");return f("div",{className:`rightRelationship ${!s&&d?"deleted":""} ${u?"move":""}`},o,f("div",{className:"rightRelationshipType"},void 0,f(c.default,{className:"item-collapsed",doc:e.get("entityData"),searchParams:n,onClick:this.onClick,targetReference:e.get("range")?e:null}),f(m.default,{relationship:e})),r&&f("div",{className:"removeEntity"},void 0,f("button",{onClick:this.toggleRemoveEntity(t,i,o),className:"relationships-icon"},void 0,f(l.Icon,{icon:d?"undo":"trash-alt"}))),r&&f("div",{className:"moveEntity"},void 0,f("button",{onClick:this.props.toggleMoveEntity.bind(this,t,i,o),className:`relationships-icon ${u?"moving":""}`},void 0,f(l.Icon,{icon:"check"}))))}),(()=>{if(r&&a.has("template")){return f("div",{className:"rightRelationshipAdd"},void 0,f("button",{className:`relationships-new ${o.getIn(["addTo","hubIndex"])===t&&o.getIn(["addTo","rightRelationshipIndex"])===i?"is-active":""}`,onClick:this.setAddToData(t,i)},void 0,f("span",{},void 0,"Add entities / documents"),f(l.Icon,{icon:"plus"})),f("div",{className:"insertEntities"},void 0,f("button",{onClick:this.props.moveEntities.bind(this,t,i),className:"relationships-icon"},void 0,f(l.Icon,{icon:"arrow-left"}))))}return null})())))}}const y=Object(a.createSelector)(e=>e.relationTypes,e=>[{_id:null,name:"No label"}].concat(e.toJS()));function v(e){const{relationships:t}=e;return{search:t.list.sort,hubs:t.hubs,hubActions:t.hubActions,relationTypes:y(e)}}t.default=Object(r.connect)(v,function(e){return Object(s.bindActionCreators)({selectConnection:u.selectConnection,updateRightRelationshipType:u.updateRightRelationshipType,toggleRemoveRightRelationshipGroup:u.toggleRemoveRightRelationshipGroup,setAddToData:u.setAddToData,toggleRemoveEntity:u.toggleRemoveEntity,moveEntities:u.moveEntities,toggleMoveEntity:u.toggleMoveEntity,openAddEntitiesPanel:p.openPanel},e)})(h)},"./app/react/Relationships/components/SearchEntitiesForm.js":
/*!******************************************************************!*\
  !*** ./app/react/Relationships/components/SearchEntitiesForm.js ***!
  \******************************************************************/
/*! exports provided: SearchEntitiesForm, default */function(e,t,n){"use strict";n.r(t),n.d(t,"SearchEntitiesForm",function(){return c});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! ../../Layout/SearchInput */"./app/react/Layout/SearchInput.js"),l=n(/*! ../actions/actions */"./app/react/Relationships/actions/actions.js");class c extends s.Component{constructor(e){super(e),this.search=this.search.bind(this)}search(e){this.props.search(e.target.value)}render(){return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{value:this.props.searchTerm,onChange:this.search})}}t.default=Object(r.connect)(function({relationships:e}){return{searchTerm:e.searchTerm}},function(e){return Object(a.bindActionCreators)({search:l.search},e)})(c)},"./app/react/Relationships/index.js":
/*!******************************************!*\
  !*** ./app/react/Relationships/index.js ***!
  \******************************************/
/*! exports provided: actions, uiActions, RelationshipsFormButtons */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./actions/actions */"./app/react/Relationships/actions/actions.js");n.d(t,"actions",function(){return o});var s=n(/*! ./actions/uiActions */"./app/react/Relationships/actions/uiActions.js");n.d(t,"uiActions",function(){return s});var r=n(/*! ./components/RelationshipsFormButtons */"./app/react/Relationships/components/RelationshipsFormButtons.js");n.d(t,"RelationshipsFormButtons",function(){return r.default})},"./app/react/Relationships/reducers/hubActionsReducer.js":
/*!***************************************************************!*\
  !*** ./app/react/Relationships/reducers/hubActionsReducer.js ***!
  \***************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n(/*! ../actions/actionTypes */"./app/react/Relationships/actions/actionTypes.js");const r={editing:!1,saving:!1,addTo:{hubIndex:null,rightRelationshipIndex:null}};t.default=function(e=r,t={}){switch(t.type){case s.EDIT_RELATIONSHIPS:return e.set("editing",t.value);case s.SET_RELATIONSHIPS_ADD_TO_DATA:return e.setIn(["addTo","hubIndex"],t.index).setIn(["addTo","rightRelationshipIndex"],t.rightIndex);case s.SAVING_RELATIONSHIPS:return e.set("saving",!0);case s.SAVED_RELATIONSHIPS:return e.set("saving",!1);default:return Object(o.fromJS)(e)}}},"./app/react/Relationships/reducers/hubsReducer.js":
/*!*********************************************************!*\
  !*** ./app/react/Relationships/reducers/hubsReducer.js ***!
  \*********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n(/*! ../actions/actionTypes */"./app/react/Relationships/actions/actionTypes.js");const r=[],a=e=>{let t=-1;return e.results.get("rows").reduce((n,s)=>{let r=n;return s.get("connections").forEach(n=>{const a=n.get("hub").toString();if(r.has(a)||(t+=1,r=r.set(a,Object(o.fromJS)({hub:a,order:t,leftRelationship:{},rightRelationships:{}}))),s.get("sharedId")===e.parentEntity.get("sharedId"))r=r.setIn([a,"leftRelationship"],n);else{const e=n.get("template");r.getIn([a,"rightRelationships"]).has(e)||(r=r.setIn([a,"rightRelationships",e],Object(o.fromJS)([]))),r=r.setIn([a,"rightRelationships",e],r.getIn([a,"rightRelationships",e]).push(n))}}),r},Object(o.fromJS)({})).reduce((t,n)=>{let s=0;const r=n.get("rightRelationships").reduce((t,r,a)=>{let i=t.push(Object(o.fromJS)({}).set("template",a).set("relationships",r));return s+=1,e.editing&&s===n.get("rightRelationships").size&&(i=i.push(Object(o.fromJS)({relationships:[]}))),i},Object(o.fromJS)([]));return t.set(n.get("order"),n.set("rightRelationships",r))},Object(o.fromJS)([]))};t.default=function(e=r,t={}){let n,i,l,c,d,u,p,m,f;switch(t.type){case s.PARSE_RELATIONSHIPS_RESULTS:case s.EDIT_RELATIONSHIPS:return a(t);case s.ADD_RELATIONSHIPS_HUB:return e.push(Object(o.fromJS)({leftRelationship:{template:null},rightRelationships:[{relationships:[]}]}));case s.UPDATE_RELATIONSHIPS_LEFT_TYPE:return e.setIn([t.index,"leftRelationship","template"],t._id).setIn([t.index,"modified"],!0);case s.TOGGLE_REMOVE_RELATIONSHIPS_LEFT:return i=e.getIn([t.index,"deleted"]),e.setIn([t.index,"deleted"],!i);case s.UPDATE_RELATIONSHIPS_RIGHT_TYPE:if(l=e.setIn([t.index,"rightRelationships",t.rightIndex,"template"],t._id).setIn([t.index,"rightRelationships",t.rightIndex,"modified"],!0),n=e.getIn([t.index,"rightRelationships",t.rightIndex,"relationships"]).map(e=>e.set("template",t._id)),l=l.setIn([t.index,"rightRelationships",t.rightIndex,"relationships"],n),t.newRightRelationshipType){const e=l.getIn([t.index,"rightRelationships"]).push(Object(o.fromJS)({relationships:[]}));l=l.setIn([t.index,"rightRelationships"],e)}return l;case s.TOGGLE_REMOVE_RELATIONSHIPS_RIGHT_GROUP:return i=e.getIn([t.index,"rightRelationships",t.rightIndex,"deleted"]),e.setIn([t.index,"rightRelationships",t.rightIndex,"deleted"],!i);case s.ADD_RELATIONSHIPS_ENTITY:return n=(c=e.getIn([t.index,"rightRelationships",t.rightIndex])).get("relationships").push(Object(o.fromJS)({template:c.get("template"),entity:t.entity.sharedId,entityData:t.entity})),e.setIn([t.index,"rightRelationships",t.rightIndex,"relationships"],n);case s.TOGGLE_REMOVE_RELATIONSHIPS_ENTITY:return i=e.getIn([t.index,"rightRelationships",t.rightIndex,"relationships",t.relationshipIndex,"deleted"]),e.setIn([t.index,"rightRelationships",t.rightIndex,"relationships",t.relationshipIndex,"deleted"],!i);case s.TOGGLE_MOVE_RELATIONSHIPS_ENTITY:return i=e.getIn([t.index,"rightRelationships",t.rightIndex,"relationships",t.relationshipIndex,"move"]),e.setIn([t.index,"rightRelationships",t.rightIndex,"relationships",t.relationshipIndex,"move"],!i);case s.MOVE_RELATIONSHIPS_ENTITY:return u=[],p=[],f=e.getIn([t.index,"rightRelationships",t.rightRelationshipIndex,"template"]),e.forEach((e,t)=>{e.get("rightRelationships").forEach((e,n)=>{e.get("relationships").forEach((e,o)=>{e.get("move")&&(u.push(e.remove("move").remove("_id").remove("sharedId").set("template",f)),p.push({hubIndex:t,rightRelationshipsIndex:n,index:o}))})})}),d=(m=p.reverse().reduce((e,t)=>e.setIn([t.hubIndex,"rightRelationships",t.rightRelationshipsIndex,"relationships",t.index,"moved"],!0),e)).getIn([t.index,"rightRelationships",t.rightRelationshipIndex,"relationships"]),m.setIn([t.index,"rightRelationships",t.rightRelationshipIndex,"relationships"],d.concat(u));default:return Object(o.fromJS)(e)}}},"./app/react/Relationships/reducers/reducer.js":
/*!*****************************************************!*\
  !*** ./app/react/Relationships/reducers/reducer.js ***!
  \*****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! redux */"./node_modules/redux/es/index.js"),s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),a=n(/*! ../../utils/prioritySortingCriteria */"./app/react/utils/prioritySortingCriteria.js"),i=n(/*! ./hubsReducer */"./app/react/Relationships/reducers/hubsReducer.js"),l=n(/*! ./hubActionsReducer */"./app/react/Relationships/reducers/hubActionsReducer.js"),c=n(/*! ./uiReducer */"./app/react/Relationships/reducers/uiReducer.js");t.default=Object(o.combineReducers)({hubs:i.default,hubActions:l.default,list:Object(o.combineReducers)({sharedId:Object(r.default)("relationships/list/sharedId",""),entity:Object(r.default)("relationships/list/entity",{}),connectionsGroups:Object(r.default)("relationships/list/connectionsGroups",[]),searchResults:Object(r.default)("relationships/list/searchResults",{totalRows:0,rows:[]}),sort:Object(s.modelReducer)("relationships/list.sort",a.default.get()),filters:Object(r.default)("relationships/list/filters",{}),search:Object(s.formReducer)("relationships/list/search"),view:Object(r.default)("relationships/list/view","graph")}),searchResults:Object(r.default)("relationships/searchResults",[]),searchTerm:Object(r.default)("relationships/searchTerm",""),connection:Object(r.default)("relationships/connection",{}),uiState:c.default})},"./app/react/Relationships/reducers/uiReducer.js":
/*!*******************************************************!*\
  !*** ./app/react/Relationships/reducers/uiReducer.js ***!
  \*******************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n(/*! ../actions/actionTypes */"./app/react/Relationships/actions/actionTypes.js");const r={open:!1,connecting:!1};t.default=function(e=r,t={}){switch(t.type){case s.OPEN_RELATIONSHIPS_PANEL:return e.set("open",!0);case s.CLOSE_RELATIONSHIPS_PANEL:return e.set("open",!1);case s.SEARCHING_RELATIONSHIPS:return e.set("searching",!0);case"relationships/searchResults/SET":return e.set("searching",!1);default:return Object(o.fromJS)(e)}}},"./app/react/Relationships/utils/routeUtils.js":
/*!*****************************************************!*\
  !*** ./app/react/Relationships/utils/routeUtils.js ***!
  \*****************************************************/
/*! exports provided: requestState, emptyState, setReduxState */function(e,t,n){"use strict";n.r(t),n.d(t,"requestState",function(){return c}),n.d(t,"emptyState",function(){return d}),n.d(t,"setReduxState",function(){return u});var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),a=n(/*! ../../ConnectionsList */"./app/react/ConnectionsList/index.js"),i=n(/*! ../../utils/prioritySortingCriteria */"./app/react/utils/prioritySortingCriteria.js"),l=n(/*! ../../Viewer/referencesAPI */"./app/react/Viewer/referencesAPI.js");function c(e,t){return l.default.getGroupedByConnection(e).then(n=>{const s=n.reduce((e,t)=>e.concat(t.templates.map(e=>e._id.toString())),[]),r=i.default.get({currentCriteria:{},filteredTemplates:s,templates:t.templates}),l=t.relationships?t.relationships.list:{};l.sort=l.sort||r,l.filters=Object(o.fromJS)({limit:10}),l.sharedId=e.data.sharedId;const c=e.add(l);return Promise.all([n,a.actions.search(c),l.sort,l.filters])})}function d(){return e=>{e(r.actions.unset("relationships/list/sharedId")),e(r.actions.unset("relationships/list/entity")),e(r.actions.unset("relationships/list/connectionsGroups")),e(r.actions.unset("relationships/list/searchResults")),e(r.actions.unset("relationships/list/filters")),e(r.actions.unset("relationships/list.sort")),e(r.actions.unset("relationships/list/view")),e(r.actions.set("relationships/connection",{}))}}function u(e){return t=>{t(r.actions.set("relationships/list/sharedId",e.relationships.list.sharedId)),t(r.actions.set("relationships/list/entity",e.relationships.list.entity)),t(r.actions.set("relationships/list/connectionsGroups",e.relationships.list.connectionsGroups)),t(r.actions.set("relationships/list/searchResults",e.relationships.list.searchResults)),t(r.actions.set("relationships/list/filters",e.relationships.list.filters)),t(s.actions.merge("relationships/list.sort",e.relationships.list.sort)),t(r.actions.set("relationships/list/view",e.relationships.list.view))}}},"./app/react/Routes.js":
/*!*****************************!*\
  !*** ./app/react/Routes.js ***!
  \*****************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=n(/*! react-router */"./node_modules/react-router/es/index.js"),i=n(/*! ./App/App */"./app/react/App/App.js"),l=n(/*! ./App/NoMatch */"./app/react/App/NoMatch.js"),c=n(/*! ./Users/Login */"./app/react/Users/Login.js"),d=n(/*! ./Users/ResetPassword */"./app/react/Users/ResetPassword.js"),u=n(/*! ./Users/UnlockAccount */"./app/react/Users/UnlockAccount.js"),p=n(/*! ./Settings */"./app/react/Settings/index.js"),m=n(/*! ./Activitylog/Activitylog */"./app/react/Activitylog/Activitylog.js"),f=n(/*! ./Pages/Pages */"./app/react/Pages/Pages.js"),h=n(/*! ./Pages/NewPage */"./app/react/Pages/NewPage.js"),y=n(/*! ./Pages/EditPage */"./app/react/Pages/EditPage.js"),v=n(/*! ./Pages/PageView */"./app/react/Pages/PageView.js"),b=n(/*! ./Users */"./app/react/Users/index.js"),g=n(/*! ./Viewer/ViewDocument */"./app/react/Viewer/ViewDocument.js"),j=n(/*! ./Entities/EntityView */"./app/react/Entities/EntityView.js"),S=n(/*! ./Uploads/UploadsRoute */"./app/react/Uploads/UploadsRoute.js"),_=n(/*! ./Templates/EditTemplate */"./app/react/Templates/EditTemplate.js"),x=n(/*! ./Templates/NewTemplate */"./app/react/Templates/NewTemplate.js"),w=n(/*! ./Thesauris/EditThesauri */"./app/react/Thesauris/EditThesauri.js"),O=n(/*! ./Thesauris/NewThesauri */"./app/react/Thesauris/NewThesauri.js"),T=n(/*! ./RelationTypes/EditRelationType */"./app/react/RelationTypes/EditRelationType.js"),C=n(/*! ./RelationTypes/NewRelationType */"./app/react/RelationTypes/NewRelationType.js"),N=n(/*! ./I18N/EditTranslations */"./app/react/I18N/EditTranslations.js"),I=n(/*! ./Library/Library */"./app/react/Library/Library.js"),P=n(/*! ./Library/LibraryMap */"./app/react/Library/LibraryMap.js"),k=n(/*! ./SemanticSearch/SemanticSearchResultsView */"./app/react/SemanticSearch/SemanticSearchResultsView.js"),E=n(/*! ./App/GoogleAnalytics */"./app/react/App/GoogleAnalytics.js"),R=n(/*! ./Library/helpers/blankState */"./app/react/Library/helpers/blankState.js"),A=n(/*! ./store */"./app/react/store.js");function D(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function M(){Object(E.trackPage)()}function F(e,t){A.store.getState().user.get("_id")||t("/login")}function $(e,t){const n=A.store.getState();if(Object(R.default)()&&!n.user.get("_id"))return t("/login");Object(E.trackPage)()}const U=D(a.Route,{getIndexRoute:function(e,t){const n=A.store.getState().settings.collection.get("home_page"),o=n?n.split("/"):[],s=o.includes("page");let a="",i=I.default;s&&(a=o[o.indexOf("page")+1],(i=(e=>r.a.createElement(v.default,L({},e,{params:{sharedId:a}})))).requestState=(e=>v.default.requestState(e.set({sharedId:a})))),t(null,{component:i,onEnter:(e,t)=>{s||t(o.join("/")),n||$(0,t)},customHomePageId:a})}},void 0,D(a.Route,{path:"settings",component:p.Settings,onEnter:F},void 0,D(a.Route,{path:"account",component:p.AccountSettings}),D(a.Route,{path:"collection",component:p.CollectionSettings}),D(a.Route,{path:"navlinks",component:p.NavlinksSettings}),D(a.Route,{path:"users"},void 0,D(a.IndexRoute,{component:b.Users}),D(a.Route,{path:"new",component:b.NewUser}),D(a.Route,{path:"edit/:userId",component:b.EditUser})),D(a.Route,{path:"pages"},void 0,D(a.IndexRoute,{component:f.default}),D(a.Route,{path:"new",component:h.default}),D(a.Route,{path:"edit/:sharedId",component:y.default})),D(a.Route,{path:"templates"},void 0,D(a.IndexRoute,{component:p.EntityTypesList}),D(a.Route,{path:"new",component:x.default}),D(a.Route,{path:"edit/:templateId",component:_.default})),D(a.Route,{path:"connections"},void 0,D(a.IndexRoute,{component:p.RelationTypesList}),D(a.Route,{path:"new",component:C.default}),D(a.Route,{path:"edit/:_id",component:T.default})),D(a.Route,{path:"dictionaries"},void 0,D(a.IndexRoute,{component:p.ThesaurisList}),D(a.Route,{path:"new",component:O.default}),D(a.Route,{path:"edit/:_id",component:w.default})),D(a.Route,{path:"languages",component:p.Languages}),D(a.Route,{path:"translations"},void 0,D(a.IndexRoute,{component:p.TranslationsList}),D(a.Route,{path:"edit/:context",component:N.default})),D(a.Route,{path:"filters",component:p.FiltersForm}),D(a.Route,{path:"customisation",component:p.Customisation}),D(a.Route,{path:"custom-uploads",component:p.CustomUploads}),D(a.Route,{path:"activitylog",component:m.default,onEnter:F})),D(a.Route,{path:"library",component:I.default,onEnter:$}),D(a.Route,{path:"library/map",component:P.default,onEnter:M}),D(a.Route,{path:"uploads",component:S.default}),D(a.Route,{path:"login",component:c.default}),D(a.Route,{path:"setpassword/:key",component:d.default}),D(a.Route,{path:"unlockaccount/:username/:code",component:u.default}),D(a.Route,{path:"document/:sharedId*",component:g.default,onEnter:M}),D(a.Route,{path:"entity/:sharedId",component:j.default,onEnter:M}),D(a.Route,{path:"page/:sharedId",component:v.default,onEnter:M}),D(a.Route,{path:"semanticsearch/:searchId",component:k.default,onEnter:M}),D(a.Route,{path:"404",component:l.default}));t.default=D(a.Route,{path:"/",component:i.default},void 0,U,D(a.Route,{path:":lang"},void 0,U,D(a.Route,{path:"*",component:l.default})),D(a.Route,{path:"*",component:l.default}))},"./app/react/Search/SearchAPI.js":
/*!***************************************!*\
  !*** ./app/react/Search/SearchAPI.js ***!
  \***************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ../utils/api */"./app/react/utils/api.js");t.default={countByTemplate:e=>o.default.get("search/count_by_template",e).then(e=>e.json),unpublished:()=>o.default.get("search/unpublished").then(e=>e.json.rows),searchSnippets:e=>o.default.get("search_snippets",e).then(e=>e.json),search:e=>o.default.get("search",e).then(e=>e.json),getSuggestions:e=>o.default.get("search/match_title",e).then(e=>e.json),list:e=>o.default.get("search/list",e).then(e=>e.json.rows)}},"./app/react/SemanticSearch/SemanticSearchAPI.js":
/*!*******************************************************!*\
  !*** ./app/react/SemanticSearch/SemanticSearchAPI.js ***!
  \*******************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ../utils/api */"./app/react/utils/api.js");t.default={search:e=>o.default.post("semantic-search",e).then(e=>e.json),getAllSearches:e=>o.default.get("semantic-search",e).then(e=>e.json),getEntitiesMatchingFilters:e=>o.default.get("semantic-search/list",e).then(e=>e.json),getSearch:e=>o.default.get("semantic-search/",e).then(e=>e.json),deleteSearch:e=>o.default.delete("semantic-search/",e).then(e=>e.json),stopSearch:e=>o.default.post("semantic-search/stop",e).then(e=>e.json),resumeSearch:e=>o.default.post("semantic-search/resume",e).then(e=>e.json),registerForUpdates:e=>o.default.post("semantic-search/notify-updates",e).then(e=>e.json)}},"./app/react/SemanticSearch/SemanticSearchResultsView.js":
/*!***************************************************************!*\
  !*** ./app/react/SemanticSearch/SemanticSearchResultsView.js ***!
  \***************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return d});n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! ../BasicReducer */"./app/react/BasicReducer/index.js"),r=n(/*! ../App/RouteHandler */"./app/react/App/RouteHandler.js"),a=n(/*! ../Library/components/SearchButton */"./app/react/Library/components/SearchButton.js"),i=n(/*! ./components/SemanticSearchResults */"./app/react/SemanticSearch/components/SemanticSearchResults.js"),l=n(/*! ./SemanticSearchAPI */"./app/react/SemanticSearch/SemanticSearchAPI.js");function c(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class d extends r.default{static async requestState(e,t){const n=t.semanticSearch?t.semanticSearch.resultsFilters:{threshold:.4,minRelevantSentences:5},o=e.add(n),r=await l.default.getSearch(o);return[s.actions.set("semanticSearch/search",r)]}static renderTools(){return c("div",{className:"searchBox"},void 0,c(a.default,{storeKey:"library"}))}render(){return c(i.default,{})}}},"./app/react/SemanticSearch/actions/actions.js":
/*!*****************************************************!*\
  !*** ./app/react/SemanticSearch/actions/actions.js ***!
  \*****************************************************/
/*! exports provided: fetchSearches, setEditSearchEntities, editSearchEntities, selectSemanticSearchDocument, unselectSemanticSearchDocument, submitNewSearch, showSemanticSearch, hideSemanticSearch, deleteSearch, stopSearch, resumeSearch, registerForUpdates, updateSearch, addSearchResults, getSearch, getMoreSearchResults */function(e,t,n){"use strict";n.r(t),n.d(t,"fetchSearches",function(){return p}),n.d(t,"setEditSearchEntities",function(){return m}),n.d(t,"editSearchEntities",function(){return f}),n.d(t,"selectSemanticSearchDocument",function(){return h}),n.d(t,"unselectSemanticSearchDocument",function(){return y}),n.d(t,"submitNewSearch",function(){return v}),n.d(t,"showSemanticSearch",function(){return b}),n.d(t,"hideSemanticSearch",function(){return g}),n.d(t,"deleteSearch",function(){return j}),n.d(t,"stopSearch",function(){return S}),n.d(t,"resumeSearch",function(){return _}),n.d(t,"registerForUpdates",function(){return x}),n.d(t,"updateSearch",function(){return w}),n.d(t,"addSearchResults",function(){return O}),n.d(t,"getSearch",function(){return T}),n.d(t,"getMoreSearchResults",function(){return C});var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n.n(o),r=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),a=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js"),i=n(/*! ../SemanticSearchAPI */"./app/react/SemanticSearch/SemanticSearchAPI.js");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function d(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};c(n,!0).forEach(function(t){u(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):c(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return e=>i.default.getAllSearches().then(t=>{e(r.actions.set("semanticSearch/searches",t))})}function m(e=[]){return t=>{t(r.actions.set("semanticSearch/multiedit",e))}}function f(e,t){const n=new a.RequestParams(d({searchId:e},t));return e=>i.default.getEntitiesMatchingFilters(n).then(t=>{e(m(t))})}function h(e){return t=>{t(r.actions.set("semanticSearch/selectedDocument",e)),t(r.actions.set("library.sidepanel.tab","semantic-search-results"))}}function y(){return e=>{e(r.actions.set("semanticSearch/selectedDocument",{}))}}function v(e){const{searchTerm:t}=e,n=Object.assign({},e,{searchTerm:""},{filters:function(e){return Object.keys(e).reduce((t,n)=>!e[n]||"object"===l(e[n])&&!Object.keys(e[n]).length?t:d({},t,{[n]:e[n]}),{})}(e.filters)}),o=Object.assign({searchTerm:t,query:n});return e=>i.default.search(new a.RequestParams(o)).then(()=>e(p()))}function b(){return e=>{e(r.actions.set("semanticSearch/showSemanticSearchPanel",!0))}}function g(){return e=>{e(r.actions.set("semanticSearch/showSemanticSearchPanel",!1))}}function j(e){return t=>i.default.deleteSearch(new a.RequestParams({searchId:e})).then(()=>{t(p())})}function S(e){return t=>i.default.stopSearch(new a.RequestParams({searchId:e})).then(()=>{t(p())})}function _(e){return t=>i.default.resumeSearch(new a.RequestParams({searchId:e})).then(()=>{t(p())})}function x(){return()=>i.default.registerForUpdates()}function w(e){return t=>t(r.actions.update("semanticSearch/searches",e))}function O(e){return(t,n)=>{const o=n().semanticSearch.search.update("results",t=>e.reduce((e,t)=>e.find(e=>t._id===e.get("_id"))?e:e.push(s.a.fromJS(t)),t));t(r.actions.set("semanticSearch/search",o))}}function T(e,t){const n=new a.RequestParams(d({searchId:e},t));return(e,t)=>i.default.getSearch(n).then(n=>{e(r.actions.set("semanticSearch/search",n));const o=t().semanticSearch.selectedDocument;if(o){const t=n.results.find(e=>e.sharedId===o.get("sharedId"));t&&e(r.actions.set("semanticSearch/selectedDocument",t))}})}function C(e,t){const n=new a.RequestParams(d({searchId:e},t));return e=>i.default.getSearch(n).then(t=>e(r.actions.concatIn("semanticSearch/search",["results"],t.results)))}},"./app/react/SemanticSearch/actions/index.js":
/*!***************************************************!*\
  !*** ./app/react/SemanticSearch/actions/index.js ***!
  \***************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./actions */"./app/react/SemanticSearch/actions/actions.js");t.default={fetchSearches:o.fetchSearches,setEditSearchEntities:o.setEditSearchEntities,editSearchEntities:o.editSearchEntities,selectSemanticSearchDocument:o.selectSemanticSearchDocument,unselectSemanticSearchDocument:o.unselectSemanticSearchDocument,submitNewSearch:o.submitNewSearch,showSemanticSearch:o.showSemanticSearch,hideSemanticSearch:o.hideSemanticSearch,deleteSearch:o.deleteSearch,stopSearch:o.stopSearch,resumeSearch:o.resumeSearch,registerForUpdates:o.registerForUpdates,updateSearch:o.updateSearch,addSearchResults:o.addSearchResults,getSearch:o.getSearch,getMoreSearchResults:o.getMoreSearchResults}},"./app/react/SemanticSearch/components/DocumentResults.js":
/*!****************************************************************!*\
  !*** ./app/react/SemanticSearch/components/DocumentResults.js ***!
  \****************************************************************/
/*! exports provided: DocumentResults, default */function(e,t,n){"use strict";n.r(t),n.d(t,"DocumentResults",function(){return j});var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! redux */"./node_modules/redux/es/index.js")),i=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),l=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),c=n.n(l),d=n(/*! ../../I18N */"./app/react/I18N/index.js"),u=n(/*! ../../Documents/components/SnippetList */"./app/react/Documents/components/SnippetList.js"),p=n(/*! ../../Viewer/actions/uiActions */"./app/react/Viewer/actions/uiActions.js"),m=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),f=n(/*! ../../ReactReduxForms */"./app/react/ReactReduxForms/index.js"),h=n(/*! ../../Layout/Icon */"./app/react/Layout/Icon.js"),y=n(/*! ../../Layout */"./app/react/Layout/index.js");function v(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const b=(e,t)=>{const n=e.findIndex(({score:e})=>e<t);return n>=0?e.slice(0,n):e},g=(e,t)=>{const n=e.reduce((e,n)=>{const o=e,s=`${n.text} (${(100*n.score).toFixed(2)}%)`;if(o.count+=1,isNaN(Number(n.page))){const e=t.get("properties").find(e=>e.get("name")===n.page).get("label");return o.metadata[e]=(o.metadata[e]||[]).concat([s]),o}return o.fullText.push({page:Number(n.page),text:s}),o},{count:0,metadata:{},fullText:[]});return n.metadata=Object.keys(n.metadata).map(e=>({field:e,texts:n.metadata[e]})),n};class j extends s.Component{renderSnippetsList(e,t,n){return v(u.default,{doc:c.a.fromJS(e),documentViewUrl:n,snippets:t,searchTerm:"",selectSnippet:(...e)=>{this.props.selectSnippet(...e)}})}renderFilter(){const{threshold:e}=this.props;return v("dl",{className:"metadata-type-text"},void 0,v("dt",{className:"item-header"},void 0,v(d.Translate,{},void 0,"Threshold")," ",(100*e).toFixed(2)," %"),v("dd",{},void 0,v(m.Form,{model:"semanticSearch.resultsFilters"},void 0,v(f.NumericRangeSlide,{model:".threshold",min:.3,max:1,step:.01,delay:200,minLabel:Object(d.t)("System","Exploration"),maxLabel:Object(d.t)("System","Precision")}))))}render(){const{doc:e,threshold:t,template:n}=this.props;if(!e.semanticSearch)return!1;const o=b(e.semanticSearch.results,t),s=c.a.fromJS(g(o,n)),a=e.file?`/document/${e.sharedId}`:`/entity/${e.sharedId}`;return v(r.a.Fragment,{},void 0,v("div",{className:"view"},void 0,v("div",{className:"item-info"},void 0,v("div",{},void 0,v(h.Icon,{className:"item-icon item-icon-center",data:e.icon}),v("h1",{className:"item-name"},void 0,e.title,v(y.DocumentLanguage,{doc:c.a.fromJS(e)}))),v(y.TemplateLabel,{template:e.template})),this.renderFilter(),v("dl",{className:"metadata-type-numeric"},void 0,v("dt",{},void 0,v(d.Translate,{},void 0,"Number of sentences above threshold")),v("dd",{},void 0,o.length)),v("dl",{className:"metadata-type-numeric"},void 0,v("dt",{},void 0,v(d.Translate,{},void 0,"% of sentences above threshold")),v("dd",{},void 0,(o.length/e.semanticSearch.totalResults*100).toFixed(2),"%"))),this.renderSnippetsList(e,s,a))}}j.defaultProps={template:void 0};t.default=Object(i.connect)(({semanticSearch:e,templates:t})=>({threshold:e.resultsFilters.threshold,template:t.find(t=>t.get("_id")===e.selectedDocument.get("template"))}),function(e){return Object(a.bindActionCreators)({selectSnippet:p.selectSnippet},e)})(j)},"./app/react/SemanticSearch/components/DocumentResultsPanel.js":
/*!*********************************************************************!*\
  !*** ./app/react/SemanticSearch/components/DocumentResultsPanel.js ***!
  \*********************************************************************/
/*! exports provided: mapStateToProps, mapDispatchToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"mapStateToProps",function(){return y}),n.d(t,"mapDispatchToProps",function(){return v});var o=n(/*! redux */"./node_modules/redux/es/index.js"),s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),a=n(/*! ../../Documents */"./app/react/Documents/index.js"),i=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),l=n(/*! ../../Metadata */"./app/react/Metadata/index.js"),c=n(/*! ../../Library/actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),d=n(/*! ../../Entities/actions/actions */"./app/react/Entities/actions/actions.js"),u=n(/*! ../../Multireducer */"./app/react/Multireducer/index.js"),p=n(/*! ../../Modals */"./app/react/Modals/index.js"),m=n(/*! ../../Library/containers/DocumentForm */"./app/react/Library/containers/DocumentForm.js"),f=n(/*! ../../Library/containers/EntityForm */"./app/react/Library/containers/EntityForm.js"),h=n(/*! ../actions */"./app/react/SemanticSearch/actions/index.js");const y=({semanticSearch:e,library:t,templates:n})=>({open:!e.selectedDocument.isEmpty(),doc:e.selectedDocument,references:t.sidepanel.references,tab:t.sidepanel.tab,docBeingEdited:!!Object.keys(t.sidepanel.metadata).length,searchTerm:t.search.searchTerm,formDirty:!t.sidepanel.metadataForm.$form.pristine,templates:n,formPath:"library.sidepanel.metadata",readOnly:!0,DocumentForm:m.default,EntityForm:f.default,storeKey:"library"});function v(e,t){return Object(o.bindActionCreators)({loadInReduxForm:l.actions.loadInReduxForm,getDocumentReferences:c.getDocumentReferences,closePanel:h.default.unselectSemanticSearchDocument,resetForm:()=>e=>{e(r.actions.setInitial(`${t.storeKey}.sidepanel.metadata`)),e(r.actions.reset(`${t.storeKey}.sidepanel.metadata`))},saveDocument:c.saveDocument,deleteDocument:c.deleteDocument,searchSnippets:c.searchSnippets,deleteEntity:d.deleteEntity,showModal:p.default.actions.showModal,showTab:e=>i.actions.set("library.sidepanel.tab",e)},u.default.wrapDispatch(e,t.storeKey))}t.default=Object(s.connect)(y,v)(a.DocumentSidePanel)},"./app/react/SemanticSearch/components/ResultsFiltersPanel.js":
/*!********************************************************************!*\
  !*** ./app/react/SemanticSearch/components/ResultsFiltersPanel.js ***!
  \********************************************************************/
/*! exports provided: ResultsFiltersPanel, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ResultsFiltersPanel",function(){return m});n(/*! react */"./node_modules/react/index.js"),n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),a=n(/*! ../../ReactReduxForms */"./app/react/ReactReduxForms/index.js"),i=n(/*! ../../UI */"./app/react/UI/index.js"),l=n(/*! ../../Layout/SidePanel */"./app/react/Layout/SidePanel.js"),c=n(/*! ../../I18N */"./app/react/I18N/index.js");function d(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const u=[{label:"Threshold",model:"threshold",min:.3,max:1,step:.01,minLabel:"Exploration",maxLabel:"Precision"},{label:"Minimum relevant sentences per document",model:"minRelevantSentences",min:1,max:50,step:1,minLabel:"",maxLabel:""}],p=(e,t)=>"threshold"===e.model?`${(100*t[e.model]).toFixed(2)}%`:t[e.model];function m({open:e,filtersValues:t}){return d(l.default,{open:e},void 0,d("div",{className:"sidepanel-body"},void 0,d("div",{className:"sidepanel-title"},void 0,Object(c.t)("System","Fine tune")),d(r.Form,{model:"semanticSearch.resultsFilters"},void 0,d("div",{className:"view"},void 0,u.map(e=>d("dl",{className:"metadata-type-text"},e.label,d("dt",{},void 0,Object(c.t)("System",e.label)," ",p(e,t)),d("dd",{},void 0,d(a.NumericRangeSlide,{delay:200,model:`.${e.model}`,prefix:e.model,min:e.min,max:e.max,step:e.step,minLabel:Object(c.t)("System",e.minLabel),maxLabel:Object(c.t)("System",e.maxLabel)})))))),d("div",{className:"semantic-search-help"},void 0,d("div",{className:"alert alert-info alert-vertical"},void 0,d(i.Icon,{icon:"info-circle",size:"2x"}),d("p",{},void 0,d(c.Translate,{translationKey:"Semantic search overview"},void 0,"Semantic search is a technique to provide contextual results. Its ability to capture concepts and word associations in human language enables the retrieval of related information such as synonyms, connected categories or entities, etc. .")),d("p",{},void 0,d(c.Translate,{translationKey:"Semantic search threshold help"},void 0,"The threshold determines how close the results match the search concept. Move the slider to the right to narrow down the concept of the search query. The obtained results will be more precise. Move the slider to the left to more broaden the concept and explore related content.")),d("p",{},void 0,d(c.Translate,{translationKey:"Semantic search minimum sentences help"},void 0,"Semantic search is applied to each sentence in a document. Filter the documents by the minimum number of sentences that exceed the threshold."))))))}t.default=Object(s.connect)(function({semanticSearch:e}){return{open:e.selectedDocument.isEmpty(),filtersValues:e.resultsFilters}})(m)},"./app/react/SemanticSearch/components/ResultsSidePanel.js":
/*!*****************************************************************!*\
  !*** ./app/react/SemanticSearch/components/ResultsSidePanel.js ***!
  \*****************************************************************/
/*! exports provided: ResultsSidePanel, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ResultsSidePanel",function(){return d});var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=n(/*! ./ResultsFiltersPanel */"./app/react/SemanticSearch/components/ResultsFiltersPanel.js"),l=n(/*! ./DocumentResultsPanel */"./app/react/SemanticSearch/components/DocumentResultsPanel.js");function c(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){return c(r.a.Fragment,{},void 0,c(i.default,{storeKey:"library"}),c(l.default,{}))}t.default=Object(a.connect)()(d)},"./app/react/SemanticSearch/components/SearchItem.js":
/*!***********************************************************!*\
  !*** ./app/react/SemanticSearch/components/SearchItem.js ***!
  \***********************************************************/
/*! exports provided: SearchItem, mapDispatchToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"SearchItem",function(){return f}),n.d(t,"mapDispatchToProps",function(){return h});var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! prop-types */"./node_modules/prop-types/index.js"),a=n.n(r),i=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),l=n(/*! redux */"./node_modules/redux/es/index.js"),c=n(/*! ../../I18N */"./app/react/I18N/index.js"),d=n(/*! ../../Library/components/SearchDescription */"./app/react/Library/components/SearchDescription.js"),u=n(/*! ../../UI */"./app/react/UI/index.js"),p=n(/*! ../actions/actions */"./app/react/SemanticSearch/actions/actions.js");function m(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class f extends s.Component{constructor(e){super(e),this.delete=this.delete.bind(this)}delete(e){const{confirm:t}=this.context,{onDeleteClicked:n,search:o}=this.props;e.preventDefault(),t({accept:n.bind(this,o._id),title:"Confirm delete",message:"Are you sure you want to delete this search?"})}renderButtons(){const{search:e,onStopClicked:t,onResumeClicked:n}=this.props,{status:o}=e;return m("div",{className:"buttons"},void 0,m("button",{type:"button",className:"btn btn-danger delete-search btn-xs",onClick:this.delete},void 0,m(u.Icon,{icon:"trash-alt",size:"sm"})),["inProgress","pending"].includes(o)&&m("button",{type:"button",className:"btn btn-warning stop-search btn-xs",onClick:()=>t(e._id)},void 0,m(u.Icon,{icon:"stop",size:"sm"})),"stopped"===o&&m("button",{type:"button",className:"btn btn-success resume-search btn-xs",onClick:()=>n(e._id)},void 0,m(u.Icon,{icon:"play",size:"sm"})))}render(){const{search:e}=this.props,{status:t,documents:n}=e,o=n.filter(e=>"completed"===e.status).length,s=n.length;return m(c.I18NLink,{className:"semantic-search-list-item",to:`semanticsearch/${e._id}`},void 0,m("div",{className:"item-header"},void 0,m("div",{className:"title"},void 0,m(d.default,{searchTerm:e.searchTerm,query:e.query})),this.renderButtons()),m("div",{},void 0,"completed"!==t&&m(u.ProgressBar,{value:o,max:s})))}}function h(e){return Object(l.bindActionCreators)({onDeleteClicked:p.deleteSearch,onStopClicked:p.stopSearch,onResumeClicked:p.resumeSearch},e)}f.contextTypes={confirm:a.a.func},t.default=Object(i.connect)(null,h)(f)},"./app/react/SemanticSearch/components/SearchList.js":
/*!***********************************************************!*\
  !*** ./app/react/SemanticSearch/components/SearchList.js ***!
  \***********************************************************/
/*! exports provided: SearchList, default */function(e,t,n){"use strict";n.r(t),n.d(t,"SearchList",function(){return i});n(/*! react */"./node_modules/react/index.js"),n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=n(/*! ./SearchItem */"./app/react/SemanticSearch/components/SearchItem.js");function a(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function i({searches:e}){return a("div",{className:"semantic-search-list"},void 0,e.map(e=>a(r.default,{search:e},e._id)))}i.defaultProps={searches:[]},t.default=Object(s.connect)()(i)},"./app/react/SemanticSearch/components/SemanticSearchMultieditPanel.js":
/*!*****************************************************************************!*\
  !*** ./app/react/SemanticSearch/components/SemanticSearchMultieditPanel.js ***!
  \*****************************************************************************/
/*! exports provided: SemanticSearchMultieditPanel, mapStateToProps, mapDispatchToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"SemanticSearchMultieditPanel",function(){return _}),n.d(t,"mapStateToProps",function(){return x}),n.d(t,"mapDispatchToProps",function(){return w});var o,s=n(/*! prop-types */"./node_modules/prop-types/index.js"),r=n.n(s),a=n(/*! react */"./node_modules/react/index.js"),i=n.n(a),l=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),c=n(/*! redux */"./node_modules/redux/es/index.js"),d=n(/*! ../../I18N */"./app/react/I18N/index.js"),u=n(/*! ../../Metadata/actions/actions */"./app/react/Metadata/actions/actions.js"),p=n(/*! ../../Multireducer */"./app/react/Multireducer/index.js"),m=n(/*! ../../Layout/SidePanel */"./app/react/Layout/SidePanel.js"),f=(n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),n(/*! ../../UI */"./app/react/UI/index.js")),h=n(/*! ../../Metadata/helpers/comonTemplate */"./app/react/Metadata/helpers/comonTemplate.js"),y=n(/*! ../../Metadata/components/MetadataForm */"./app/react/Metadata/components/MetadataForm.js"),v=n(/*! ../actions/actions */"./app/react/SemanticSearch/actions/actions.js"),b=n(/*! reselect */"./node_modules/reselect/lib/index.js");function g(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const j=Object(b.createSelector)(e=>e.templates,e=>e.toJS()),S=Object(b.createSelector)(j,e=>e.semanticSearch.multiedit,h.default);class _ extends a.Component{constructor(e){super(e),this.close=this.close.bind(this),this.cancel=this.cancel.bind(this),this.save=this.save.bind(this),this.changeTemplate=this.changeTemplate.bind(this)}close(){this.props.resetForm(this.props.formKey),this.props.setEntities([])}metadataFieldModified(e){return!(this.props.formState.metadata[e].pristine||this.props.formState.metadata[e].$form&&this.props.formState.metadata[e].$form.pristine)}save(e){const{entities:t,template:n,formState:o,searchId:s}=this.props,r={metadata:{}};return Object.keys(e.metadata).forEach(t=>{this.metadataFieldModified(t)&&(r.metadata[t]=e.metadata[t])}),n.get("_id")&&(r.template=n.get("_id")),o.icon&&!o.icon.pristine&&(r.icon=e.icon),this.props.multipleUpdate(t,r).then(()=>{this.close(),this.props.getSearch(s)})}changeTemplate(e,t){const n=this.props.entities.map(e=>e.set("template",t));this.props.setEntities(n)}cancel(){const{confirm:e}=this.context;e({accept:()=>{this.close()},title:Object(d.t)("System","Confirm",null,!1),message:Object(d.t)("System","Discard changes",null,!1)})}renderEditingForm(){const{formKey:e,thesauris:t}=this.props;return g(i.a.Fragment,{},void 0,g("div",{className:"alert alert-warning"},void 0,g(f.Icon,{icon:"exclamation-triangle",size:"2x"}),g("p",{},void 0,"Warning: you are editing multiple files. Fields marked with a ",g(f.Icon,{icon:"exclamation-triangle"})," will be updated with the same value.")),g(y.default,{id:"multiEdit",model:e,onSubmit:this.save,thesauris:t,template:this.props.template,changeTemplate:this.changeTemplate,multipleEdition:!0}))}renderEditingButtons(){return g(i.a.Fragment,{},void 0,g("button",{type:"button",onClick:this.cancel,className:"cancel-edit-metadata btn btn-primary"},void 0,g(f.Icon,{icon:"times"}),g("span",{className:"btn-label"},void 0,Object(d.t)("System","Cancel"))),g("button",{type:"submit",form:"multiEdit",className:"btn btn-success"},void 0,g(f.Icon,{icon:"save"}),g("span",{className:"btn-label"},void 0,Object(d.t)("System","Save"))))}render(){const{open:e}=this.props;return g(m.default,{open:e,className:"multi-edit"},void 0,g("div",{className:"sidepanel-header"},void 0,g("button",{type:"button",className:"closeSidepanel close-modal",onClick:this.close},void 0,g(f.Icon,{icon:"times"}))),g("div",{className:"sidepanel-body"},void 0,this.renderEditingForm()),g("div",{className:"sidepanel-footer"},void 0,this.renderEditingButtons()))}}_.defaultProps={template:null,open:!1},_.contextTypes={confirm:r.a.func};const x=e=>{const t=e.semanticSearch.multiedit;return{template:S(e),thesauris:e.thesauris,entities:t,open:Boolean(t.size),formState:e.semanticSearch.multipleEditForm}};function w(e,t){return Object(c.bindActionCreators)({loadForm:u.loadTemplate,resetForm:u.resetReduxForm,setEntities:v.setEditSearchEntities,getSearch:v.getSearch,multipleUpdate:u.multipleUpdate},Object(p.wrapDispatch)(e,t.storeKey))}t.default=Object(l.connect)(x,w)(_)},"./app/react/SemanticSearch/components/SemanticSearchPanel.js":
/*!********************************************************************!*\
  !*** ./app/react/SemanticSearch/components/SemanticSearchPanel.js ***!
  \********************************************************************/
/*! exports provided: SemanticSearchSidePanel, mapStateToProps, mapDispatchToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"SemanticSearchSidePanel",function(){return f}),n.d(t,"mapStateToProps",function(){return h}),n.d(t,"mapDispatchToProps",function(){return y});var o,s=n(/*! react */"./node_modules/react/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react-redux */"./node_modules/react-redux/es/index.js")),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=(n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),n(/*! ../../socket */"./app/react/socket.js")),l=n(/*! ../../UI */"./app/react/UI/index.js"),c=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),d=n(/*! ../../Layout/SidePanel */"./app/react/Layout/SidePanel.js"),u=n(/*! ../actions/actions */"./app/react/SemanticSearch/actions/actions.js"),p=n(/*! ./SearchList */"./app/react/SemanticSearch/components/SearchList.js");function m(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class f extends s.Component{constructor(e){super(e),this.registeredForUpdates=!1,this.onSearchUpdated=this.onSearchUpdated.bind(this),i.default.on("semanticSearchUpdated",this.onSearchUpdated)}componentDidMount(){this.registeredForUpdates||(this.props.registerForUpdates(),this.registeredForUpdates=!0),this.props.fetchSearches()}componentWillUnmount(){i.default.removeListener("semanticSearchUpdated",this.onSearchUpdated)}onSearchUpdated({updatedSearch:e}){this.props.updateSearch(e)}attachDispatch(e){this.formDispatch=e}close(){this.props.hideSemanticSearch()}render(){const e=this.props.searches.toJS(),{open:t}=this.props;return m(d.default,{open:t,className:"metadata-sidepanel semantic-search"},void 0,m("button",{type:"button",className:"closeSidepanel close-modal",onClick:this.props.hideSemanticSearch},void 0,m(l.Icon,{icon:"times"})),m("div",{className:"sidepanel-body"},void 0,m(c.default,{if:!!e},void 0,m(p.default,{searches:e}))))}}function h(e){return{searches:e.semanticSearch.searches,search:e.semanticSearch.search,open:e.semanticSearch.showSemanticSearchPanel}}function y(e){return Object(a.bindActionCreators)({fetchSearches:u.fetchSearches,submitNewSearch:u.submitNewSearch,registerForUpdates:u.registerForUpdates,updateSearch:u.updateSearch,hideSemanticSearch:u.hideSemanticSearch},e)}t.default=Object(r.connect)(h,y)(f)},"./app/react/SemanticSearch/components/SemanticSearchResults.js":
/*!**********************************************************************!*\
  !*** ./app/react/SemanticSearch/components/SemanticSearchResults.js ***!
  \**********************************************************************/
/*! exports provided: SemanticSearchResults, mapStateToProps, mapDispatchToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"SemanticSearchResults",function(){return x}),n.d(t,"mapStateToProps",function(){return w}),n.d(t,"mapDispatchToProps",function(){return O});var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react-redux */"./node_modules/react-redux/es/index.js")),i=n(/*! redux */"./node_modules/redux/es/index.js"),l=n(/*! react-helmet */"./node_modules/react-helmet/lib/Helmet.js"),c=n.n(l),d=n(/*! ../../Layout/Lists */"./app/react/Layout/Lists.js"),u=n(/*! ../../Library/components/Doc */"./app/react/Library/components/Doc.js"),p=n(/*! ../actions/actions */"./app/react/SemanticSearch/actions/actions.js"),m=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),f=n.n(m),h=n(/*! ../../I18N */"./app/react/I18N/index.js"),y=n(/*! ../../Library/components/SearchDescription */"./app/react/Library/components/SearchDescription.js"),v=n(/*! ../../UI */"./app/react/UI/index.js"),b=n(/*! ./ResultsSidePanel */"./app/react/SemanticSearch/components/ResultsSidePanel.js"),g=n(/*! ./SemanticSearchMultieditPanel */"./app/react/SemanticSearch/components/SemanticSearchMultieditPanel.js");function j(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class x extends s.Component{constructor(e){super(e),this.state={page:1},this.onClick=this.onClick.bind(this),this.onLoadMoreClick=this.onLoadMoreClick.bind(this),this.multiEdit=this.multiEdit.bind(this)}shouldComponentUpdate(e){const{items:t,filters:n,isEmpty:o,searchTerm:s}=this.props;return!f.a.is(e.items,t)||Boolean(e.filters.threshold!==n.threshold)||Boolean(e.filters.minRelevantSentences!==n.minRelevantSentences)||Boolean(e.isEmpty!==o)||Boolean(e.searchTerm!==s)}componentDidUpdate(e){const{filters:t,searchId:n}=this.props;t.minRelevantSentences===e.filters.minRelevantSentences&&t.threshold===e.filters.threshold||this.props.getSearch(n,t)}onClick(e,t){this.props.selectSemanticSearchDocument(t)}onLoadMoreClick(){const{searchId:e,filters:t}=this.props,{page:n}=this.state,o=function(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};j(n,!0).forEach(function(t){S(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):j(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}({},t,{skip:30*n,limit:30});this.setState({page:n+1}),this.props.getMoreSearchResults(e,o)}multiEdit(){const{editSearchEntities:e,filters:t,searchId:n}=this.props;e(n,t)}render(){const{items:e,isEmpty:t,searchTerm:n,totalCount:o,query:s,searchId:a}=this.props;return _("div",{className:"row panels-layout"},void 0,t&&_(r.a.Fragment,{},void 0,_("p",{},void 0,"Search not found"),_(c.a,{title:"Semantic search not found"})),!t&&_(r.a.Fragment,{},void 0,_(c.a,{title:`${n} - Semantic search results`}),_("main",{className:"semantic-search-results-viewer document-viewer with-panel"},void 0,_("div",{},void 0,_("h3",{},void 0,_(h.Translate,{},void 0,"Semantic search"),": ",_(y.default,{searchTerm:n,query:s})),_("button",{type:"button",onClick:this.multiEdit,className:"btn btn-success edit-semantic-search"},void 0,_(v.Icon,{icon:"pencil-alt"})," ",_(h.Translate,{},void 0,"Edit all documents matching this criteria"))),_("div",{className:"documents-counter"},void 0,_("span",{className:"documents-counter-label"},void 0,_("b",{},void 0,o)," ",_(h.Translate,{},void 0,"documents"))),_(d.RowList,{},void 0,e.map(e=>_(u.default,{doc:e,onClick:this.onClick,additionalText:function(e){const t=e.getIn(["semanticSearch","totalResults"]),n=e.getIn(["semanticSearch","numRelevant"]),o=100*e.getIn(["semanticSearch","relevantRate"]);return _("div",{className:"item-metadata"},void 0,_("div",{className:"metadata-type-text"},void 0,_("div",{},void 0,_(h.Translate,{},void 0,"Sentences above threshold")),_("div",{},void 0,n," out of ",t," (",o.toFixed(2),"%)")))}(e)},e.get("sharedId")))),_("p",{className:"col-sm-12 text-center documents-counter"},void 0,_("b",{},void 0," ",e.size," ")," ",_(h.Translate,{},void 0,"of"),_("b",{},void 0," ",o," ")," ",_(h.Translate,{},void 0,"documents")),_("div",{className:"col-sm-12 text-center documents-counter"},void 0,_("button",{onClick:this.onLoadMoreClick,type:"button",className:"btn btn-default btn-load-more"},void 0,"30 ",_(h.Translate,{},void 0,"x more")))),_(b.default,{}),_(g.default,{searchId:a,formKey:"semanticSearch.multipleEdit"})))}}x.defaultProps={searchTerm:"",items:f.a.fromJS([]),query:{searchTerm:""},searchId:""};const w=e=>{const{search:t}=e.semanticSearch,n=t.get("searchTerm"),o=t.get("results"),s=e.semanticSearch.resultsFilters,r=0===t.size,{_id:a,query:i}=t.toJS();return{searchId:a,query:i||{searchTerm:""},totalCount:r?0:t.get("documents").size,searchTerm:n,filters:s,items:o,isEmpty:r}};function O(e){return Object(i.bindActionCreators)(p,e)}t.default=Object(a.connect)(w,O)(x)},"./app/react/SemanticSearch/reducers/reducer.js":
/*!******************************************************!*\
  !*** ./app/react/SemanticSearch/reducers/reducer.js ***!
  \******************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! redux */"./node_modules/redux/es/index.js"),s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),a=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),i=n.n(a);t.default=Object(o.combineReducers)({search:Object(r.default)("semanticSearch/search",{}),searches:Object(r.default)("semanticSearch/searches",[]),resultsFiltersForm:Object(s.formReducer)("semanticSearch.resultsFilters"),resultsFilters:Object(s.modelReducer)("semanticSearch.resultsFilters",{threshold:.4,minRelevantSentences:5}),resultsThreshold:Object(s.modelReducer)("semanticSearch.resultsThreshold"),minRelevantSentences:Object(s.modelReducer)("semanticSearch.minRelevantSentences"),minRelevantScore:Object(s.modelReducer)("semanticSearch.minRelevantScore"),selectedDocument:Object(r.default)("semanticSearch/selectedDocument",i.a.fromJS({})),showSemanticSearchPanel:Object(r.default)("semanticSearch/showSemanticSearchPanel",!1),multipleEdit:Object(s.modelReducer)("semanticSearch.multipleEdit",{metadata:{}}),multipleEditForm:Object(s.formReducer)("semanticSearch.multipleEdit",{metadata:{}}),multiedit:Object(r.default)("semanticSearch/multiedit",[])})},"./app/react/Settings/Settings.js":
/*!****************************************!*\
  !*** ./app/react/Settings/Settings.js ***!
  \****************************************/
/*! exports provided: Settings, default */function(e,t,n){"use strict";n.r(t),n.d(t,"Settings",function(){return h});n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! react-helmet */"./node_modules/react-helmet/lib/Helmet.js"),r=n.n(s),a=n(/*! ../App/RouteHandler */"./app/react/App/RouteHandler.js"),i=n(/*! ../Users/UsersAPI */"./app/react/Users/UsersAPI.js"),l=n(/*! ../Thesauris/ThesaurisAPI */"./app/react/Thesauris/ThesaurisAPI.js"),c=n(/*! ../RelationTypes/RelationTypesAPI */"./app/react/RelationTypes/RelationTypesAPI.js"),d=n(/*! ../BasicReducer */"./app/react/BasicReducer/index.js"),u=n(/*! ../I18N */"./app/react/I18N/index.js"),p=n(/*! ./components/SettingsNavigation */"./app/react/Settings/components/SettingsNavigation.js"),m=n(/*! ./SettingsAPI */"./app/react/Settings/SettingsAPI.js");function f(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class h extends a.default{static async requestState(e){const t=e.onlyHeaders(),[n,o,s,r,a]=await Promise.all([i.default.currentUser(t),l.default.getDictionaries(t),c.default.get(t),u.I18NApi.get(t),m.default.get(t)]);return[d.actions.set("auth/user",n),d.actions.set("dictionaries",o),d.actions.set("relationTypes",s),d.actions.set("translations",r),d.actions.set("settings/collection",a)]}render(){return f("div",{className:"row settings"},void 0,f(r.a,{title:"Settings"}),f("div",{className:"settings-navigation"},void 0,f(p.default,{})),f("div",{className:"settings-content"},void 0,this.props.children))}}t.default=h},"./app/react/Settings/SettingsAPI.js":
/*!*******************************************!*\
  !*** ./app/react/Settings/SettingsAPI.js ***!
  \*******************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ../utils/api */"./app/react/utils/api.js");t.default={save:e=>o.default.post("settings",e).then(e=>e.json),get:(e,t)=>o.default.get("settings",e,t).then(e=>e.json)}},"./app/react/Settings/actions/actionTypes.js":
/*!***************************************************!*\
  !*** ./app/react/Settings/actions/actionTypes.js ***!
  \***************************************************/
/*! exports provided: NAVLINKS_SAVED, EDIT_LINK, SAVING_NAVLINKS */function(e,t,n){"use strict";n.r(t),n.d(t,"NAVLINKS_SAVED",function(){return o}),n.d(t,"EDIT_LINK",function(){return s}),n.d(t,"SAVING_NAVLINKS",function(){return r});const o="NAVLINKS_SAVED",s="EDIT_LINK",r="SAVING_NAVLINKS"},"./app/react/Settings/actions/navlinksActions.js":
/*!*******************************************************!*\
  !*** ./app/react/Settings/actions/navlinksActions.js ***!
  \*******************************************************/
/*! exports provided: loadLinks, addLink, sortLink, removeLink, saveLinks */function(e,t,n){"use strict";n.r(t),n.d(t,"loadLinks",function(){return u}),n.d(t,"addLink",function(){return p}),n.d(t,"sortLink",function(){return m}),n.d(t,"removeLink",function(){return f}),n.d(t,"saveLinks",function(){return h});var o=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),s=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js"),r=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),a=n(/*! ./uiActions */"./app/react/Settings/actions/uiActions.js"),i=n(/*! ../../Notifications */"./app/react/Notifications/index.js"),l=n(/*! ../../../shared/uniqueID */"./app/shared/uniqueID.js"),c=n(/*! ../SettingsAPI */"./app/react/Settings/SettingsAPI.js"),d=n(/*! ./actionTypes */"./app/react/Settings/actions/actionTypes.js");function u(e){return o.actions.load("settings.navlinksData",{links:e})}function p(e){const t={title:`Item ${e.length+1}`,localID:Object(l.default)()};return e=>{e(o.actions.push("settings.navlinksData.links",t)),e(Object(a.editLink)(t.localID))}}function m(e,t){return o.actions.move("settings.navlinksData.links",e,t)}function f(e){return o.actions.remove("settings.navlinksData.links",e)}function h(e){return t=>(t({type:d.SAVING_NAVLINKS}),c.default.save(new s.RequestParams(e)).then(e=>{t({type:d.NAVLINKS_SAVED,data:e}),t(r.actions.set("settings/collection",e)),t(i.notificationActions.notify("Saved successfully.","success"))}).catch(()=>{t({type:d.NAVLINKS_SAVED,data:e})}))}},"./app/react/Settings/actions/settingsActions.js":
/*!*******************************************************!*\
  !*** ./app/react/Settings/actions/settingsActions.js ***!
  \*******************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ../../Notifications */"./app/react/Notifications/index.js"),s=n(/*! ../../I18N */"./app/react/I18N/index.js"),r=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js"),a=n(/*! ../SettingsAPI */"./app/react/Settings/SettingsAPI.js");t.default=(e=>t=>a.default.save(new r.RequestParams(e)).then(()=>{t(o.notificationActions.notify(Object(s.t)("System","Settings updated"),"success"))}))},"./app/react/Settings/actions/uiActions.js":
/*!*************************************************!*\
  !*** ./app/react/Settings/actions/uiActions.js ***!
  \*************************************************/
/*! exports provided: editLink */function(e,t,n){"use strict";n.r(t),n.d(t,"editLink",function(){return s});var o=n(/*! ./actionTypes */"./app/react/Settings/actions/actionTypes.js");function s(e){return{type:o.EDIT_LINK,id:e}}},"./app/react/Settings/components/AccountSettings.js":
/*!**********************************************************!*\
  !*** ./app/react/Settings/components/AccountSettings.js ***!
  \**********************************************************/
/*! exports provided: AccountSettings, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"AccountSettings",function(){return f}),n.d(t,"mapStateToProps",function(){return h});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),l=n(/*! ../../Users/UsersAPI */"./app/react/Users/UsersAPI.js"),c=n(/*! ../../Notifications/actions/notificationsActions */"./app/react/Notifications/actions/notificationsActions.js"),d=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js"),u=n(/*! ../../I18N */"./app/react/I18N/index.js"),p=n(/*! ../../UI */"./app/react/UI/index.js");function m(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class f extends s.Component{constructor(e,t){super(e,t),this.state={email:e.user.email||"",password:"",repeatPassword:""}}componentWillReceiveProps(e){this.setState({email:e.user.email||""})}emailChange(e){this.setState({email:e.target.value})}passwordChange(e){this.setState({password:e.target.value}),this.setState({passwordError:!1})}repeatPasswordChange(e){this.setState({repeatPassword:e.target.value}),this.setState({passwordError:!1})}updateEmail(e){const{email:t}=this.state,{user:n,notify:o,setUser:s}=this.props;e.preventDefault();const r=Object.assign({},n,{email:t});l.default.save(new d.RequestParams(r)).then(e=>{o(Object(u.t)("System","Email updated",null,!1),"success"),s(Object.assign(r,{_rev:e.rev}))})}updatePassword(e){e.preventDefault();const{password:t,repeatPassword:n}=this.state,{user:o,notify:s,setUser:r}=this.props,a=t!==n;""===t.trim()||a?this.setState({passwordError:!0}):(l.default.save(new d.RequestParams(Object.assign({},o,{password:t}))).then(e=>{s(Object(u.t)("System","Password updated",null,!1),"success"),r(Object.assign(o,{_rev:e.rev}))}),this.setState({password:"",repeatPassword:""}))}render(){const{email:e,password:t,repeatPassword:n,passwordError:o}=this.state;return m("div",{className:"account-settings"},void 0,m("div",{className:"panel panel-default"},void 0,m("div",{className:"panel-heading"},void 0,Object(u.t)("System","Account")),m("div",{className:"panel-body"},void 0,m("h5",{},void 0,Object(u.t)("System","Email address")),m("form",{onSubmit:this.updateEmail.bind(this)},void 0,m("div",{className:"form-group"},void 0,m("label",{className:"form-group-label",htmlFor:"collection_name"},void 0,Object(u.t)("System","Email")),m("input",{type:"email",onChange:this.emailChange.bind(this),value:e,className:"form-control"})),m("button",{type:"submit",className:"btn btn-success"},void 0,Object(u.t)("System","Update"))),m("hr",{}),m("h5",{},void 0,Object(u.t)("System","Change password")),m("form",{onSubmit:this.updatePassword.bind(this)},void 0,m("div",{className:`form-group${o?" has-error":""}`},void 0,m("label",{className:"form-group-label",htmlFor:"password"},void 0,Object(u.t)("System","New password")),m("input",{type:"password",onChange:this.passwordChange.bind(this),value:t,id:"password",className:"form-control"})),m("div",{className:`form-group${o?" has-error":""}`},void 0,m("label",{className:"form-group-label",htmlFor:"repeatPassword"},void 0,Object(u.t)("System","Confirm new password")),m("input",{type:"password",onChange:this.repeatPasswordChange.bind(this),value:n,id:"repeatPassword",className:"form-control"})),o&&m("div",{className:"validation-error validation-error-centered"},void 0,m(p.Icon,{icon:"exclamation-triangle"})," ",Object(u.t)("System","Password Error")),m("button",{type:"submit",className:"btn btn-success"},void 0,Object(u.t)("System","Update"))))),m("div",{className:"settings-footer"},void 0,m("a",{href:"/logout",className:"btn btn-danger"},void 0,m(p.Icon,{icon:"power-off"}),m("span",{className:"btn-label"},void 0,Object(u.t)("System","Logout")))))}}function h(e){return{user:e.user.toJS()}}f.defaultProps={user:{}},t.default=Object(r.connect)(h,function(e){return Object(a.bindActionCreators)({setUser:i.actions.set.bind(null,"auth/user"),notify:c.notify},e)})(f)},"./app/react/Settings/components/CollectionSettings.js":
/*!*************************************************************!*\
  !*** ./app/react/Settings/components/CollectionSettings.js ***!
  \*************************************************************/
/*! exports provided: CollectionSettings, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"CollectionSettings",function(){return j}),n.d(t,"mapStateToProps",function(){return S});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! moment */"./node_modules/moment/moment.js"),l=n.n(i),c=n(/*! ../../utils */"./app/react/utils/index.js"),d=n(/*! react-router */"./node_modules/react-router/es/index.js"),u=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js"),p=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),m=n(/*! ../SettingsAPI */"./app/react/Settings/SettingsAPI.js"),f=n(/*! ../../Notifications */"./app/react/Notifications/index.js"),h=n(/*! ../../ReactReduxForms */"./app/react/ReactReduxForms/index.js"),y=n(/*! ../../I18N */"./app/react/I18N/index.js"),v=n(/*! ../../UI */"./app/react/UI/index.js"),b=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js");function g(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class j extends s.Component{static dateFormatSeparatorOptions(){return[{label:"/",value:"/"},{label:"-",value:"-"}]}static landingPageOptions(){return[{label:"Library",value:!1},{label:"Custom Page",value:!0}]}static dateFormatOptions(e){return[{label:"Year, Month, Day",value:0,separator:e},{label:"Day, Month, Year",value:1,separator:e},{label:"Month, Day, Year",value:2,separator:e}]}static getDateFormatValue(e,t){return[`YYYY${t}MM${t}DD`,`DD${t}MM${t}YYYY`,`MM${t}DD${t}YYYY`].indexOf(e)}static getDateFormat(e,t){return[`YYYY${t}MM${t}DD`,`DD${t}MM${t}YYYY`,`MM${t}DD${t}YYYY`][e]}static renderDateFormatLabel(e){const{separator:t,label:n,value:o}=e;return g("span",{},void 0,n," ",g("code",{},void 0,l()().format(j.getDateFormat(o,t))))}constructor(e,t){super(e,t);const{settings:n}=this.props,o=e.settings.dateFormat&&e.settings.dateFormat.includes("/")?"/":"-",s=j.getDateFormatValue(n.dateFormat,o),r=Boolean(e.settings.home_page),a=n.allowedPublicTemplates?n.allowedPublicTemplates.join(","):"";this.state=Object.assign({},n,{dateSeparator:o,customLandingpage:r,dateFormat:s,allowedPublicTemplatesString:a}),this.updateSettings=this.updateSettings.bind(this)}updateSettings(e){const t=Object.assign({},e);delete t.customLandingpage,delete t.dateSeparator,delete t.allowedPublicTemplatesString,t.dateFormat=j.getDateFormat(e.dateFormat,e.dateSeparator),e.customLandingpage||(t.home_page=""),t.allowedPublicTemplates=e.allowedPublicTemplatesString?e.allowedPublicTemplatesString.split(","):[],m.default.save(new u.RequestParams(t)).then(e=>{const{notify:t,setSettings:n}=this.props;t(Object(y.t)("System","Settings updated",null,!1),"success"),n(e)})}render(){const e=c.isClient?window.location.origin:"",{dateSeparator:t,customLandingpage:n}=this.state;return g("div",{className:"panel panel-default"},void 0,g("div",{className:"panel-heading"},void 0,Object(y.t)("System","Collection")),g("div",{className:"panel-body"},void 0,g(b.LocalForm,{id:"collectionSettingsForm",onSubmit:this.updateSettings,initialState:this.state,onChange:e=>this.setState(e)},void 0,g("div",{className:"form-group"},void 0,g("label",{className:"form-group-label",htmlFor:"collection_name"},void 0,Object(y.t)("System","Name")),g(b.Control.text,{id:"collection_name",model:".site_name",className:"form-control"})),g("div",{className:"form-group"},void 0,g("span",{className:"form-group-label"},void 0,Object(y.t)("System","Private instance")),g("div",{className:"checkbox"},void 0,g("label",{},void 0,g(b.Control.checkbox,{id:"collection_name",model:".private"}),Object(y.t)("System","check as private instance")))),g("div",{className:"form-group"},void 0,g("span",{className:"form-group-label"},void 0,Object(y.t)("System","Date format")),g("div",{},void 0,Object(y.t)("System","Separator")),g(h.RadioButtons,{options:j.dateFormatSeparatorOptions(),model:".dateSeparator"}),g("div",{},void 0,Object(y.t)("System","Order")),g(h.RadioButtons,{options:j.dateFormatOptions(t),model:".dateFormat",renderLabel:j.renderDateFormatLabel})),g("h2",{},void 0,Object(y.t)("System","Advanced settings")),g("div",{className:"form-group"},void 0,g("span",{className:"form-group-label"},void 0,Object(y.t)("System","Landing page")),g(h.RadioButtons,{options:j.landingPageOptions(),model:".customLandingpage"}),g("div",{className:"input-group"},void 0,g("span",{disabled:!n,className:"input-group-addon"},void 0,e),g(b.Control.text,{disabled:!n,model:".home_page",className:"form-control"}))),g("div",{className:"alert alert-info"},void 0,g(v.Icon,{icon:"home",size:"2x"}),g("div",{className:"force-ltr"},void 0,"The landing page is the first thing users will see when visiting your Uwazi instance.",g("br",{}),"You can use any URL from your Uwazi instance as a landing page, examples:",g("ul",{},void 0,g("li",{},void 0,"A page: /page/dicxg0oagy3xgr7ixef80k9"),g("li",{},void 0,"Library results: /library/?searchTerm=test"),g("li",{},void 0,"An entity: /entity/9htbkgpkyy7j5rk9"),g("li",{},void 0,"A document: /document/4y9i99fadjp833di")),"Always use URLs relative to your site, starting with / and skipping the https://yoursite.com/.")),g("div",{className:"form-group"},void 0,g("label",{className:"form-group-label",htmlFor:"analyticsTrackingId"},void 0,Object(y.t)("System","Google Analytics ID")),g(b.Control.text,{model:".analyticsTrackingId",className:"form-control"})),g("div",{className:"form-group"},void 0,g("label",{className:"form-group-label",htmlFor:"matomoConfig"},void 0,Object(y.t)("System","Matomo configuration")),g(b.Control.textarea,{model:".matomoConfig",className:"form-control",rows:"5"})),g("div",{className:"alert alert-info"},void 0,g(v.Icon,{icon:"question-circle",size:"2x"}),g("div",{className:"force-ltr"},void 0,'This is a JSON configuration object like {"url": "matomo.server.url", "id": "site_id"}.')),g("div",{className:"form-group"},void 0,g("label",{className:"form-group-label",htmlFor:"collectionMailerConfig"},void 0,Object(y.t)("System","Mailer configuration")),g(b.Control.textarea,{model:".mailerConfig",className:"form-control",rows:"5"})),g("div",{className:"alert alert-info"},void 0,g(v.Icon,{icon:"envelope",size:"2x"}),g("div",{className:"force-ltr"},void 0,"This is a JSON configuration object that should match the options values required by Nodemailer, as explained in ",g("a",{href:"https://nodemailer.com/smtp/",target:"_blank",rel:"noopener noreferrer"},void 0,"nodemailer.com/smtp/"),g("br",{}),"This setting takes precedence over all other mailer configuration.",g("br",{}),"If left blank, then the configuration file in /api/config/mailer.js will be used.")),g("div",{className:"form-group"},void 0,g("label",{className:"form-group-label",htmlFor:"collectionContactEmail"},void 0,Object(y.t)("System","Contact email")),g(b.Control.text,{model:".contactEmail",className:"form-control"})),g("div",{className:"form-group"},void 0,g("label",{className:"form-group-label",htmlFor:"collectionPublicFormDestination"},void 0,Object(y.t)("System","Public Form destination")),g(b.Control.text,{id:"collectionPublicFormDestination",model:".publicFormDestination",className:"form-control"})),g("div",{className:"alert alert-info"},void 0,g("div",{className:"force-ltr"},void 0,"You can configure the URL of a different Uwazi to receive the submits from your Public Form")),g("div",{className:"form-group"},void 0,g("label",{className:"form-group-label",htmlFor:"collectionAllowedPublicTemplates"},void 0,Object(y.t)("System","Allowed Public Templates")),g(b.Control.text,{id:"collectionAllowedPublicTemplates",model:".allowedPublicTemplatesString",className:"form-control"})),g("div",{className:"alert alert-info"},void 0,g("div",{className:"force-ltr"},void 0,"If you wish to include Public Forms on your pages, you must white-list the template IDs for which Public Forms are expected. Please include a comma-separated list of tempate IDs without spaces. For example:",g("br",{}),"5d5b0698e28d130bc98efc8b,5d5d876aa77a121bf9cdd1ff")),g("span",{className:"form-group-label"},void 0,Object(y.t)("System","Show Cookie policy")),g("div",{className:"checkbox"},void 0,g("label",{},void 0,g(b.Control.checkbox,{model:".cookiepolicy",type:"checkbox"}),g(y.Translate,{},void 0,"This option will show a notification about the use of cookies in your instance.")))),g("h2",{},void 0,Object(y.t)("System","Advanced customizations")),g("div",{},void 0,g(d.Link,{to:"/settings/customisation",href:"/settings/customisation",className:"btn btn-default"},void 0,Object(y.t)("System","Custom Styles"))," ",g(d.Link,{to:"/settings/custom-uploads",href:"/settings/custom-uploads",className:"btn btn-default"},void 0,Object(y.t)("System","Custom Uploads"))),g("div",{className:"settings-footer"},void 0,g("button",{type:"submit",form:"collectionSettingsForm",className:"btn btn-success"},void 0,g(v.Icon,{icon:"save"}),g("span",{className:"btn-label"},void 0,Object(y.t)("System","Save"))))))}}function S(e){return{settings:e.settings.collection.toJS()}}t.default=Object(r.connect)(S,function(e){return Object(a.bindActionCreators)({setSettings:p.actions.set.bind(null,"settings/collection"),notify:f.notificationActions.notify},e)})(j)},"./app/react/Settings/components/CustomUploads.js":
/*!********************************************************!*\
  !*** ./app/react/Settings/components/CustomUploads.js ***!
  \********************************************************/
/*! exports provided: CustomUploads, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"CustomUploads",function(){return g}),n.d(t,"mapStateToProps",function(){return j});var o,s=n(/*! redux */"./node_modules/redux/es/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! react-dropzone */"./node_modules/react-dropzone/dist/es/index.js"),i=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),l=n.n(i),c=n(/*! prop-types */"./node_modules/prop-types/index.js"),d=n.n(c),u=(n(/*! react */"./node_modules/react/index.js"),n(/*! ../../Layout */"./app/react/Layout/index.js")),p=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),m=n(/*! ../../I18N */"./app/react/I18N/index.js"),f=n(/*! ../../App/RouteHandler */"./app/react/App/RouteHandler.js"),h=n(/*! ../../utils/api */"./app/react/utils/api.js"),y=n(/*! ../../UI */"./app/react/UI/index.js"),v=n(/*! ../../Uploads/actions/uploadsActions */"./app/react/Uploads/actions/uploadsActions.js");function b(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class g extends f.default{static async requestState(e){const t=await h.default.get("customisation/upload",e);return[p.actions.set("customUploads",t.json)]}constructor(e,t){super(e,t),this.onDrop=this.onDrop.bind(this)}onDrop(e){e.forEach(e=>{this.props.upload(e)})}render(){return b("div",{className:"panel panel-default"},void 0,b("div",{className:"panel-heading"},void 0,Object(m.t)("System","Custom Uploads")),b("div",{className:"panel-body custom-uploads"},void 0,b(a.default,{className:"upload-box",onDrop:this.onDrop},void 0,b("div",{className:"upload-box_wrapper"},void 0,b(y.Icon,{icon:"upload"}),b("button",{className:"upload-box_link",type:"button"},void 0,"Browse files to upload"),b("span",{},void 0," or drop your files here.")),this.props.progress&&b("div",{className:"uploading"},void 0,b(y.Icon,{icon:"spinner",spin:!0})," Uploading ...")),b("ul",{},void 0,this.props.customUploads.map(e=>b("li",{},e.get("filename"),b(u.Thumbnail,{file:`/assets/${e.get("filename")}`}),b("div",{className:"info"},void 0,"URL:",b("br",{}),b("span",{className:"thumbnail-url"},void 0,`/assets/${e.get("filename")}`),b(u.ConfirmButton,{action:()=>this.props.deleteCustomUpload(e.get("_id"))},void 0,"Delete")))))))}}g.defaultProps={progress:!1},g.propTypes={progress:d.a.bool,customUploads:d.a.instanceOf(l.a.List).isRequired,upload:d.a.func.isRequired,deleteCustomUpload:d.a.func.isRequired};const j=({customUploads:e,progress:t})=>({customUploads:e,progress:!!t.filter((e,t)=>t.match(/customUpload/)).size});t.default=Object(r.connect)(j,e=>Object(s.bindActionCreators)({upload:v.uploadCustom,deleteCustomUpload:v.deleteCustomUpload},e))(g)},"./app/react/Settings/components/Customisation.js":
/*!********************************************************!*\
  !*** ./app/react/Settings/components/Customisation.js ***!
  \********************************************************/
/*! exports provided: Customisation, default */function(e,t,n){"use strict";n.r(t),n.d(t,"Customisation",function(){return p});var o,s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! redux */"./node_modules/redux/es/index.js"),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=(n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),l=n(/*! ../../UI */"./app/react/UI/index.js"),c=n(/*! ../../I18N */"./app/react/I18N/index.js"),d=n(/*! ../actions/settingsActions */"./app/react/Settings/actions/settingsActions.js");function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class p extends i.Component{componentDidMount(){this.props.loadForm("settings.settings",{customCSS:this.props.settings.get("customCSS")})}render(){return u("div",{className:"panel panel-default settings-custom-css"},void 0,u("div",{className:"panel-heading"},void 0,Object(c.t)("System","Custom styles")),u("div",{className:"panel-body"},void 0,u(s.Form,{model:"settings.settings",onSubmit:this.props.saveSettings},void 0,u(s.Field,{model:".customCSS"},void 0,u("label",{className:"form-group-label",htmlFor:"custom_css"},void 0,Object(c.t)("System","Custom CSS"),u("textarea",{className:"form-control",id:"custom_css"}))),u("div",{className:"settings-footer"},void 0,u("button",{type:"submit",className:"btn btn-success"},void 0,u(l.Icon,{icon:"save"}),u("span",{className:"btn-label"},void 0,Object(c.t)("System","Update")))))))}}t.default=Object(a.connect)(e=>({settings:e.settings.collection}),e=>Object(r.bindActionCreators)({loadForm:s.actions.load,saveSettings:d.default},e))(p)},"./app/react/Settings/components/EntityTypesList.js":
/*!**********************************************************!*\
  !*** ./app/react/Settings/components/EntityTypesList.js ***!
  \**********************************************************/
/*! exports provided: EntityTypesList, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"EntityTypesList",function(){return b}),n.d(t,"mapStateToProps",function(){return g});var o,s=n(/*! prop-types */"./node_modules/prop-types/index.js"),r=n.n(s),a=n(/*! react */"./node_modules/react/index.js"),i=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),l=n(/*! redux */"./node_modules/redux/es/index.js"),c=n(/*! react-router */"./node_modules/react-router/es/index.js"),d=n(/*! ../../Templates/actions/templatesActions */"./app/react/Templates/actions/templatesActions.js"),u=n(/*! ../../I18N */"./app/react/I18N/index.js"),p=n(/*! ../../UI */"./app/react/UI/index.js"),m=n(/*! ../../Notifications */"./app/react/Notifications/index.js"),f=n(/*! ../../Layout/Tip */"./app/react/Layout/Tip.js");function h(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class b extends a.Component{setAsDefaultButton(e){return v("button",{onClick:this.props.setAsDefault.bind(null,e),className:"btn btn-success btn-xs"},void 0,v("span",{},void 0,Object(u.t)("System","Set as default")))}deleteTemplate(e){return this.props.checkTemplateCanBeDeleted(e).then(()=>{this.context.confirm({accept:()=>{this.props.deleteTemplate(e)},title:`Confirm delete document type: ${e.name}`,message:"Are you sure you want to delete this document type?\n        This will delete the template and all relationship properties from other templates pointing to this one."})}).catch(()=>{this.context.confirm({accept:()=>{},noCancel:!0,title:`Can not delete document type: ${e.name}`,message:"This document type has associated documents"})})}defaultTemplateMessage(){return v("span",{},void 0,Object(u.t)("System","Default template"),v(f.default,{},void 0,"This template will be used as default for new entities."))}deleteTemplateButton(e){return v("button",{onClick:this.deleteTemplate.bind(this,e),className:"btn btn-danger btn-xs template-remove"},void 0,v(p.Icon,{icon:"trash-alt"})," ",v("span",{},void 0,Object(u.t)("System","Delete")))}render(){return v("div",{className:"panel panel-default"},void 0,v("div",{className:"panel-heading"},void 0,Object(u.t)("System","Templates")),v("ul",{className:"list-group document-types"},void 0,this.props.templates.toJS().map((e,t)=>v("li",{className:"list-group-item"},t,v(c.Link,{to:`/settings/templates/edit/${e._id}`},void 0,e.name),e.default?this.defaultTemplateMessage():"",v("div",{className:"list-group-item-actions"},void 0,e.default?"":this.setAsDefaultButton(e),v(c.Link,{to:`/settings/templates/edit/${e._id}`,className:"btn btn-default btn-xs"},void 0,v(p.Icon,{icon:"pencil-alt"})," ",v("span",{},void 0,Object(u.t)("System","Edit"))),e.default?"":this.deleteTemplateButton(e))))),v("div",{className:"settings-footer"},void 0,v(c.Link,{to:"/settings/templates/new",className:"btn btn-success"},void 0,v(p.Icon,{icon:"plus"}),v("span",{className:"btn-label"},void 0,Object(u.t)("System","Add template")))))}}function g(e){return{templates:e.templates}}b.contextTypes={confirm:r.a.func},t.default=Object(i.connect)(g,function(e){return Object(l.bindActionCreators)(function(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};h(n,!0).forEach(function(t){y(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):h(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}({},m.notificationActions,{deleteTemplate:d.deleteTemplate,checkTemplateCanBeDeleted:d.checkTemplateCanBeDeleted,setAsDefault:d.setAsDefault}),e)})(b)},"./app/react/Settings/components/FiltersForm.js":
/*!******************************************************!*\
  !*** ./app/react/Settings/components/FiltersForm.js ***!
  \******************************************************/
/*! exports provided: FiltersForm, default */function(e,t,n){"use strict";n.r(t),n.d(t,"FiltersForm",function(){return j});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=(n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js")),l=n(/*! ../../Layout/DragAndDrop */"./app/react/Layout/DragAndDrop/index.js"),c=n(/*! ../../../shared/uniqueID */"./app/shared/uniqueID.js"),d=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),u=n(/*! ../SettingsAPI */"./app/react/Settings/SettingsAPI.js"),p=n(/*! ../../Notifications/actions/notificationsActions */"./app/react/Notifications/actions/notificationsActions.js"),m=n(/*! ../../I18N */"./app/react/I18N/index.js"),f=n(/*! ../../UI */"./app/react/UI/index.js");function h(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function v(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};y(n,!0).forEach(function(t){b(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):y(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=e=>{const t=n=>n.filter(t=>t.id!==e).map(e=>{const n=v({},e);return n.items&&(n.items=t(n.items)),n});return t};class j extends s.Component{constructor(e){super(e);const t=e.settings.collection.toJS().filters||[],n=e.templates.toJS().filter(e=>!t.find(t=>{const n=t.id===e._id;let o=!1;return t.items&&(o=t.items.find(t=>t.id===e._id)),n||o})).map(e=>({id:e._id,name:e.name}));this.state={activeFilters:t,inactiveFilters:n},this.activesChange=this.activesChange.bind(this),this.unactivesChange=this.unactivesChange.bind(this),this.renderActiveItems=this.renderActiveItems.bind(this),this.renderInactiveItems=this.renderInactiveItems.bind(this)}activesChange(e){e.forEach(t=>{t.items&&(t.items=t.items.filter(t=>!t.items||(e.push(t),!1)))}),this.setState({activeFilters:e})}unactivesChange(e){this.setState({inactiveFilters:e})}sanitizeFilterForSave(e){const t=v({},e);return delete t.container,delete t.index,t.items&&(t.items=t.items.map(e=>this.sanitizeFilterForSave(e))),t}save(){const{activeFilters:e}=this.state,{settings:t,notify:n,setSettings:o}=this.props,s=t.collection.toJS(),r=e.map(e=>this.sanitizeFilterForSave(e));s.filters=r,u.default.save(new i.RequestParams(s)).then(e=>{n(Object(m.t)("System","Settings updated",null,!1),"success"),o(Object.assign(s,e))})}addGroup(){const{activeFilters:e}=this.state,t={id:Object(c.default)(),name:"New group",items:[]};this.setState({activeFilters:e.concat([t])})}removeGroup(e){const{activeFilters:t}=this.state,n=t.filter(t=>t.id!==e.id);this.setState({activeFilters:n})}removeItem(e){const{activeFilters:t,inactiveFilters:n}=this.state,o=g(e.id)(t);this.setState({activeFilters:o,inactiveFilters:n.concat([e])})}renderGroup(e){return h("div",{},void 0,h("div",{className:"input-group"},void 0,h("input",{type:"text",className:"form-control",value:e.name,onChange:(t=>{const n=t.target.value;e.name=n,this.setState(this.state)}).bind(this)}),h("span",{className:"input-group-btn"},void 0,h("button",{type:"button",className:"btn btn-danger",onClick:this.removeGroup.bind(this,e),disabled:e.items.length},void 0,h(f.Icon,{icon:"trash-alt"})))),h(l.DragAndDropContainer,{id:e.id,onChange:(t=>{e.items=t,this.setState(this.state)}).bind(this),renderItem:this.renderActiveItems,items:e.items}))}renderActiveItems(e){return e.items?this.renderGroup(e):h("div",{},void 0,h("span",{},void 0,e.name),h("button",{type:"button",className:"btn btn-xs btn-danger",onClick:this.removeItem.bind(this,e)},void 0,h(f.Icon,{icon:"trash-alt"})))}renderInactiveItems(e){return e.items?this.renderGroup(e):h("div",{},void 0,h("span",{},void 0,e.name))}render(){const{activeFilters:e,inactiveFilters:t}=this.state;return h("div",{className:"FiltersForm"},void 0,h("div",{className:"FiltersForm-list"},void 0,h("div",{className:"panel panel-default"},void 0,h("div",{className:"panel-heading"},void 0,Object(m.t)("System","Filters configuration")),h("div",{className:"panel-body"},void 0,h("div",{className:"row"},void 0,h("div",{className:"col-sm-9"},void 0,h("div",{className:"alert alert-info"},void 0,h(f.Icon,{icon:"info-circle",size:"2x"}),h("div",{className:"force-ltr"},void 0,h("p",{},void 0,"By default, users can filter the documents or entities in the library based on the types of documents/entities you have defined. However, you can configure how these document/entity types will be displayed:"),h("ul",{},void 0,h("li",{},void 0,"drag and drop each document/entity type into the window in order to configure their order"),h("li",{},void 0,"select &quote;Create group&quote; below to group filters under a label (e.g. &quote;Documents&quote; or &quote;People&quote;)")))),h(l.DragAndDropContainer,{id:"active",onChange:this.activesChange,renderItem:this.renderActiveItems,items:e})),h("div",{className:"col-sm-3"},void 0,h("div",{className:"FiltersForm-constructor"},void 0,h("div",{},void 0,h("i",{},void 0,Object(m.t)("System","Document and entity types"))),h(l.DragAndDropContainer,{id:"inactive",onChange:this.unactivesChange,renderItem:this.renderInactiveItems,items:t}))))))),h("div",{className:"settings-footer"},void 0,h("button",{type:"button",onClick:this.addGroup.bind(this),className:"btn btn-sm btn-primary"},void 0,h(f.Icon,{icon:"plus"}),h("span",{className:"btn-label"},void 0,Object(m.t)("System","Create group"))),h("button",{type:"button",onClick:this.save.bind(this),className:"btn btn-sm btn-success"},void 0,h(f.Icon,{icon:"save"}),h("span",{className:"btn-label"},void 0,Object(m.t)("System","Save")))))}}t.default=Object(r.connect)(e=>({templates:e.templates,settings:e.settings}),function(e){return Object(a.bindActionCreators)({setSettings:d.actions.set.bind(null,"settings/collection"),notify:p.notify},e)})(j)},"./app/react/Settings/components/Languages.js":
/*!****************************************************!*\
  !*** ./app/react/Settings/components/Languages.js ***!
  \****************************************************/
/*! exports provided: Languages, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"Languages",function(){return h}),n.d(t,"mapStateToProps",function(){return y});var o,s=n(/*! prop-types */"./node_modules/prop-types/index.js"),r=n.n(s),a=n(/*! react */"./node_modules/react/index.js"),i=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),l=n(/*! redux */"./node_modules/redux/es/index.js"),c=n(/*! ../../I18N */"./app/react/I18N/index.js"),d=n(/*! ../../UI */"./app/react/UI/index.js"),u=n(/*! ../../../shared/languagesList */"./app/shared/languagesList.ts"),p=n(/*! ../../Layout/Warning */"./app/react/Layout/Warning.js"),m=n(/*! ../../Layout/Tip */"./app/react/Layout/Tip.js");function f(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class h extends a.Component{static defaultLanguage(){return f("span",{},void 0,Object(c.t)("System","Default language"),f(m.default,{},void 0,"This language will be used as default translation when adding new languages, and the default language for the site when no other language has been selected."))}static notSupportedLanguage(){return f(p.default,{},void 0,"Some adavanced search features may not be available for this language.")}constructor(e){super(e),this.state={languageToDelete:{},languageToAdd:{}}}setAsDeafultButton(e){return f("button",{type:"button",onClick:this.setDefault.bind(this,e),className:"btn btn-success btn-xs template-remove"},void 0,f(d.Icon,{prefix:"far",icon:"star"})," ",f("span",{},void 0,Object(c.t)("System","Set as default")))}deleteButton(e){return f("button",{disabled:e.key===this.props.locale,className:"btn btn-danger btn-xs template-remove",onClick:this.deleteLanguage.bind(this,e),type:"button"},void 0,f(d.Icon,{icon:"trash-alt"})," ",f("span",{},void 0,Object(c.t)("System","Delete language")))}setDefault(e){this.props.setDefaultLanguage(e.key)}deleteLanguage(e){this.context.confirm({accept:()=>this.props.deleteLanguage(e.key),title:`Confirm delete ${e.label}`,message:`Are you sure you want to delete ${e.label} language?\n      This action may take some time, can not be undone and will delete all the information in that language.`,extraConfirm:!0})}addLanguage(e){this.context.confirm({accept:()=>this.props.addLanguage(e),title:`Confirm add ${e.label}`,message:"This action may take some time while we add the extra language to the entire collection.",extraConfirm:!0,type:"success"})}render(){const e=this.props.languages.toJS(),t=e.map(e=>e.key),n=Object.keys(u.languages).map(e=>u.languages[e].ISO639_1),o=u.allLanguages.filter(e=>!t.includes(e.key));return f("div",{className:"panel panel-default"},void 0,f("div",{className:"panel-heading"},void 0,Object(c.t)("System","Active Languages")),f("ul",{className:"list-group document-types"},void 0,e.map((e,t)=>f("li",{className:"list-group-item"},t,f("span",{className:"force-ltr"},void 0,`${e.label} (${e.key})`),e.default?h.defaultLanguage():"",f("div",{className:"list-group-item-actions"},void 0,e.default?"":this.setAsDeafultButton(e),e.default?"":this.deleteButton(e))))),f("div",{className:"panel-heading"},void 0,Object(c.t)("System","Available Languages")),f("ul",{className:"list-group document-types"},void 0,o.map((e,t)=>{const o=!n.includes(e.key);return f("li",{className:"list-group-item"},t,f("span",{className:"force-ltr"},void 0,`${e.label} (${e.key}) `,o?h.notSupportedLanguage():""),f("div",{className:"list-group-item-actions"},void 0," ",f("button",{type:"button",onClick:this.addLanguage.bind(this,e),className:"btn btn-success btn-xs template-remove"},void 0,f(d.Icon,{icon:"plus"})," ",f("span",{},void 0,Object(c.t)("System","Add language")))))})))}}function y(e){const{settings:t,locale:n}=e;return{languages:t.collection.get("languages"),locale:n}}h.contextTypes={confirm:r.a.func},t.default=Object(i.connect)(y,function(e){return Object(l.bindActionCreators)({addLanguage:c.actions.addLanguage,deleteLanguage:c.actions.deleteLanguage,setDefaultLanguage:c.actions.setDefaultLanguage},e)})(h)},"./app/react/Settings/components/NavlinkForm.js":
/*!******************************************************!*\
  !*** ./app/react/Settings/components/NavlinkForm.js ***!
  \******************************************************/
/*! exports provided: LinkSource, LinkTarget, NavlinkForm, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"LinkSource",function(){return h}),n.d(t,"LinkTarget",function(){return y}),n.d(t,"NavlinkForm",function(){return v}),n.d(t,"mapStateToProps",function(){return j});var o,s=n(/*! react-dnd */"./node_modules/react-dnd/lib/index.js"),r=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),l=n(/*! react-dom */"./node_modules/react-dom/index.js"),c=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),d=n(/*! ../actions/uiActions */"./app/react/Settings/actions/uiActions.js"),u=n(/*! ../actions/navlinksActions */"./app/react/Settings/actions/navlinksActions.js"),p=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),m=n(/*! ../../UI */"./app/react/UI/index.js");function f(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const h={beginDrag:e=>({id:e.localID,index:e.index})},y={hover(e,t,n){const o=t.getItem().index,s=e.index;if(o===s)return;const r=Object(l.findDOMNode)(n).getBoundingClientRect(),a=(r.bottom-r.top)/2,i=t.getClientOffset().y-r.top;o<s&&i<a||o>s&&i>a||(e.sortLink(o,s),t.getItem().index=s)}};class v extends c.Component{render(){const{link:e,index:t,isDragging:n,connectDragPreview:o,connectDragSource:s,connectDropTarget:a,formState:i,uiState:l}=this.props;let c=`list-group-item${n?" dragging":""}`,d="input-group";return i.$form.errors[`links.${t}.title.required`]&&(c+=" error",d+=" has-error"),o(a(f("li",{className:c},void 0,f("div",{},void 0,s(f("span",{className:"property-name"},void 0,f(m.Icon,{icon:"bars",className:"reorder"})," ",f(m.Icon,{icon:"link"}),"  ",e.title&&e.title.trim().length?e.title:f("em",{},void 0,"no title")))),f("div",{},void 0,f("button",{type:"button",className:"btn btn-default btn-xs property-edit",onClick:()=>this.props.editLink(e.localID)},void 0,f(m.Icon,{icon:"pencil-alt"})," Edit"),f("button",{type:"button",className:"btn btn-danger btn-xs property-remove",onClick:()=>this.props.removeLink(t)},void 0,f(m.Icon,{icon:"trash-alt"})," Delete")),f(p.default,{if:l.get("editingLink")===e.localID},void 0,f("div",{className:"propery-form expand"},void 0,f("div",{},void 0,f("div",{className:"row"},void 0,f("div",{className:"col-sm-4"},void 0,f("div",{className:d},void 0,f("span",{className:"input-group-addon"},void 0,"Title"),f(r.Field,{model:`settings.navlinksData.links[${t}].title`},void 0,f("input",{className:"form-control"})))),f("div",{className:"col-sm-8"},void 0,f("div",{className:"input-group"},void 0,f("span",{className:"input-group-addon"},void 0,"URL"),f(r.Field,{model:`settings.navlinksData.links[${t}].url`},void 0,f("input",{className:"form-control"})))))))))))}}const b=Object(s.DropTarget)("LINK",y,e=>({connectDropTarget:e.dropTarget()}))(v),g=Object(s.DragSource)("LINK",h,(e,t)=>({connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}))(b);function j({settings:e}){return{formState:e.navlinksFormState,uiState:e.uiState}}t.default=Object(i.connect)(j,function(e){return Object(a.bindActionCreators)({editLink:d.editLink,removeLink:u.removeLink},e)})(g)},"./app/react/Settings/components/NavlinksSettings.js":
/*!***********************************************************!*\
  !*** ./app/react/Settings/components/NavlinksSettings.js ***!
  \***********************************************************/
/*! exports provided: NavlinksSettings, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"NavlinksSettings",function(){return b}),n.d(t,"mapStateToProps",function(){return g});var o,s=n(/*! react-dnd */"./node_modules/react-dnd/lib/index.js"),r=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),l=n(/*! react-dnd-html5-backend */"./node_modules/react-dnd-html5-backend/lib/index.js"),c=n.n(l),d=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),u=n(/*! ../../UI */"./app/react/UI/index.js"),p=n(/*! ../../utils */"./app/react/utils/index.js"),m=n(/*! ../actions/navlinksActions */"./app/react/Settings/actions/navlinksActions.js"),f=n(/*! ../../I18N */"./app/react/I18N/index.js"),h=n(/*! ../utils/ValidateNavlinks */"./app/react/Settings/utils/ValidateNavlinks.js"),y=n(/*! ./NavlinkForm */"./app/react/Settings/components/NavlinkForm.js");function v(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class b extends d.Component{componentWillMount(){this.props.loadLinks(this.props.collection.get("links").toJS())}render(){const{collection:e,links:t}=this.props,n=p.isClient?window.location.origin:"",o={_id:e.get("_id"),_rev:e.get("_rev"),links:t};return v("div",{className:"NavlinksSettings"},void 0,v(r.Form,{model:"settings.navlinksData",onSubmit:this.props.saveLinks.bind(this,o),className:"navLinks",validators:Object(h.default)(t)},void 0,v("div",{className:"panel panel-default"},void 0,v("div",{className:"panel-heading"},void 0,v("div",{className:"template-name"},void 0,Object(f.t)("System","Menu"))),v("ul",{className:"list-group"},void 0,v("li",{className:"list-group-item"},void 0,v("div",{className:"alert alert-info"},void 0,v(u.Icon,{icon:"info-circle",size:"2x"}),v("div",{className:"force-ltr"},void 0,"If it is an external URL, use a fully formed URL. Ie. http://www.uwazi.io.",v("br",{}),"If it is an internal URL within this website, be sure to delete the first part (",n,"), leaving only a relative URL starting with a slash character. Ie. /some_url."))),t.map((e,t)=>v(y.default,{index:t,id:e.localID||e._id,link:e,sortLink:this.props.sortLink},e.localID||e._id))),v("div",{className:"settings-footer"},void 0,v("a",{className:"btn btn-primary",onClick:this.props.addLink.bind(this,t)},void 0,v(u.Icon,{icon:"plus"}),v("span",{className:"btn-label"},void 0,Object(f.t)("System","Add link"))),v("button",{type:"submit",className:"btn btn-success",disabled:!!this.props.savingNavlinks},void 0,v(u.Icon,{icon:"save"}),v("span",{className:"btn-label"},void 0,Object(f.t)("System","Save")))))))}}const g=e=>{const{settings:t}=e,{collection:n}=t,{links:o}=t.navlinksData;return{links:o,collection:n,savingNavlinks:t.uiState.get("savingNavlinks")}};t.default=Object(s.DragDropContext)(c.a)(Object(i.connect)(g,function(e){return Object(a.bindActionCreators)({loadLinks:m.loadLinks,addLink:m.addLink,sortLink:m.sortLink,saveLinks:m.saveLinks},e)})(b))},"./app/react/Settings/components/RelationTypesList.js":
/*!************************************************************!*\
  !*** ./app/react/Settings/components/RelationTypesList.js ***!
  \************************************************************/
/*! exports provided: RelationTypesList, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"RelationTypesList",function(){return f}),n.d(t,"mapStateToProps",function(){return h});var o,s=n(/*! prop-types */"./node_modules/prop-types/index.js"),r=n.n(s),a=n(/*! react */"./node_modules/react/index.js"),i=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),l=n(/*! redux */"./node_modules/redux/es/index.js"),c=n(/*! ../../I18N */"./app/react/I18N/index.js"),d=n(/*! ../../RelationTypes/actions/relationTypesActions */"./app/react/RelationTypes/actions/relationTypesActions.js"),u=n(/*! ../../UI */"./app/react/UI/index.js"),p=n(/*! ../../Notifications/actions/notificationsActions */"./app/react/Notifications/actions/notificationsActions.js");function m(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class f extends a.Component{deleteRelationType(e){return this.props.checkRelationTypeCanBeDeleted(e).then(()=>{this.context.confirm({accept:()=>{this.props.deleteRelationType(e)},title:`Confirm delete connection type: ${e.name}`,message:"Are you sure you want to delete this connection type?"})}).catch(()=>{this.context.confirm({accept:()=>{},noCancel:!0,title:`Cannot delete connection type: ${e.name}`,message:"This connection type is being used and cannot be deleted."})})}render(){return m("div",{className:"panel panel-default"},void 0,m("div",{className:"panel-heading"},void 0,Object(c.t)("System","Connections")),m("ul",{className:"list-group relation-types"},void 0,this.props.relationTypes.toJS().map((e,t)=>m("li",{className:"list-group-item"},t,m(c.I18NLink,{to:`/settings/connections/edit/${e._id}`},void 0,e.name),m("div",{className:"list-group-item-actions"},void 0,m(c.I18NLink,{to:`/settings/connections/edit/${e._id}`,className:"btn btn-default btn-xs"},void 0,m(u.Icon,{icon:"pencil-alt"})," ",m("span",{},void 0,Object(c.t)("System","Edit"))),m("a",{onClick:this.deleteRelationType.bind(this,e),className:"btn btn-danger btn-xs template-remove"},void 0,m(u.Icon,{icon:"trash-alt"})," ",m("span",{},void 0,Object(c.t)("System","Delete"))))))),m("div",{className:"settings-footer"},void 0,m(c.I18NLink,{to:"/settings/connections/new",className:"btn btn-success"},void 0,m(u.Icon,{icon:"plus"}),m("span",{className:"btn-label"},void 0,Object(c.t)("System","Add connection")))))}}function h(e){return{relationTypes:e.relationTypes}}f.contextTypes={confirm:r.a.func},t.default=Object(i.connect)(h,function(e){return Object(l.bindActionCreators)({notify:p.notify,deleteRelationType:d.deleteRelationType,checkRelationTypeCanBeDeleted:d.checkRelationTypeCanBeDeleted},e)})(f)},"./app/react/Settings/components/SettingsNavigation.js":
/*!*************************************************************!*\
  !*** ./app/react/Settings/components/SettingsNavigation.js ***!
  \*************************************************************/
/*! exports provided: SettingsNavigation, default */function(e,t,n){"use strict";n.r(t),n.d(t,"SettingsNavigation",function(){return l});var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! ../../I18N */"./app/react/I18N/index.js"),a=n(/*! ../../Auth */"./app/react/Auth/index.js");function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class l extends s.Component{render(){return i("div",{},void 0,i("div",{className:"panel panel-default"},void 0,i("div",{className:"panel-heading"},void 0,Object(r.t)("System","Settings")),i("div",{className:"list-group"},void 0,i(r.I18NLink,{to:"settings/account",activeClassName:"active",className:"list-group-item"},void 0,Object(r.t)("System","Account")),i(a.NeedAuthorization,{},void 0,i(r.I18NLink,{to:"settings/users",activeClassName:"active",className:"list-group-item"},void 0,Object(r.t)("System","Users"))),i(a.NeedAuthorization,{},void 0,i(r.I18NLink,{to:"settings/collection",activeClassName:"active",className:"list-group-item"},void 0,Object(r.t)("System","Collection"))),i(a.NeedAuthorization,{},void 0,i(r.I18NLink,{to:"settings/navlinks",activeClassName:"active",className:"list-group-item"},void 0,Object(r.t)("System","Menu"))),i(a.NeedAuthorization,{},void 0,i(r.I18NLink,{to:"settings/pages",activeClassName:"active",className:"list-group-item"},void 0,Object(r.t)("System","Pages"))),i(a.NeedAuthorization,{},void 0,i(r.I18NLink,{to:"settings/languages",activeClassName:"active",className:"list-group-item"},void 0,Object(r.t)("System","Languages"))),i(a.NeedAuthorization,{},void 0,i(r.I18NLink,{to:"settings/translations",activeClassName:"active",className:"list-group-item"},void 0,Object(r.t)("System","Translations"))),i(a.NeedAuthorization,{},void 0,i(r.I18NLink,{to:"settings/filters",activeClassName:"active",className:"list-group-item"},void 0,Object(r.t)("System","Filters configuration"))))),i(a.NeedAuthorization,{},void 0,i("div",{className:"panel panel-default"},void 0,i("div",{className:"panel-heading"},void 0,Object(r.t)("System","Metadata")),i("div",{className:"list-group"},void 0,i(r.I18NLink,{to:"settings/templates",activeClassName:"active",className:"list-group-item"},void 0,Object(r.t)("System","Templates")),i(r.I18NLink,{to:"settings/dictionaries",activeClassName:"active",className:"list-group-item"},void 0,Object(r.t)("System","Thesauri")),i(r.I18NLink,{to:"settings/connections",activeClassName:"active",className:"list-group-item"},void 0,Object(r.t)("System","Relationship types"))))),i(a.NeedAuthorization,{roles:["admin"]},void 0,i("div",{className:"panel panel-default"},void 0,i("div",{className:"panel-heading"},void 0,Object(r.t)("System","Tools")),i("div",{className:"list-group"},void 0,i(r.I18NLink,{to:"settings/activitylog",activeClassName:"active",className:"list-group-item"},void 0,Object(r.t)("System","Activity log"))))))}}t.default=l},"./app/react/Settings/components/ThesaurisList.js":
/*!********************************************************!*\
  !*** ./app/react/Settings/components/ThesaurisList.js ***!
  \********************************************************/
/*! exports provided: ThesaurisList, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ThesaurisList",function(){return h}),n.d(t,"mapStateToProps",function(){return y});var o,s=n(/*! prop-types */"./node_modules/prop-types/index.js"),r=n.n(s),a=n(/*! react */"./node_modules/react/index.js"),i=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),l=n(/*! redux */"./node_modules/redux/es/index.js"),c=n(/*! ../../I18N */"./app/react/I18N/index.js"),d=n(/*! ../../Thesauris/actions/thesaurisActions */"./app/react/Thesauris/actions/thesaurisActions.js"),u=n(/*! ../../UI */"./app/react/UI/index.js"),p=n(/*! ../../Notifications */"./app/react/Notifications/index.js"),m=n(/*! ../utils/sortThesauri */"./app/react/Settings/utils/sortThesauri.js");function f(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class h extends a.Component{deleteThesauri(e){return this.props.checkThesauriCanBeDeleted(e).then(()=>{this.context.confirm({accept:()=>{this.props.deleteThesauri(e)},title:`Confirm delete thesaurus: ${e.name}`,message:"Are you sure you want to delete this thesaurus?"})}).catch(()=>{this.context.confirm({accept:()=>{},noCancel:!0,title:`Cannot delete thesaurus: ${e.name}`,message:"This thesaurus is being used in document types and cannot be deleted."})})}render(){return f("div",{className:"panel panel-default"},void 0,f("div",{className:"panel-heading"},void 0,Object(c.t)("System","Thesauri")),f("ul",{className:"list-group"},void 0,Object(m.default)(this.props.dictionaries.toJS()).map((e,t)=>f("li",{className:"list-group-item"},t,f(c.I18NLink,{to:`/settings/dictionaries/edit/${e._id}`},void 0,e.name),f("div",{className:"list-group-item-actions"},void 0,f(c.I18NLink,{to:`/settings/dictionaries/edit/${e._id}`,className:"btn btn-default btn-xs"},void 0,f(u.Icon,{icon:"pencil-alt"})," ",f("span",{},void 0,Object(c.t)("System","Edit"))),f("a",{onClick:this.deleteThesauri.bind(this,e),className:"btn btn-danger btn-xs template-remove"},void 0,f(u.Icon,{icon:"trash-alt"})," ",f("span",{},void 0,Object(c.t)("System","Delete"))))))),f("div",{className:"settings-footer"},void 0,f(c.I18NLink,{to:"/settings/dictionaries/new",className:"btn btn-success"},void 0,f(u.Icon,{icon:"plus"}),f("span",{className:"btn-label"},void 0,Object(c.t)("System","Add thesaurus")))))}}function y(e){return{dictionaries:e.dictionaries}}h.contextTypes={confirm:r.a.func},t.default=Object(i.connect)(y,function(e){return Object(l.bindActionCreators)({notify:p.notificationActions.notify,deleteThesauri:d.deleteThesauri,checkThesauriCanBeDeleted:d.checkThesauriCanBeDeleted},e)})(h)},"./app/react/Settings/components/TranslationsList.js":
/*!***********************************************************!*\
  !*** ./app/react/Settings/components/TranslationsList.js ***!
  \***********************************************************/
/*! exports provided: TranslationsList, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"TranslationsList",function(){return p}),n.d(t,"mapStateToProps",function(){return m});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! ../../I18N */"./app/react/I18N/index.js"),l=n(/*! ../../utils/advancedSort */"./app/react/utils/advancedSort.js"),c=n(/*! ../../UI */"./app/react/UI/index.js"),d=n(/*! ../../Notifications/actions/notificationsActions */"./app/react/Notifications/actions/notificationsActions.js");function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class p extends s.Component{render(){const{settings:e,translations:t}=this.props,n=e.get("languages").find(e=>e.get("default")).get("key"),o=t.find(e=>e.get("locale")===n),s=Object(l.advancedSort)(o.get("contexts").toJS().map(e=>(e.sort=e.type+e.label,e)),{property:"sort"});return u("div",{className:"TranslationsList panel panel-default"},void 0,u("div",{className:"panel-heading"},void 0,Object(i.t)("System","Translations")),u("ul",{className:"list-group relation-types"},void 0,s.map((e,t)=>u("li",{className:"list-group-item"},t,u("div",{},void 0,u("span",{className:"item-type item-type-empty"},void 0,u("span",{className:"item-type__name"},void 0,e.type)),u(i.I18NLink,{to:`/settings/translations/edit/${encodeURIComponent(e.id)}`},void 0,e.label)),u("div",{className:"list-group-item-actions"},void 0,u(i.I18NLink,{to:`/settings/translations/edit/${encodeURIComponent(e.id)}`,className:"btn btn-default btn-xs"},void 0,u(c.Icon,{icon:"language"})," ",Object(i.t)("System","Translate")))))))}}function m(e){return{translations:e.translations,settings:e.settings.collection}}t.default=Object(r.connect)(m,function(e){return Object(a.bindActionCreators)({notify:d.notify},e)})(p)},"./app/react/Settings/index.js":
/*!*************************************!*\
  !*** ./app/react/Settings/index.js ***!
  \*************************************/
/*! exports provided: CustomUploads, Settings, SettingsAPI, AccountSettings, CollectionSettings, NavlinksSettings, EntityTypesList, RelationTypesList, ThesaurisList, TranslationsList, FiltersForm, Languages, Customisation */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./Settings */"./app/react/Settings/Settings.js");n.d(t,"Settings",function(){return o.default});var s=n(/*! ./SettingsAPI */"./app/react/Settings/SettingsAPI.js");n.d(t,"SettingsAPI",function(){return s.default});var r=n(/*! ./components/AccountSettings */"./app/react/Settings/components/AccountSettings.js");n.d(t,"AccountSettings",function(){return r.default});var a=n(/*! ./components/CollectionSettings */"./app/react/Settings/components/CollectionSettings.js");n.d(t,"CollectionSettings",function(){return a.default});var i=n(/*! ./components/NavlinksSettings */"./app/react/Settings/components/NavlinksSettings.js");n.d(t,"NavlinksSettings",function(){return i.default});var l=n(/*! ./components/EntityTypesList */"./app/react/Settings/components/EntityTypesList.js");n.d(t,"EntityTypesList",function(){return l.default});var c=n(/*! ./components/RelationTypesList */"./app/react/Settings/components/RelationTypesList.js");n.d(t,"RelationTypesList",function(){return c.default});var d=n(/*! ./components/ThesaurisList */"./app/react/Settings/components/ThesaurisList.js");n.d(t,"ThesaurisList",function(){return d.default});var u=n(/*! ./components/TranslationsList */"./app/react/Settings/components/TranslationsList.js");n.d(t,"TranslationsList",function(){return u.default});var p=n(/*! ./components/FiltersForm */"./app/react/Settings/components/FiltersForm.js");n.d(t,"FiltersForm",function(){return p.default});var m=n(/*! ./components/Languages */"./app/react/Settings/components/Languages.js");n.d(t,"Languages",function(){return m.default});var f=n(/*! ./components/Customisation */"./app/react/Settings/components/Customisation.js");n.d(t,"Customisation",function(){return f.default});var h=n(/*! ./components/CustomUploads */"./app/react/Settings/components/CustomUploads.js");n.d(t,"CustomUploads",function(){return h.default})},"./app/react/Settings/reducers/reducer.js":
/*!************************************************!*\
  !*** ./app/react/Settings/reducers/reducer.js ***!
  \************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! redux */"./node_modules/redux/es/index.js"),s=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),r=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),a=n(/*! ./uiReducer.js */"./app/react/Settings/reducers/uiReducer.js");t.default=Object(o.combineReducers)({collection:Object(s.default)("settings/collection",{}),navlinksData:Object(r.modelReducer)("settings.navlinksData",{links:[]}),navlinksFormState:Object(r.formReducer)("settings.navlinksData"),form:Object(r.modelReducer)("account.form",{username:"",password:""}),formState:Object(r.formReducer)("account.form"),settingForm:Object(r.formReducer)("settings.settings"),settings:Object(r.modelReducer)("settings.settings",{}),uiState:a.default})},"./app/react/Settings/reducers/uiReducer.js":
/*!**************************************************!*\
  !*** ./app/react/Settings/reducers/uiReducer.js ***!
  \**************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return a});var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n.n(o),r=n(/*! ../actions/actionTypes */"./app/react/Settings/actions/actionTypes.js");function a(e={},t={}){return t.type===r.EDIT_LINK?e.set("editingLink",t.id):t.type===r.SAVING_NAVLINKS?e.set("savingNavlinks",!0):t.type===r.NAVLINKS_SAVED?e.set("savingNavlinks",!1):s.a.fromJS(e)}},"./app/react/Settings/utils/ValidateNavlinks.js":
/*!******************************************************!*\
  !*** ./app/react/Settings/utils/ValidateNavlinks.js ***!
  \******************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),t.default=function(e){const t={"":{}};return e.forEach((e,n)=>{t[""][`links.${n}.title.required`]=(e=>{if(!e.links[n])return!0;const{title:t}=e.links[n];return Boolean(t&&String(t).trim().length)})}),t}},"./app/react/Settings/utils/sortThesauri.js":
/*!**************************************************!*\
  !*** ./app/react/Settings/utils/sortThesauri.js ***!
  \**************************************************/
/*! exports provided: default */function(e,t,n){"use strict";function o(e){return e.sort((e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase())),e}n.r(t),n.d(t,"default",function(){return o})},"./app/react/Templates/EditTemplate.js":
/*!*********************************************!*\
  !*** ./app/react/Templates/EditTemplate.js ***!
  \*********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return v});n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! ./TemplatesAPI */"./app/react/Templates/TemplatesAPI.js"),a=n(/*! ../Thesauris/ThesaurisAPI */"./app/react/Thesauris/ThesaurisAPI.js"),i=n(/*! ../RelationTypes/RelationTypesAPI */"./app/react/RelationTypes/RelationTypesAPI.js"),l=n(/*! ./components/TemplateCreator */"./app/react/Templates/components/TemplateCreator.js"),c=n(/*! ../BasicReducer */"./app/react/BasicReducer/index.js"),d=n(/*! ../App/RouteHandler */"./app/react/App/RouteHandler.js"),u=n(/*! ../../shared/uniqueID */"./app/shared/uniqueID.js"),p=n(/*! ./utils/templateCommonProperties */"./app/react/Templates/utils/templateCommonProperties.js");function m(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function f(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};m(n,!0).forEach(function(t){h(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):m(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y=e=>{const t=e.commonProperties&&e.commonProperties.length;return f({},e,{properties:e.properties.map(e=>f({},e,{localID:Object(u.default)()})),commonProperties:t?e.commonProperties:p.default.get()})};class v extends d.default{static async requestState(e){const{templateId:t}=e.data,[n,o,l]=await Promise.all([r.default.get(e.onlyHeaders()),a.default.get(e.onlyHeaders()),i.default.get(e.onlyHeaders())]),d=Object.assign({},n.find(e=>e._id===t));return[s.actions.load("template.data",y(d)),c.actions.set("thesauris",o),c.actions.set("templates",n),c.actions.set("relationTypes",l)]}componentDidMount(){this.context.store.dispatch(s.actions.reset("template.data"))}render(){return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{})}}},"./app/react/Templates/NewTemplate.js":
/*!********************************************!*\
  !*** ./app/react/Templates/NewTemplate.js ***!
  \********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return u});var o,s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=(n(/*! react */"./node_modules/react/index.js"),n(/*! ./TemplatesAPI */"./app/react/Templates/TemplatesAPI.js")),a=n(/*! ../Thesauris/ThesaurisAPI */"./app/react/Thesauris/ThesaurisAPI.js"),i=n(/*! ../RelationTypes/RelationTypesAPI */"./app/react/RelationTypes/RelationTypesAPI.js"),l=n(/*! ../BasicReducer */"./app/react/BasicReducer/index.js"),c=n(/*! ./components/TemplateCreator */"./app/react/Templates/components/TemplateCreator.js"),d=n(/*! ../App/RouteHandler */"./app/react/App/RouteHandler.js");class u extends d.default{static async requestState(e){const[t,n,o]=await Promise.all([a.default.get(e.onlyHeaders()),r.default.get(e.onlyHeaders()),i.default.get(e.onlyHeaders())]);return[s.actions.reset("template.data"),l.actions.set("thesauris",t),l.actions.set("templates",n),l.actions.set("relationTypes",o)]}render(){return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(c.default,{})}}},"./app/react/Templates/TemplatesAPI.js":
/*!*********************************************!*\
  !*** ./app/react/Templates/TemplatesAPI.js ***!
  \*********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ../utils/api */"./app/react/utils/api.js");t.default={get:e=>o.default.get("templates",e).then(e=>e.json.rows),save:e=>o.default.post("templates",e).then(e=>e.json),setAsDefault:e=>o.default.post("templates/setasdefault",e).then(e=>e.json),countByThesauri:e=>o.default.get("templates/count_by_thesauri",e).then(e=>e.json),delete:e=>o.default.delete("templates",e).then(e=>e.json)}},"./app/react/Templates/actions/actionTypes.js":
/*!****************************************************!*\
  !*** ./app/react/Templates/actions/actionTypes.js ***!
  \****************************************************/
/*! exports provided: ADD_PROPERTY, ADD_PLACEHOLDER, REMOVE_PROPERTY, REORDER_PROPERTY, UPDATE_PROPERTY, UPDATE_TEMPLATE, SELECT_PROPERTY, SET_TEMPLATES, TEMPLATE_SAVED, DELETE_TEMPLATE, SET_TEMPLATE, RESET_TEMPLATE, EDIT_PROPERTY, SET_THESAURIS, SHOW_REMOVE_PROPERTY_CONFIRM, HIDE_REMOVE_PROPERTY_CONFIRM, SAVING_TEMPLATE */function(e,t,n){"use strict";n.r(t),n.d(t,"ADD_PROPERTY",function(){return o}),n.d(t,"ADD_PLACEHOLDER",function(){return s}),n.d(t,"REMOVE_PROPERTY",function(){return r}),n.d(t,"REORDER_PROPERTY",function(){return a}),n.d(t,"UPDATE_PROPERTY",function(){return i}),n.d(t,"UPDATE_TEMPLATE",function(){return l}),n.d(t,"SELECT_PROPERTY",function(){return c}),n.d(t,"SET_TEMPLATES",function(){return d}),n.d(t,"TEMPLATE_SAVED",function(){return u}),n.d(t,"DELETE_TEMPLATE",function(){return p}),n.d(t,"SET_TEMPLATE",function(){return m}),n.d(t,"RESET_TEMPLATE",function(){return f}),n.d(t,"EDIT_PROPERTY",function(){return h}),n.d(t,"SET_THESAURIS",function(){return y}),n.d(t,"SHOW_REMOVE_PROPERTY_CONFIRM",function(){return v}),n.d(t,"HIDE_REMOVE_PROPERTY_CONFIRM",function(){return b}),n.d(t,"SAVING_TEMPLATE",function(){return g});const o="ADD_PROPERTY",s="ADD_PLACEHOLDER",r="REMOVE_PROPERTY",a="REORDER_PROPERTY",i="UPDATE_PROPERTY",l="UPDATE_TEMPLATE",c="SELECT_PROPERTY",d="SET_TEMPLATES",u="TEMPLATE_SAVED",p="DELETE_TEMPLATE",m="SET_TEMPLATE",f="RESET_TEMPLATE",h="EDIT_PROPERTY",y="SET_THESAURIS",v="SHOW_REMOVE_PROPERTY_CONFIRM",b="HIDE_REMOVE_PROPERTY_CONFIRM",g="SAVING_TEMPLATE"},"./app/react/Templates/actions/templateActions.js":
/*!********************************************************!*\
  !*** ./app/react/Templates/actions/templateActions.js ***!
  \********************************************************/
/*! exports provided: resetTemplate, addProperty, setNestedProperties, updateProperty, inserted, selectProperty, removeProperty, reorderProperty, saveTemplate */function(e,t,n){"use strict";n.r(t),n.d(t,"resetTemplate",function(){return p}),n.d(t,"addProperty",function(){return m}),n.d(t,"setNestedProperties",function(){return f}),n.d(t,"updateProperty",function(){return h}),n.d(t,"inserted",function(){return y}),n.d(t,"selectProperty",function(){return v}),n.d(t,"removeProperty",function(){return b}),n.d(t,"reorderProperty",function(){return g}),n.d(t,"saveTemplate",function(){return S});var o=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),s=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js"),r=n(/*! ./actionTypes */"./app/react/Templates/actions/actionTypes.js"),a=n(/*! ../../Notifications */"./app/react/Notifications/index.js"),i=n(/*! ../TemplatesAPI */"./app/react/Templates/TemplatesAPI.js"),l=n(/*! ../../../shared/uniqueID */"./app/shared/uniqueID.js"),c=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js");function d(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return e=>{e(o.actions.reset("template.data")),e(o.actions.setInitial("template.data"))}}function m(e={},t){return e.localID=Object(l.default)(),(n,s)=>{const r=s().template.data.properties.slice(0),a=void 0!==t?t:r.length;"select"!==e.type&&"multiselect"!==e.type||(e.content=s().thesauris.get(0).get("_id")),"relationship"===e.type&&(e.inherit=!1),"nested"===e.type&&(e.nestedProperties=[{key:"",label:""}]),r.splice(a,0,e),n(o.actions.change("template.data.properties",r))}}function f(e,t){return n=>{n(o.actions.load(`template.data.properties[${e}].nestedProperties`,t))}}function h(e,t){return(n,s)=>{const r=s().template.data.properties.slice(0);r.splice(t,1,e),n(o.actions.change("template.data.properties",r))}}function y(e){return t=>{t(o.actions.change(`template.data.properties[${e}].inserting`,null))}}function v(e){return{type:r.SELECT_PROPERTY,index:e}}function b(e){return t=>{t(o.actions.remove("template.data.properties",e)),t(o.actions.resetErrors("template.data"))}}function g(e,t){return n=>{n(o.actions.move("template.data.properties",e,t))}}const j=e=>(e.properties=e.properties.map(e=>{const t=function(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};d(n,!0).forEach(function(t){u(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):d(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}({},e);return t.inherit&&!t.content&&(t.inherit=!1),t}),e);function S(e){const t=j(e);return n=>(n({type:r.SAVING_TEMPLATE}),i.default.save(new s.RequestParams(t)).then(e=>{n({type:r.TEMPLATE_SAVED,data:e}),n(c.actions.update("templates",e)),n(o.actions.merge("template.data",e)),n(a.notificationActions.notify("Saved successfully.","success"))}).catch(()=>{n({type:r.TEMPLATE_SAVED,data:e})}))}},"./app/react/Templates/actions/templatesActions.js":
/*!*********************************************************!*\
  !*** ./app/react/Templates/actions/templatesActions.js ***!
  \*********************************************************/
/*! exports provided: deleteTemplate, checkTemplateCanBeDeleted, setAsDefault */function(e,t,n){"use strict";n.r(t),n.d(t,"deleteTemplate",function(){return i}),n.d(t,"checkTemplateCanBeDeleted",function(){return l}),n.d(t,"setAsDefault",function(){return c});var o=n(/*! ../TemplatesAPI */"./app/react/Templates/TemplatesAPI.js"),s=n(/*! ../../Documents/DocumentsAPI */"./app/react/Documents/DocumentsAPI.js"),r=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),a=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js");function i(e){return t=>o.default.delete(new a.RequestParams({_id:e._id})).then(()=>{t(r.actions.remove("templates",e))})}function l(e){return()=>s.default.countByTemplate(new a.RequestParams({templateId:e._id})).then(e=>e?Promise.reject():Promise.resolve())}function c(e){return()=>o.default.setAsDefault(new a.RequestParams({_id:e._id}))}},"./app/react/Templates/actions/uiActions.js":
/*!**************************************************!*\
  !*** ./app/react/Templates/actions/uiActions.js ***!
  \**************************************************/
/*! exports provided: editProperty, setThesauris */function(e,t,n){"use strict";n.r(t),n.d(t,"editProperty",function(){return s}),n.d(t,"setThesauris",function(){return r});var o=n(/*! ./actionTypes */"./app/react/Templates/actions/actionTypes.js");function s(e){return{type:o.EDIT_PROPERTY,id:e}}function r(e){return{type:o.SET_THESAURIS,thesauris:e}}},"./app/react/Templates/components/FilterSuggestions.js":
/*!*************************************************************!*\
  !*** ./app/react/Templates/components/FilterSuggestions.js ***!
  \*************************************************************/
/*! exports provided: FilterSuggestions, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"FilterSuggestions",function(){return l}),n.d(t,"mapStateToProps",function(){return c});var o,s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),a=n(/*! ./Icons */"./app/react/Templates/components/Icons.js");function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class l extends r.Component{static getTypeIcon(e){return a.default[e]||"fa fa-font"}getThesauriName(e){return(this.props.thesauris.toJS().find(t=>t._id===e)||{}).name}findSameLabelProperties(e,t){return t.filter(e=>e._id!==this.props.data._id).map(t=>{const n=t.properties.find(t=>t.label.trim().toLowerCase()===e.trim().toLowerCase()&&t.filter);if(n)return{template:t.name,property:n}}).filter(e=>e)}filterSuggestions(e,t,n,o){return this.findSameLabelProperties(e,this.props.templates.toJS()).map((e,s)=>{const r=e.property.type!==t,a=e.property.content!==n;return this.renderMatch(e,r,a,o,s)})}renderMatch(e,t,n,o,s){const r=this.props.filter?"property-atributes is-active":"property-atributes";let a="This property has the same configuration and will be used together.";n&&(a="This property has different Thesauri and wont't be used together."),t&&(a="This property has different Type and wont't be used together.");const c=l.getTypeIcon(e.property.type),d=e.property.type[0].toUpperCase()+e.property.type.slice(1);return i("tr",{className:r,title:a},s,i("td",{},void 0,i("i",{className:"fa fa-file-o"})," ",e.template),i("td",{className:t?"conflict":""},void 0,i("i",{className:"fa fa-warning"}),i("i",{className:c})," ",d),(()=>{if(o&&e.property.content){const t=this.getThesauriName(e.property.content);return i("td",{className:n?"conflict":""},void 0,i("i",{className:"fa fa-warning"}),i("i",{className:"fa fa-book"})," ",t)}return!1})())}render(){const{label:e}=this.props,{type:t}=this.props,{content:n}=this.props,o=void 0!==n,s=this.props.filter?"property-atributes is-active":"property-atributes",r=l.getTypeIcon(t);return i("table",{className:"table"},void 0,i("thead",{},void 0,i("tr",{},void 0,i("th",{},void 0,"Document or entity"),i("th",{},void 0,"Type"),(()=>{if(o)return i("th",{},void 0,"Thesauri")})())),i("tbody",{},void 0,i("tr",{className:s,title:"This is the current property and will be used togheter with equal properties."},void 0,i("td",{},void 0,i("i",{className:"fa fa-file-o"})," ",this.props.data.name),i("td",{},void 0,i("i",{className:r})," ",t[0].toUpperCase()+t.slice(1)),(()=>{if(o){const e=this.getThesauriName(n);return i("td",{},void 0,i("i",{className:"fa fa-book"})," ",e)}})()),this.filterSuggestions(e,t,n,o)))}}function c(e){return{templates:e.templates,thesauris:e.thesauris,data:e.template.data}}t.default=Object(s.connect)(c)(l)},"./app/react/Templates/components/FormConfigCommon.js":
/*!************************************************************!*\
  !*** ./app/react/Templates/components/FormConfigCommon.js ***!
  \************************************************************/
/*! exports provided: FormConfigCommon, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"FormConfigCommon",function(){return c}),n.d(t,"mapStateToProps",function(){return d});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=n(/*! ./PrioritySortingLabel */"./app/react/Templates/components/PrioritySortingLabel.js");function l(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class c extends s.Component{getZeroIndex(){const{index:e,data:t}=this.props;return e+t.commonProperties.length}renderTitleField(){const{index:e,formState:t}=this.props;let n="form-group";const o=`commonProperties.${this.getZeroIndex()}.label`,s=t.$form.errors[`${o}.required`],a=t.$form.errors[`${o}.duplicated`];return(s||a)&&(n+=" has-error"),l("div",{className:n},void 0,l("label",{htmlFor:`label${e}`},void 0,"Name"),l(r.Field,{model:`template.data.commonProperties[${this.getZeroIndex()}].label`},void 0,l("input",{id:`label${e}`,className:"form-control"})))}render(){const{index:e,data:t}=this.props;return l("div",{},void 0,"title"===t.commonProperties[this.getZeroIndex()].name&&this.renderTitleField(),l(r.Field,{model:`template.data.commonProperties[${this.getZeroIndex()}].prioritySorting`},void 0,l("input",{id:`prioritySorting${e}`,type:"checkbox"})," ",l(i.default,{htmlFor:`prioritySorting${e}`})))}}function d({template:e}){return{data:e.data,formState:e.formState}}t.default=Object(a.connect)(d)(c)},"./app/react/Templates/components/FormConfigInput.js":
/*!***********************************************************!*\
  !*** ./app/react/Templates/components/FormConfigInput.js ***!
  \***********************************************************/
/*! exports provided: FormConfigInput, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"FormConfigInput",function(){return c}),n.d(t,"mapStateToProps",function(){return d});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=n(/*! ./PropertyConfigOptions */"./app/react/Templates/components/PropertyConfigOptions.js");function l(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class c extends s.Component{render(){const{index:e,property:t,formState:n,type:o,canBeFilter:s}=this.props;let a="form-group";const c=`properties.${e}.label`,d=n.$form.errors[`${c}.required`],u=n.$form.errors[`${c}.duplicated`];return(d||u)&&(a+=" has-error"),l("div",{},void 0,l("div",{className:a},void 0,l("label",{},void 0,"Name"),l(r.Field,{model:`template.data.properties[${e}].label`},void 0,l("input",{className:"form-control"}))),l(i.default,{index:e,property:t,type:o,canBeFilter:s}))}}function d({template:e},t){return{property:e.data.properties[t.index],formState:e.formState}}c.defaultProps={canBeFilter:!0},t.default=Object(a.connect)(d)(c)},"./app/react/Templates/components/FormConfigMultimedia.js":
/*!****************************************************************!*\
  !*** ./app/react/Templates/components/FormConfigMultimedia.js ***!
  \****************************************************************/
/*! exports provided: mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"mapStateToProps",function(){return f});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=n(/*! ../../I18N */"./app/react/I18N/index.js"),l=n(/*! ../../ReactReduxForms */"./app/react/ReactReduxForms/index.js"),c=n(/*! ../../Layout/Tip */"./app/react/Layout/Tip.js"),d=n(/*! ./PropertyConfigOption */"./app/react/Templates/components/PropertyConfigOption.js");function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const p=e=>u("div",{},void 0,u("div",{className:"form-group"},void 0,u("label",{},void 0,Object(i.t)("System","Style")),u(l.Select,{model:`template.data.properties[${e}].style`,options:[{_id:"contain",name:"Fit"},{_id:"cover",name:"Fill"}],optionsLabel:"name",optionsValue:"_id"})),u("div",{className:"protip"},void 0,u("p",{},void 0,u("b",{},void 0,"Fit")," will show the entire media inside the container.",u("br",{}),u("b",{},void 0,"Fill")," will attempt to fill the container, using it's entire width.  In cards, cropping is likely to occur.")));class m extends s.Component{render(){const{index:e,formState:t,canShowInCard:n,helpText:o,canSetStyle:s,canBeRequired:a}=this.props;let i="form-group";const l=`properties.${e}.label`,m=t.$form.errors[`${l}.required`],f=t.$form.errors[`${l}.duplicated`];return(m||f)&&(i+=" has-error"),u("div",{},void 0,u("div",{className:i},void 0,u("label",{},void 0,"Name"),u(r.Field,{model:`template.data.properties[${e}].label`},void 0,u("input",{className:"form-control"}))),o&&u("div",{className:"protip"},void 0,u("i",{className:"fa fa-lightbulb-o"}),u("span",{},void 0,o)),u(d.default,{label:"Hide label",model:`template.data.properties[${e}].noLabel`},void 0,u(c.default,{},void 0,"This property will be shown without the label.")),u(d.default,{label:"Full width",model:`template.data.properties[${e}].fullWidth`},void 0,u(c.default,{},void 0,"This property will be shown using all the width available.")),a&&u(d.default,{label:"Required property",model:`template.data.properties[${e}].required`},void 0,u(c.default,{},void 0,"You won't be able to save a document if this property is empty.")),n&&u(d.default,{label:"Show in cards",model:`template.data.properties[${e}].showInCard`},void 0,u(c.default,{},void 0,"This property will appear in the library cards as part of the basic info.")),s&&p(e))}}function f({template:e}){return{formState:e.formState}}m.defaultProps={canShowInCard:!0,canSetStyle:!0,canBeRequired:!0,helpText:""},t.default=Object(a.connect)(f)(m)},"./app/react/Templates/components/FormConfigNested.js":
/*!************************************************************!*\
  !*** ./app/react/Templates/components/FormConfigNested.js ***!
  \************************************************************/
/*! exports provided: FormConfigNested, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"FormConfigNested",function(){return m}),n.d(t,"mapStateToProps",function(){return f});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! ../actions/templateActions */"./app/react/Templates/actions/templateActions.js"),a=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),i=n(/*! redux */"./node_modules/redux/es/index.js"),l=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),c=n(/*! ../../UI */"./app/react/UI/index.js"),d=n(/*! ./ViolatedArticlesNestedProperties */"./app/react/Templates/components/ViolatedArticlesNestedProperties.js"),u=n(/*! ./PropertyConfigOptions */"./app/react/Templates/components/PropertyConfigOptions.js");function p(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class m extends s.Component{constructor(e){super(e),e.setNestedProperties(e.index,Object.keys(d.default))}contentValidation(){return{required:e=>""!==e.trim()}}render(){const{index:e,data:t,formState:n,type:o}=this.props,s=t.properties[e];let r="form-group";const i=`properties.${e}.label`,l=n.$form.errors[`${i}.required`],d=n.$form.errors[`${i}.duplicated`];return(l||d)&&(r+=" has-error"),p("div",{},void 0,p("div",{className:r},void 0,p("label",{},void 0,"Label"),p(a.Field,{model:`template.data.properties[${e}].label`},void 0,p("input",{className:"form-control"}))),p(a.Field,{model:`template.data.properties[${e}].required`},void 0,p("input",{id:`required${this.props.index}`,type:"checkbox"})," ",p("label",{className:"property-label",htmlFor:`required${this.props.index}`},void 0,"Required property",p("span",{className:"property-help"},void 0,p(c.Icon,{icon:"question-circle"}),p("div",{className:"property-description"},void 0,"You won't be able to publish a document if this property is empty.")))),p(u.default,{index:e,property:s,type:o}))}}function f(e){return{data:e.template.data,formState:e.template.formState}}t.default=Object(l.connect)(f,function(e){return Object(i.bindActionCreators)({setNestedProperties:r.setNestedProperties},e)})(m)},"./app/react/Templates/components/FormConfigRelationship.js":
/*!******************************************************************!*\
  !*** ./app/react/Templates/components/FormConfigRelationship.js ***!
  \******************************************************************/
/*! exports provided: FormConfigRelationship, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"FormConfigRelationship",function(){return m}),n.d(t,"mapStateToProps",function(){return f});var o,s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=(n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),i=n(/*! ../../ReactReduxForms */"./app/react/ReactReduxForms/index.js"),l=n(/*! ../../I18N */"./app/react/I18N/index.js"),c=n(/*! ./PropertyConfigOptions */"./app/react/Templates/components/PropertyConfigOptions.js"),d=n(/*! ./PropertyConfigOption */"./app/react/Templates/components/PropertyConfigOption.js"),u=n(/*! ../../Layout/Tip */"./app/react/Layout/Tip.js");function p(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class m extends a.Component{static contentValidation(){return{required:e=>e&&""!==e.trim()}}render(){const{index:e,data:t,formState:n,type:o,templates:r,relationTypes:a}=this.props,f=t.properties[e],h=r.toJS().filter(e=>e._id!==t._id),y=n.$form.errors[`properties.${e}.label.required`]||n.$form.errors[`properties.${e}.label.duplicated`],v=n.$form.errors[`properties.${e}.relationType.required`]&&n.$form.submitFailed,b=n.$form.errors[`properties.${e}.inheritProperty.required`]&&n.$form.submitFailed,g=y?"form-group has-error":"form-group",j=r.toJS().find(t=>n.properties[e].content&&t._id===n.properties[e].content.value),S=j?j.properties:[];return p("div",{},void 0,p("div",{className:g},void 0,p("label",{htmlFor:"label"},void 0,p(l.Translate,{},void 0,"Label")),p(s.Field,{model:`template.data.properties[${e}].label`},void 0,p("input",{id:"label",className:"form-control"}))),p("div",{className:v?"form-group has-error":"form-group"},void 0,p("label",{},void 0,p(l.Translate,{},void 0,"Relationship"),p("span",{className:"required"},void 0,"*")),p(i.Select,{model:`template.data.properties[${e}].relationType`,options:a.toJS(),optionsLabel:"name",validators:m.contentValidation(),optionsValue:"_id"})),p("div",{className:"form-group"},void 0,p("label",{},void 0,p(l.Translate,{},void 0,"Entities")),p(i.Select,{model:`template.data.properties[${e}].content`,options:h,optionsLabel:"name",placeholder:"Any entity or document",optionsValue:"_id"})),Boolean(n.properties[e].content&&S.length)&&p(d.default,{label:"Inherit property",model:`template.data.properties[${e}].inherit`},void 0,p(u.default,{},void 0,"This property will be inherited from the related entities and shown as metadata of this type of entities.")),Boolean(n.properties[e].inherit&&n.properties[e].inherit.value&&S.length)&&p("div",{className:b?"form-group has-error":"form-group"},void 0,p(i.Select,{model:`template.data.properties[${e}].inheritProperty`,options:S,optionsLabel:"label",optionsValue:"_id"})),p(c.default,{index:e,property:f,type:o}))}}function f(e){return{data:e.template.data,templates:e.templates,relationTypes:e.relationTypes,formState:e.template.formState}}t.default=Object(r.connect)(f)(m)},"./app/react/Templates/components/FormConfigRelationshipFilter.js":
/*!************************************************************************!*\
  !*** ./app/react/Templates/components/FormConfigRelationshipFilter.js ***!
  \************************************************************************/
/*! exports provided: FormConfigRelationship, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"FormConfigRelationship",function(){return p}),n.d(t,"mapStateToProps",function(){return m});var o,s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=(n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),i=n.n(a),l=n(/*! ../../ReactReduxForms */"./app/react/ReactReduxForms/index.js"),c=n(/*! ../../I18N */"./app/react/I18N/index.js"),d=n(/*! ./FilterSuggestions */"./app/react/Templates/components/FilterSuggestions.js");function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class p extends a.Component{static contentValidation(){return{required:e=>e&&""!==e.trim()}}render(){const{index:e,data:t,formState:n}=this.props,o=t.properties[e],r=this.props.relationTypes.toJS();let a="form-group";const m=`properties.${e}.label`,f=n.$form.errors[`${m}.required`],h=n.$form.errors[`${m}.duplicated`],y=n.$form.errors[`properties.${e}.relationType.required`]&&n.$form.submitFailed;return(f||h)&&(a+=" has-error"),u("div",{},void 0,u("div",{className:a},void 0,u("label",{},void 0,"Label"),u(s.Field,{model:`template.data.properties[${e}].label`},void 0,u("input",{className:"form-control"}))),u("div",{className:y?"form-group has-error":"form-group"},void 0,u("label",{},void 0,Object(c.t)("System","Relationship type"),u("span",{className:"required"},void 0,"*")),u(l.Select,{model:`template.data.properties[${e}].relationType`,options:r,optionsLabel:"name",validators:p.contentValidation(),optionsValue:"_id"})),u("div",{},void 0,u(s.Field,{className:"filter",model:`template.data.properties[${e}].filter`},void 0,u("input",{id:`filter${this.props.index}`,type:"checkbox",checked:"checked",disabled:!0})," ",u("label",{className:"property-label",htmlFor:`filter${this.props.index}`},void 0,"Use as filter")),i.a.createElement(d.default,o)))}}function m(e){return{data:e.template.data,thesauris:e.thesauris,relationTypes:e.relationTypes,formState:e.template.formState}}t.default=Object(r.connect)(m)(p)},"./app/react/Templates/components/FormConfigSelect.js":
/*!************************************************************!*\
  !*** ./app/react/Templates/components/FormConfigSelect.js ***!
  \************************************************************/
/*! exports provided: FormConfigSelect, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"FormConfigSelect",function(){return p}),n.d(t,"mapStateToProps",function(){return m});var o,s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),i=n(/*! ../../ReactReduxForms */"./app/react/ReactReduxForms/index.js"),l=n(/*! ../../I18N */"./app/react/I18N/index.js"),c=n(/*! ../../Layout */"./app/react/Layout/index.js"),d=n(/*! ./PropertyConfigOptions */"./app/react/Templates/components/PropertyConfigOptions.js");function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class p extends a.Component{static contentValidation(){return{required:e=>""!==e.trim()}}componentDidMount(){this.initialContent=this.props.data.properties[this.props.index].content}componentWillReceiveProps(e){const t=e.data.properties[e.index].content;this.warning=!1,this.initialContent!==t&&(this.warning=!0)}render(){const{index:e,data:t,formState:n,type:o}=this.props,r=this.props.thesauris.toJS(),a=t.properties[e],p=r.filter(e=>e._id!==t._id&&"template"!==e.type);let m="form-group";const f=`properties.${e}.label`,h=n.$form.errors[`${f}.required`],y=n.$form.errors[`${f}.duplicated`],v=n.$form.errors[`properties.${e}.content.required`]&&n.$form.submitFailed;return(h||y)&&(m+=" has-error"),u("div",{},void 0,u("div",{className:m},void 0,u("label",{},void 0,"Label"),u(s.Field,{model:`template.data.properties[${e}].label`},void 0,u("input",{className:"form-control"}))),u("div",{className:v?"form-group has-error":"form-group"},void 0,u("label",{},void 0,Object(l.t)("System","Select list"),u("span",{className:"required"},void 0,"*")),this.warning&&u(c.Warning,{inline:!0},void 0,u(l.Translate,{},void 0,"All entities and documents that have already this property assigned will loose its current value")),u(i.Select,{model:`template.data.properties[${e}].content`,options:p,optionsLabel:"name",optionsValue:"_id"})),u(d.default,{index:e,property:a,type:o}))}}function m(e){return{data:e.template.data,thesauris:e.thesauris,formState:e.template.formState}}t.default=Object(r.connect)(m)(p)},"./app/react/Templates/components/Icons.js":
/*!*************************************************!*\
  !*** ./app/react/Templates/components/Icons.js ***!
  \*************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),t.default={checkbox:"check",numeric:"calculator",relationship:"link",relationshipfilter:"filter",select:"sort",multiselect:"list",date:"calendar",text:"font",markdown:"file",nested:"cubes",multidate:"calendar",multidaterange:"calendar",daterange:"calendar",image:"image",preview:"passport",media:"video",geolocation:"map-marker",link:"link"}},"./app/react/Templates/components/MetadataProperty.js":
/*!************************************************************!*\
  !*** ./app/react/Templates/components/MetadataProperty.js ***!
  \************************************************************/
/*! exports provided: MetadataProperty, dragSource, dropTarget, default */function(e,t,n){"use strict";n.r(t),n.d(t,"MetadataProperty",function(){return _}),n.d(t,"dragSource",function(){return T}),n.d(t,"dropTarget",function(){return w});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-dnd */"./node_modules/react-dnd/lib/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),l=n(/*! ../actions/uiActions */"./app/react/Templates/actions/uiActions.js"),c=n(/*! ../../Modals/actions/modalActions */"./app/react/Modals/actions/modalActions.js"),d=n(/*! ../actions/templateActions */"./app/react/Templates/actions/templateActions.js"),u=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),p=n(/*! ../../UI */"./app/react/UI/index.js"),m=n(/*! ./FormConfigInput */"./app/react/Templates/components/FormConfigInput.js"),f=n(/*! ./FormConfigSelect */"./app/react/Templates/components/FormConfigSelect.js"),h=n(/*! ./FormConfigRelationship */"./app/react/Templates/components/FormConfigRelationship.js"),y=n(/*! ./FormConfigRelationshipFilter */"./app/react/Templates/components/FormConfigRelationshipFilter.js"),v=n(/*! ./FormConfigNested */"./app/react/Templates/components/FormConfigNested.js"),b=n(/*! ./FormConfigCommon */"./app/react/Templates/components/FormConfigCommon.js"),g=n(/*! ./FormConfigMultimedia */"./app/react/Templates/components/FormConfigMultimedia.js"),j=n(/*! ./Icons */"./app/react/Templates/components/Icons.js");function S(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class _ extends s.Component{isLabelDuplicated(){const{index:e,template:t,formState:n}=this.props,o=e+t.commonProperties.length;return Boolean(n.$form.errors[`properties.${e}.label.duplicated`])||Boolean(n.$form.errors[`commonProperties.${o}.label.duplicated`])}isErrorOnThisField(e){const{index:t,isCommonProperty:n,template:o}=this.props,s=t+o.commonProperties.length,[r,a]=e.split(".");return"commonProperties"===r?a===s.toString()&&n:a===t.toString()&&!n}renderForm(){const{type:e,index:t}=this.props;let n=S(m.default,{type:e,index:t});return this.props.isCommonProperty?S(b.default,{index:t,type:e}):("relationship"===e&&(n=S(h.default,{index:t,type:e})),"relationshipfilter"===e&&(n=S(y.default,{index:t,type:e})),"select"!==e&&"multiselect"!==e||(n=S(f.default,{index:t,type:e})),"nested"===e&&(n=S(v.default,{index:t,type:e})),"media"!==e&&"image"!==e&&"preview"!==e||(n=S(g.default,{type:e,index:t,canSetStyle:"image"===e||"preview"===e,canBeRequired:"preview"!==e})),"geolocation"!==e&&"link"!==e||(n=S(m.default,{type:e,index:t,canBeFilter:!1})),n)}render(){const{label:e,connectDragSource:t,isDragging:n,connectDropTarget:o,uiState:s,index:r,localID:a,inserting:i,formState:l}=this.props,{editingProperty:c}=s.toJS();let d="list-group-item";(n||i)&&(d+=" dragging"),Object.keys(l.$form.errors).reduce((e,t)=>e||this.isErrorOnThisField(t)&&l.$form.errors[t],!1)&&l.$form.submitFailed&&(d+=" error");const m=j.default[this.props.type]||"font",f=c===a,h=S("div",{className:d},void 0,S("span",{className:"property-name"},void 0,S(p.Icon,{icon:this.props.isCommonProperty?"lock":"bars",fixedWidth:!0}),S(p.Icon,{icon:m,fixedWidth:!0})," ",e),S("div",{className:"list-group-item-actions"},void 0,this.isLabelDuplicated()&&S("span",{className:"validation-error"},void 0,S(p.Icon,{icon:"exclamation-triangle"})," Duplicated label"),Boolean(l.$form.errors[`properties.${r}.relationType.duplicated`])&&S("span",{className:"validation-error"},void 0,S(p.Icon,{icon:"exclamation-triangle"})," Relationship fields must have diferent relationship or diferent type of entity."),S("button",{type:"button",className:"btn btn-default btn-xs property-edit",onClick:()=>this.props.editProperty(f?null:a)},void 0,S(p.Icon,{icon:"pencil-alt"})," Edit"),!this.props.isCommonProperty&&S("button",{type:"button",className:"btn btn-danger btn-xs property-remove",onClick:()=>this.props.removeProperty("RemovePropertyModal",r)},void 0,S(p.Icon,{icon:"trash-alt"})," Delete")));return this.props.isCommonProperty?S("li",{},void 0,h,S(u.default,{if:f&&!n},void 0,S("div",{className:`propery-form${c===a?" expand":""}`},void 0,this.renderForm()))):o(S("li",{},void 0,t(h),S(u.default,{if:f&&!n},void 0,S("div",{className:`propery-form${c===a?" expand":""}`},void 0,this.renderForm()))))}}const x={hover(e,t){const n=t.getItem().index,o=e.index,s=t.getItem();if(e.localID===s.editingProperty&&e.editProperty(null),void 0===n)return s.inserting=!0,s.index=0,void e.addProperty({label:s.label,type:s.type,inserting:!0},0);n!==o&&(s.alreadyReordered?s.alreadyReordered=!1:(e.reorderProperty(n,o),s.index=o,s.alreadyReordered=!0))}},w=Object(r.DropTarget)(["METADATA_PROPERTY","METADATA_OPTION"],x,e=>({connectDropTarget:e.dropTarget()}))(_),O={beginDrag:e=>({index:e.index,label:e.label,type:e.type,editingProperty:e.uiState.get("editingProperty")}),endDrag(e,t){const n=t.getItem();e.editProperty(n.editingProperty)}},T=Object(r.DragSource)("METADATA_PROPERTY",O,(e,t)=>({connectDragSource:e.dragSource(),isDragging:t.isDragging()}))(w);t.default=Object(i.connect)(({template:e})=>({uiState:e.uiState,formState:e.formState,template:e.data}),function(e){return Object(a.bindActionCreators)({removeProperty:c.showModal,reorderProperty:d.reorderProperty,addProperty:d.addProperty,editProperty:l.editProperty},e)})(T)},"./app/react/Templates/components/MetadataTemplate.js":
/*!************************************************************!*\
  !*** ./app/react/Templates/components/MetadataTemplate.js ***!
  \************************************************************/
/*! exports provided: MetadataTemplate, dropTarget, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"MetadataTemplate",function(){return x}),n.d(t,"dropTarget",function(){return O}),n.d(t,"mapStateToProps",function(){return T});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=n(/*! redux */"./node_modules/redux/es/index.js"),l=n(/*! react-dnd */"./node_modules/react-dnd/lib/index.js"),c=n(/*! ../../I18N */"./app/react/I18N/index.js"),d=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),u=n(/*! ../../Forms */"./app/react/Forms/index.js"),p=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),m=n(/*! ../../UI */"./app/react/UI/index.js"),f=n(/*! ../../Notifications */"./app/react/Notifications/index.js"),h=n(/*! ../../utils/colors */"./app/react/utils/colors.js"),y=n(/*! ../actions/templateActions */"./app/react/Templates/actions/templateActions.js"),v=n(/*! ./MetadataProperty */"./app/react/Templates/components/MetadataProperty.js"),b=n(/*! ./RemovePropertyConfirm */"./app/react/Templates/components/RemovePropertyConfirm.js"),g=n(/*! ../../Forms/components/ColorPicker */"./app/react/Forms/components/ColorPicker.js"),j=n(/*! ./ValidateTemplate */"./app/react/Templates/components/ValidateTemplate.js");function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function _(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class x extends s.Component{constructor(e){super(e),this.onSubmit=this.onSubmit.bind(this),this.onSubmitFailed=this.onSubmitFailed.bind(this)}onSubmit(e){const t=Object.assign({},e);t.properties=t.properties.map(e=>{const t=Object.assign({},e);return t.label=e.label.trim(),t}),this.props.saveTemplate(t)}onSubmitFailed(){this.props.notify(Object(c.t)("System","The template contains errors",null,!1),"danger")}render(){const{connectDropTarget:e,defaultColor:t}=this.props,n=this.props.commonProperties||[];return _("div",{},void 0,_(b.default,{}),_(d.Form,{model:"template.data",onSubmit:this.onSubmit,onSubmitFailed:this.onSubmitFailed,className:"metadataTemplate",validators:Object(j.default)(this.props.properties,n,this.props.templates.toJS(),this.props._id)},void 0,_("div",{className:"metadataTemplate-heading"},void 0,_(u.FormGroup,{model:".name"},void 0,_(d.Field,{model:".name"},void 0,_("input",{placeholder:"Template name",className:"form-control"}))),t&&_(d.Control,{model:".color",component:g.default,defaultValue:t,mapProps:{defaultValue:e=>e.defaultValue}})),_(p.default,{if:!this.props.relationType},void 0,e(_("ul",{className:"metadataTemplate-list list-group"},void 0,n.map((e,t)=>{const n=e.localID||e._id;return r.a.createElement(v.default,S({},e,{key:n,localID:n,index:t-this.props.commonProperties.length}))}),this.props.properties.map((e,t)=>{const n=e.localID||e._id;return r.a.createElement(v.default,S({},e,{key:n,localID:n,index:t}))}),_("div",{className:"no-properties"},void 0,_("span",{className:"no-properties-wrap"},void 0,_(m.Icon,{icon:"clone"}),"Drag properties here"))))),_("div",{className:"settings-footer"},void 0,_(c.I18NLink,{to:this.props.backUrl,className:"btn btn-default"},void 0,_(m.Icon,{icon:"arrow-left",directionAware:!0}),_("span",{className:"btn-label"},void 0,"Back")),_("button",{type:"submit",className:"btn btn-success save-template",disabled:!!this.props.savingTemplate},void 0,_(m.Icon,{icon:"save"}),_("span",{className:"btn-label"},void 0,"Save")))))}}x.defaultProps={savingTemplate:!1,defaultColor:null};const w={canDrop:()=>!0,drop(e,t){const n=t.getItem();if(!e.properties[n.index])return e.addProperty({label:n.label,type:n.type},e.properties.length),{name:"container"};e.inserted(n.index)}},O=Object(l.DropTarget)("METADATA_OPTION",w,e=>({connectDropTarget:e.dropTarget()}))(x),T=({template:e,templates:t,relationTypes:n},o)=>{const s=o.relationType?n:t;return{_id:e.data._id,commonProperties:e.data.commonProperties,properties:e.data.properties,templates:s,savingTemplate:e.uiState.get("savingTemplate"),defaultColor:((e,t)=>{if(!t)return h.COLORS[e.size%h.COLORS.length];const n=e.findIndex(e=>e.get("_id")===t);return h.COLORS[n%h.COLORS.length]})(t,e.data._id)}};t.default=Object(a.connect)(T,function(e){return Object(i.bindActionCreators)({inserted:y.inserted,addProperty:y.addProperty,setErrors:d.actions.setErrors,notify:f.notificationActions.notify},e)},null,{withRef:!0})(O)},"./app/react/Templates/components/PrioritySortingLabel.js":
/*!****************************************************************!*\
  !*** ./app/react/Templates/components/PrioritySortingLabel.js ***!
  \****************************************************************/
/*! exports provided: PrioritySortingLabel, default */function(e,t,n){"use strict";n.r(t),n.d(t,"PrioritySortingLabel",function(){return l});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! ../../UI */"./app/react/UI/index.js");function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class l extends s.Component{render(){return i("label",{className:"property-label",htmlFor:this.props.htmlFor},void 0,"Priority sorting",i("span",{className:"property-help"},void 0,i(a.Icon,{icon:"question-circle"}),i("div",{className:"property-description"},void 0,"Properties marked as priority sorting will be used as default sorting criteria. If more than one property is marked as priority sorting the system will try to pick-up the best fit. When listing mixed template types, the system will pick-up the best combined priority sorting.")))}}t.default=Object(r.connect)()(l)},"./app/react/Templates/components/PropertyConfigOption.js":
/*!****************************************************************!*\
  !*** ./app/react/Templates/components/PropertyConfigOption.js ***!
  \****************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js"),n(/*! ../../I18N */"./app/react/I18N/index.js"));function a(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const i=({children:e,model:t,label:n})=>a(s.Field,{model:t},void 0,a("label",{className:"property-label",htmlFor:`test${t}`},void 0,a("input",{id:`test${t}`,type:"checkbox"})," ",a(r.Translate,{},void 0,n)),e);i.defaultProps={children:""},t.default=i},"./app/react/Templates/components/PropertyConfigOptions.js":
/*!*****************************************************************!*\
  !*** ./app/react/Templates/components/PropertyConfigOptions.js ***!
  \*****************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=n(/*! ./FilterSuggestions */"./app/react/Templates/components/FilterSuggestions.js"),i=n(/*! ./PropertyConfigOption */"./app/react/Templates/components/PropertyConfigOption.js"),l=n(/*! ../../Layout/Tip */"./app/react/Layout/Tip.js");function c(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class d extends s.Component{render(){const{index:e,property:t,type:n,canBeFilter:o}=this.props;return c("div",{},void 0,c(i.default,{label:"Hide label",model:`template.data.properties[${e}].noLabel`},void 0,c(l.default,{},void 0,"This property will be shown without the label.")),c(i.default,{label:"Required property",model:`template.data.properties[${e}].required`},void 0,c(l.default,{},void 0,"You won't be able to publish a document if this property is empty.")),c(i.default,{label:"Show in cards",model:`template.data.properties[${e}].showInCard`},void 0,c(l.default,{},void 0,"This property will appear in the library cards as part of the basic info.")),o&&c("div",{className:"inline-group"},void 0,c(i.default,{label:"Use as filter",model:`template.data.properties[${e}].filter`},void 0,c(l.default,{},void 0,"This property will be used for filtering the library results. When properties match in equal name and field type with other document types, they will be combined for filtering.")),t.filter&&c(r.a.Fragment,{},void 0,c(i.default,{label:"Default filter",model:`template.data.properties[${e}].defaultfilter`},void 0,c(l.default,{},void 0,"Use this property as a default filter in the library. When there are no document types selected, this property will show as a default filter for your collection.")),["text","date","numeric","select"].includes(n)&&c(i.default,{label:"Priority sorting",model:`template.data.properties[${e}].prioritySorting`},void 0,c(l.default,{},void 0,"Properties marked as priority sorting will be used as default sorting criteria. If more than one property is marked as priority sorting the system will try to pick-up the best fit. When listing mixed template types, the system will pick-up the best combined priority sorting."))),r.a.createElement(a.default,t)))}}d.defaultProps={canBeFilter:!0},t.default=d},"./app/react/Templates/components/PropertyOption.js":
/*!**********************************************************!*\
  !*** ./app/react/Templates/components/PropertyOption.js ***!
  \**********************************************************/
/*! exports provided: PropertyOption, dragSource, default */function(e,t,n){"use strict";n.r(t),n.d(t,"PropertyOption",function(){return p}),n.d(t,"dragSource",function(){return f});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-dnd */"./node_modules/react-dnd/lib/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),l=n(/*! ../../UI */"./app/react/UI/index.js"),c=n(/*! ../actions/templateActions */"./app/react/Templates/actions/templateActions.js"),d=n(/*! ./Icons */"./app/react/Templates/components/Icons.js");function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class p extends s.Component{constructor(e){super(e),this.addProperty=this.addProperty.bind(this)}addProperty(){this.props.addProperty({label:this.props.label,type:this.props.type})}render(){const{connectDragSource:e}=this.props,{label:t}=this.props,n=d.default[this.props.type]||"font";return e(u("li",{className:`list-group-item${this.props.disabled?" disabled":""}`},void 0,u("button",{onClick:this.addProperty},void 0,u(l.Icon,{icon:"plus"})),u("span",{},void 0,u(l.Icon,{icon:n})," ",t)))}}const m={beginDrag:e=>Object.assign({},e),canDrag:e=>!e.disabled,endDrag(e,t){const n=t.getItem();!t.getDropResult()&&n.index&&e.removeProperty(n.index)}},f=Object(r.DragSource)("METADATA_OPTION",m,e=>({connectDragSource:e.dragSource()}))(p);t.default=Object(i.connect)(null,function(e){return Object(a.bindActionCreators)({removeProperty:c.removeProperty,addProperty:c.addProperty},e)},null,{withRef:!0})(f)},"./app/react/Templates/components/RemovePropertyConfirm.js":
/*!*****************************************************************!*\
  !*** ./app/react/Templates/components/RemovePropertyConfirm.js ***!
  \*****************************************************************/
/*! exports provided: RemovePropertyConfirm, default */function(e,t,n){"use strict";n.r(t),n.d(t,"RemovePropertyConfirm",function(){return u});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! ../../Layout/Modal */"./app/react/Layout/Modal.js"),l=n(/*! ../actions/templateActions */"./app/react/Templates/actions/templateActions.js"),c=n(/*! ../../Modals/actions/modalActions */"./app/react/Modals/actions/modalActions.js");function d(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class u extends s.Component{confirm(){this.props.hideModal("RemovePropertyModal"),this.props.removeProperty(this.props.propertyBeingDeleted)}render(){return d(i.default,{isOpen:this.props.isOpen||!1,type:"danger"},void 0,d(i.default.Body,{},void 0,d("h4",{},void 0,"Confirm deletion"),d("p",{},void 0,"Deleting a template property will delete this metadata information on all documents using this template."),d("p",{},void 0,"Change will take effect after saving the template")),d(i.default.Footer,{},void 0,d("button",{type:"button",className:"btn btn-default cancel-button",onClick:()=>this.props.hideModal("RemovePropertyModal")},void 0,"Cancel"),d("button",{type:"button",className:"btn btn-danger confirm-button",onClick:()=>this.confirm()},void 0,"Delete Property")))}}t.default=Object(r.connect)(e=>{const t=e.modals.toJS().RemovePropertyModal;return{propertyBeingDeleted:t,isOpen:"number"==typeof t}},function(e){return Object(a.bindActionCreators)({hideModal:c.hideModal,removeProperty:l.removeProperty},e)})(u)},"./app/react/Templates/components/TemplateCreator.js":
/*!***********************************************************!*\
  !*** ./app/react/Templates/components/TemplateCreator.js ***!
  \***********************************************************/
/*! exports provided: TemplateCreator, default */function(e,t,n){"use strict";n.r(t),n.d(t,"TemplateCreator",function(){return v});n(/*! ../scss/templates.scss */"./app/react/Templates/scss/templates.scss");var o,s=n(/*! react-dnd */"./node_modules/react-dnd/lib/index.js"),r=n(/*! redux */"./node_modules/redux/es/index.js"),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=n(/*! react-dnd-html5-backend */"./node_modules/react-dnd-html5-backend/lib/index.js"),l=n.n(i),c=n(/*! prop-types */"./node_modules/prop-types/index.js"),d=n.n(c),u=n(/*! react */"./node_modules/react/index.js"),p=n(/*! ../actions/templateActions */"./app/react/Templates/actions/templateActions.js"),m=n(/*! ../../RelationTypes/actions/relationTypeActions */"./app/react/RelationTypes/actions/relationTypeActions.js"),f=n(/*! ./MetadataTemplate */"./app/react/Templates/components/MetadataTemplate.js"),h=n(/*! ./PropertyOption */"./app/react/Templates/components/PropertyOption.js");function y(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class v extends u.Component{componentWillUnmount(){this.props.resetTemplate()}render(){let e=this.props.saveTemplate,t="/settings/templates",n="document";return this.props.relationType&&(e=this.props.saveRelationType,t="/settings/connections",n="relationship"),y("div",{className:"metadata"},void 0,y("div",{className:"panel panel-default"},void 0,y("div",{className:"panel-heading"},void 0,"Metadata creator"),y("div",{className:"panel-body"},void 0,y("div",{className:"row"},void 0,y("main",{className:"col-xs-12 col-sm-9"},void 0,y(f.default,{saveTemplate:e,backUrl:t,relationType:this.props.relationType})),"relationship"!==n&&y("aside",{className:"col-xs-12 col-sm-3"},void 0,y("div",{className:"metadataTemplate-constructor"},void 0,y("div",{},void 0,y("i",{},void 0,"Properties")),y("ul",{className:"list-group property-options-list"},void 0,y(h.default,{label:"Text",type:"text"}),y(h.default,{label:"Numeric",type:"numeric"}),y(h.default,{label:"Select",type:"select",disabled:this.props.noDictionaries}),y(h.default,{label:"Multi Select",type:"multiselect",disabled:this.props.noDictionaries}),"relationship"!==n&&y(h.default,{label:"Relationship",type:"relationship",disabled:this.props.noRelationtypes}),y(h.default,{label:"Date",type:"date"}),y(h.default,{label:"Date Range",type:"daterange"}),y(h.default,{label:"Multi Date",type:"multidate"}),y(h.default,{label:"Multi Date Range",type:"multidaterange"}),y(h.default,{label:"Rich Text",type:"markdown"}),y(h.default,{label:"Link",type:"link"}),y(h.default,{label:"Image",type:"image"}),"document"===n&&y(h.default,{label:"Preview",type:"preview"}),y(h.default,{label:"Media",type:"media"}),y(h.default,{label:"Geolocation",type:"geolocation"}),"cejil"===this.props.project&&y(h.default,{label:"Violated articles",type:"nested"})),this.props.noRelationtypes&&y("div",{className:"alert alert-warning"},void 0,"Relationship fields can not be added untill you have at least one relationship type to select.")))))))}}v.defaultProps={relationType:!1,noRelationtypes:!0,noDictionaries:!0,project:""},v.contextTypes={router:d.a.object};t.default=Object(s.DragDropContext)(l.a)(Object(a.connect)(({settings:e,relationTypes:t,thesauris:n})=>({project:e.collection.toJS().project,noRelationtypes:!t.size,noDictionaries:!n.size}),function(e){return Object(r.bindActionCreators)({resetTemplate:p.resetTemplate,saveTemplate:p.saveTemplate,saveRelationType:m.saveRelationType},e)})(v))},"./app/react/Templates/components/ValidateTemplate.js":
/*!************************************************************!*\
  !*** ./app/react/Templates/components/ValidateTemplate.js ***!
  \************************************************************/
/*! exports provided: validateDuplicatedLabel, validateDuplicatedRelationship, validateRequiredInheritproperty, default */function(e,t,n){"use strict";function o(e,{properties:t,commonProperties:n}){const o=n.find(e=>"title"===e.name);return(o?[o,...t]:t).reduce((t,n)=>{const o=(n._id||n.localID)===(e._id||e.localID),s=n.label.trim().toLowerCase()!==e.label.trim().toLowerCase();return t&&(o||s)},!0)}function s(e,t){return t.reduce((t,n)=>{const o=(n._id||n.localID)===(e._id||e.localID),s=!n.relationType||n.relationType!==e.relationType,r=n.content!==e.content,a=Boolean(e.content&&""!==e.content.trim());return t&&(o||s||r&&a)},!0)}function r(e){return!e||!e.inherit||Boolean(e.inheritProperty)}function a(e,t){return n=>{if(!n[e][t])return!0;const{label:o}=n[e][t];return o&&""!==o.trim()}}function i(e,t){return n=>{if(!n[e][t])return!0;return o(n[e][t],n)}}n.r(t),n.d(t,"validateDuplicatedLabel",function(){return o}),n.d(t,"validateDuplicatedRelationship",function(){return s}),n.d(t,"validateRequiredInheritproperty",function(){return r}),t.default=function(e,t,n,o){const l={"":{},name:function(e,t){return{required:e=>e&&""!==e.trim(),duplicated:n=>!e.find(e=>e._id!==t&&e.name.trim().toLowerCase()===n.trim().toLowerCase())}}(n,o)},c=t.findIndex(e=>"title"===e.name);return c>=0&&(l[""][`commonProperties.${c}.label.required`]=a("commonProperties",c),l[""][`commonProperties.${c}.label.duplicated`]=i("commonProperties",c)),e.forEach((e,t)=>{l[""][`properties.${t}.label.required`]=a("properties",t),l[""][`properties.${t}.label.duplicated`]=i("properties",t),l[""][`properties.${t}.content.required`]=(e=>{if(!e.properties[t]||"select"!==e.properties[t].type||"multiselect"!==e.properties[t].type)return!0;const{content:n}=e.properties[t];return n&&""!==n.trim()}),l[""][`properties.${t}.relationType.required`]=(e=>{if(!e.properties[t]||"relationship"!==e.properties[t].type)return!0;const{relationType:n}=e.properties[t];return n&&""!==n.trim()}),l[""][`properties.${t}.relationType.duplicated`]=(e=>{if(!e.properties[t]||"relationship"!==e.properties[t].type)return!0;return s(e.properties[t],e.properties)}),l[""][`properties.${t}.inheritProperty.required`]=(e=>{return r(e.properties[t])})}),l}},"./app/react/Templates/components/ViolatedArticlesNestedProperties.js":
/*!****************************************************************************!*\
  !*** ./app/react/Templates/components/ViolatedArticlesNestedProperties.js ***!
  \****************************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),t.default={daddh:{key_es:"DADDH",key_en:"ADRDM",key_pt:"DADDH",label_es:"Declaración Americana de los Derechos y Deberes del Hombre",label_en:"American Declaration of the Rights and Duties of Man",label_pt:"Declaração Americana dos Direitos e Deveres do Homem"},dple:{key_es:"DPLE",key_en:"DPFE",key_pt:"DPLE",label_es:"Declaración de Principios sobre Libertad de Expresión",label_en:"Declaration of Principles on Freedom of Expresion",label_pt:"Declaração de Princípios sobre Liberdade de Expressão "},pbpppl:{key_es:"PBPPPL",key_en:"PBPPDL",key_pt:"PBPPPL",label_es:"Principios y Buenas Prácticas sobre la Protección de las Personas Privadas de Libertad en las Américas",label_en:"Principles and Best Practices on the Protection of Persons Deprived of Liberty in the Americas",label_pt:"Princípios e Boas Prácticas para as Pessoas Privadas de Liberdade nas Américas"},cadh:{key_es:"CADH",key_en:"ACHR",key_pt:"CADH",label_es:"Convención Americana sobre Derechos Humanos",label_en:"American Convention on Human Rights",label_pt:"Convenção Americana sobre Direitos Humanos"},"prot-pdm":{key_es:"Prot-PdM",key_en:"Prot-DP",key_pt:"Prot-PdM",label_es:"Protocolo a la Convención Americana sobre Derechos Humanos relativo a la Abolición de la Pena de Muerte",label_en:"Protocol to the American Convention on Human Rights to Abolish the Death Penalty",label_pt:"Protocolo à Convenção Americana sobre Direitos Humanos relativo à abolição da Pena de Morte"},"prot-desc":{key_es:"Prot-DESC",key_en:"Prot-ESCR",key_pt:"Prot-desc",label_es:"Protocolo Adicional a la Convención Americana sobre Derechos Humanos en Materia de Derechos Económicos, Sociales y Culturales 'Protocolo de San Salvador'",label_en:"Additional Protocol to the American Convention on Human Rights in the Area of Economic, Social and Cultural Rights 'Protocol of San Salvador'",label_pt:"Protocolo adicional à Convenção Americana sobre Direitos Humanos em matéria de Direitos Econômicos, sociais e culturais 'Protocolo de São Salvador'"},cipst:{key_es:"CIPST",key_en:"IACPPT",key_pt:"CIPST",label_es:"Convención Interamericana para Prevenir y Sancionar la Tortura",label_en:"Inter-American Convention to Prevent and Punish Torture",label_pt:"Convenção Interamericana para Prevenir e Sancionar a Tortura"},cidfp:{key_es:"CIDFP",key_en:"IACFDP",key_pt:"CIDFP",label_es:"Convención Interamericana sobre Desaparición Forzada de Personas",label_en:"Inter-American Convention on Forced Disappearance of Persons",label_pt:"Convenção Interamericana sobre Desaparecimento Forçado de Pessoas"},ciedpd:{key_es:"CIEDPD",key_en:"IACEDAPD",key_pt:"CIEDPD",label_es:"Convención Interamericana para la Eliminación de todas las Formas de Discriminación contra las Personas con Discapacidad",label_en:"Inter-American Convention on the Elimination of All Forms of Discrimination Against Persons with Disabilities",label_pt:"Convenção Interamericana para a eliminação de todas as formas de discriminação contra as pessoas portadoras de deficiência"},cbdopara:{key_es:"CBdoPara",key_en:"IACBdoPara",key_pt:"CIBdoPara",label_es:"Convención Interamericana para Prevenir, Sancionar y Erradicar la Violencia contra la Mujer 'Convención de Belem Do Para'",label_en:"Inter-American Convention on the Prevention, Punishment and Eradication of Violence Against Women 'Convention of Belém Do Pará'",label_pt:"Convenção Interamericana para Prevenir, Punir e Erradicar a violência contra a mulher 'Convenção de Belém do Pará'"},cicc:{key_es:"CICC",key_en:"IACAC",key_pt:"CICC",label_es:"Convención Interamericana contra la Corrupción",label_en:"Inter-American Convention Against Corruption",label_pt:"Convenção Interamericana contra a corrupção"},cdi:{key_es:"CDI",key_en:"IADC",key_pt:"CDI",label_es:"Carta Democrática Interamericana",label_en:"Inter-American Democratic Charter",label_pt:"Carta Democrática Interamericana"},cicdi:{key_es:"CICDI",key_en:"IACDI",key_pt:"CICDI",label_es:"Convención Interamericana contra toda Forma de Discriminación e Intolerancia",label_en:"Inter-American Convention against all forms of Discrimination and Intolerance",label_pt:"Convenção Interamericana contra toda a Forma de Discriminação y Intolerância "},cirdri:{key_es:"CIRDRI",key_en:"IACRDRI",key_pt:"CIRDRI",label_es:"Convención Interamericana contra el Racismo, la Discriminación Racial y Formas Conexas de Intolerancia",label_en:"Inter-American Convention against Racism, Racial Discrimination and related forms of Intolerance",label_pt:"Convenção Interamericana contra o Racismo, a Discriminação Racial y Formas Correlatas de Intolerância"},"e-cidh":{key_es:"E-CIDH",key_en:"S-IACHR",key_pt:"E-CIDH",label_es:"Estatuto de la Comisión Interamericana de Derechos Humanos ",label_en:"Statute of the Inter-American Commission on Human Rights",label_pt:"Estatuto da Comissão Interamericana de Direitos Humanos"},"e-corteidh":{key_es:"E-CorteIDH",key_en:"S-IACoHR",key_pt:"E-CorteIDH",label_es:"Estatuto de la Corte Interamericana de Derechos Humanos ",label_en:"Statute of the Inter-American Court of Human Rights",label_pt:"Estatuto da Corte Interamericana de Direitos Humanos"},"r-cidh (2013)":{key_es:"R-CIDH (2013)",key_en:"R-IACHR (2013)",key_pt:"R-CIDH (2013)",label_es:"Reglamento de la Comisión Interamericana de Derechos Humanos (2013 – vigente)",label_en:"Rules of Procedure of the Inter-American Commission on Human Rights (2013 - in force)",label_pt:"Regulamento da Comissão Interamericana de Direitos Humanos (2013 – em vigor)"},"r-cidh (2011)":{key_es:"R-CIDH (2011)",key_en:"R-IACHR (2011)",key_pt:"R-CIDH (2011)",label_es:"Reglamento de la Comisión Interamericana de Derechos Humanos (2011)",label_en:"Rules of Procedure of the Inter-American Commission on Human Rights (2011)",label_pt:"Regulamento da Comissão Interamericana de Direitos Humanos (2011)"},"r-cidh (2009)":{key_es:"R-CIDH (2009)",key_en:"R-IACHR (2009)",key_pt:"R-CIDH (2009)",label_es:"Reglamento de la Comisión Interamericana de Derechos Humanos (2009)",label_en:"Rules of Procedure of the Inter-American Commission on Human Rights (2009)",label_pt:"Regulamento da Comissão Interamericana de Direitos Humanos (2009)"},"r-cidh (2008)":{key_es:"R-CIDH (2008)",key_en:"R-IACHR (2008)",key_pt:"R-CIDH (2008)",label_es:"Reglamento de la Comisión Interamericana de Derechos Humanos (2008)",label_en:"Rules of Procedure of the Inter-American Commission on Human Rights (2008)",label_pt:"Regulamento da Comissão Interamericana de Direitos Humanos (2008)"},"r-cidh (2006)":{key_es:"R-CIDH (2006)",key_en:"R-IACHR (2006)",key_pt:"R-CIDH (2006)",label_es:"Reglamento de la Comisión Interamericana de Derechos Humanos (2006)",label_en:"Rules of Procedure of the Inter-American Commission on Human Rights (2006)",label_pt:"Regulamento da Comissão Interamericana de Direitos Humanos (2006)"},"r-cidh (2003)":{key_es:"R-CIDH (2003)",key_en:"R-IACHR (2003)",key_pt:"R-CIDH (2003)",label_es:"Reglamento de la Comisión Interamericana de Derechos Humanos (2003)",label_en:"Rules of Procedure of the Inter-American Commission on Human Rights (2003)",label_pt:"Regulamento da Comissão Interamericana de Direitos Humanos (2003)"},"r-cidh (2002)":{key_es:"R-CIDH (2002)",key_en:"R-IACHR (2002)",key_pt:"R-CIDH (2002)",label_es:"Reglamento de la Comisión Interamericana de Derechos Humanos (2002)",label_en:"Rules of Procedure of the Inter-American Commission on Human Rights (2002)",label_pt:"Regulamento da Comissão Interamericana de Direitos Humanos (2002)"},"r-cidh (2000)":{key_es:"R-CIDH (2000)",key_en:"R-IACHR (2000)",key_pt:"R-CIDH (2000)",label_es:"Reglamento de la Comisión Interamericana de Derechos Humanos (2000)",label_en:"Rules of Procedure of the Inter-American Commission on Human Rights (2000)",label_pt:"Regulamento da Comissão Interamericana de Direitos Humanos (2000)"},"r-cidh (1980)":{key_es:"R-CIDH (1980)",key_en:"R-IACHR (1980)",key_pt:"R-CIDH (1980)",label_es:"Reglamento de la Comisión Interamericana de Derechos Humanos (1980)",label_en:"Rules of Procedure of the Inter-American Commission on Human Rights (1980)",label_pt:"Regulamento da Comissão Interamericana de Direitos Humanos (1980)"},"r-cidh (1966)":{key_es:"R-CIDH (1966)",key_en:"R-IACHR (1966)",key_pt:"R-CIDH (1966)",label_es:"Reglamento de la Comisión Interamericana de Derechos Humanos (1966)",label_en:"Rules of Procedure of the Inter-American Commission on Human Rights (1966)",label_pt:"Regulamento da Comissão Interamericana de Direitos Humanos (1966)"},"r-corteidh (2009/noviembre)":{key_es:"R-CorteIDH (2009/noviembre)",key_en:"R-IACoHR (2009/november)",key_pt:"R-CorteIDH (2009/novembro)",label_es:"Reglamento de la Corte Interamericana de Derechos Humanos (2009/noviembre)",label_en:"Rules of Procedure of the Inter-American Court of Human Rights (2009/november)",label_pt:"Regulamento da Corte Interamericana de Direitos Humanos (2009/novembro)"},"r-corteidh (2009/enero)":{key_es:"R-CorteIDH (2009/enero)",key_en:"R-IACoHR (2009/january)",key_pt:"R-CorteIDH (2009/janeiro)",label_es:"Reglamento de la Corte Interamericana de Derechos Humanos (2009/enero)",label_en:"Rules of Procedure of the Inter-American Court of Human Rights (2009/january)",label_pt:"Regulamento da Corte Interamericana de Direitos Humanos (2009/janeiro)"},"r-corteidh (2003)":{key_es:"R-CorteIDH (2003)",key_en:"R-IACoHR (2003)",key_pt:"R-CorteIDH (2003)",label_es:"Reglamento de la Corte Interamericana de Derechos Humanos (2003)",label_en:"Rules of Procedure of the Inter-American Court of Human Rights (2003)",label_pt:"Regulamento da Corte Interamericana de Direitos Humanos (2003)"},"r-corteidh (2000)":{key_es:"R-CorteIDH (2000)",key_en:"R-IACoHR (2000)",key_pt:"R-CorteIDH (2000)",label_es:"Reglamento de la Corte Interamericana de Derechos Humanos (2000)",label_en:"Rules of Procedure of the Inter-American Court of Human Rights (2000)",label_pt:"Regulamento da Corte Interamericana de Direitos Humanos (2000)"},"r-corteidh (1996)":{key_es:"R-CorteIDH (1996)",key_en:"R-IACoHR (1996)",key_pt:"R-CorteIDH (1996)",label_es:"Reglamento de la Corte Interamericana de Derechos Humanos (1996)",label_en:"Rules of Procedure of the Inter-American Court of Human Rights (1996)",label_pt:"Regulamento da Corte Interamericana de Direitos Humanos (1996)"},"r-corteidh (1991)":{key_es:"R-CorteIDH (1991)",key_en:"R-IACoHR (1991)",key_pt:"R-CorteIDH (1991)",label_es:"Reglamento de la Corte Interamericana de Derechos Humanos (1991)",label_en:"Rules of Procedure of the Inter-American Court of Human Rights (1991)",label_pt:"Regulamento da Corte Interamericana de Direitos Humanos (1991)"},"r-corteidh (1980)":{key_es:"R-CorteIDH (1980)",key_en:"R-IACoHR (1980)",key_pt:"R-CorteIDH (1980)",label_es:"Reglamento de la Corte Interamericana de Derechos Humanos (1980)",label_en:"Rules of Procedure of the Inter-American Court of Human Rights (1980)",label_pt:"Regulamento da Corte Interamericana de Direitos Humanos (1980)"},rcfal:{key_es:"RCFAL",key_en:"RICLAF",key_pt:"RCFAJ",label_es:"Reglamento de la Comisión Interamericana de derechos humanos sobre el Fondo de Asistencia Legal del Sistema Interamericano de Derechos Humanos",label_en:"Rules of Procedure of the Inter-American Commission of Human Rights on the Legal Assistance Fund of the Inter-American Human Rights System",label_pt:"Regulamento da Comissão Interamericana sobre o Fundo de Assistência Jurídica do Sistema Interamericano de Direitos Humanos"},rcofalv:{key_es:"RCoFALV",key_en:"RCoVLAF",key_pt:"RCoFALV",label_es:"Reglamento de la Corte Interamericana de derechos humanos sobre el funcionamiento del fondo de asistencia legal de victimas",label_en:"Rules of Procedure of the Inter-American Court of Human Rights on the Victims Legal Assistance Fund",label_pt:"Regulamento da Corte Interamericana de Direitos Humanos sobre o funcionamento do Fundo de Assistência Jurídica às Vítimas"}}},"./app/react/Templates/reducers/reducer.js":
/*!*************************************************!*\
  !*** ./app/react/Templates/reducers/reducer.js ***!
  \*************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! redux */"./node_modules/redux/es/index.js"),s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! ./uiReducer.js */"./app/react/Templates/reducers/uiReducer.js"),a=n(/*! ../utils/templateCommonProperties */"./app/react/Templates/utils/templateCommonProperties.js");t.default=Object(o.combineReducers)({data:Object(s.modelReducer)("template.data",{name:"",properties:[],commonProperties:a.default.get()}),formState:Object(s.formReducer)("template.data"),uiState:r.default})},"./app/react/Templates/reducers/uiReducer.js":
/*!***************************************************!*\
  !*** ./app/react/Templates/reducers/uiReducer.js ***!
  \***************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return i});var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n.n(o),r=n(/*! ../actions/actionTypes */"./app/react/Templates/actions/actionTypes.js");const a={thesauris:[],templates:[],propertyBeingDeleted:null};function i(e=a,t={}){return t.type===r.EDIT_PROPERTY?e.set("editingProperty",t.id):t.type===r.SET_THESAURIS?e.set("thesauris",t.thesauris):t.type===r.SET_TEMPLATES?e.set("templates",t.templates):t.type===r.SAVING_TEMPLATE?e.set("savingTemplate",!0):t.type===r.TEMPLATE_SAVED?e.set("savingTemplate",!1):s.a.fromJS(e)}},"./app/react/Templates/scss/templates.scss":
/*!*************************************************!*\
  !*** ./app/react/Templates/scss/templates.scss ***!
  \*************************************************/
/*! no static exports found */function(e,t,n){},"./app/react/Templates/utils/getFieldLabel.js":
/*!****************************************************!*\
  !*** ./app/react/Templates/utils/getFieldLabel.js ***!
  \****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return s});var o=n(/*! ../../I18N */"./app/react/I18N/index.js");function s(e,t){const n=t&&t.toJS?t.toJS():t;return"title"===e?function(e){const t=e.commonProperties.find(e=>"title"===e.name);return Object(o.t)(e._id,t.label)}(n):e.startsWith("metadata.")&&n&&function(e,t){const n=e.split(".")[1],s=t.properties.find(e=>e.name===n);return s&&Object(o.t)(t._id,s.label)||e}(e,n)||e}},"./app/react/Templates/utils/templateCommonProperties.js":
/*!***************************************************************!*\
  !*** ./app/react/Templates/utils/templateCommonProperties.js ***!
  \***************************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),t.default={get:()=>[{localID:"commonTitle",label:"Title",name:"title",isCommonProperty:!0,type:"text",prioritySorting:!1},{localID:"commonCreationDate",label:"Date added",name:"creationDate",isCommonProperty:!0,type:"date",prioritySorting:!1}]}},"./app/react/Thesauris/EditThesauri.js":
/*!*********************************************!*\
  !*** ./app/react/Thesauris/EditThesauri.js ***!
  \*********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return l});n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! ../App/RouteHandler */"./app/react/App/RouteHandler.js"),r=n(/*! ./components/ThesauriForm */"./app/react/Thesauris/components/ThesauriForm.js"),a=n(/*! ./actions/thesaurisActions */"./app/react/Thesauris/actions/thesaurisActions.js"),i=n(/*! ./ThesaurisAPI */"./app/react/Thesauris/ThesaurisAPI.js");class l extends s.default{static async requestState(e){const t=await i.default.get(e);return[Object(a.editThesauri)(t[0])]}render(){return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(r.default,{})}}},"./app/react/Thesauris/NewThesauri.js":
/*!********************************************!*\
  !*** ./app/react/Thesauris/NewThesauri.js ***!
  \********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return l});n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! ../App/RouteHandler */"./app/react/App/RouteHandler.js"),r=n(/*! ./components/ThesauriForm */"./app/react/Thesauris/components/ThesauriForm.js"),a=n(/*! ../BasicReducer */"./app/react/BasicReducer/index.js"),i=n(/*! ./ThesaurisAPI */"./app/react/Thesauris/ThesaurisAPI.js");class l extends s.default{static async requestState(e){const t=await i.default.get(e);return[a.actions.set("thesauris",t)]}render(){return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(r.default,{new:!0})}}},"./app/react/Thesauris/ThesaurisAPI.js":
/*!*********************************************!*\
  !*** ./app/react/Thesauris/ThesaurisAPI.js ***!
  \*********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ../utils/api */"./app/react/utils/api.js");t.default={get:e=>o.default.get("thesauris",e).then(e=>e.json.rows),getDictionaries:e=>o.default.get("dictionaries",e).then(e=>e.json.rows),save:e=>o.default.post("thesauris",e).then(e=>e.json),delete:e=>o.default.delete("thesauris",e).then(e=>e.json)}},"./app/react/Thesauris/actions/actionTypes.js":
/*!****************************************************!*\
  !*** ./app/react/Thesauris/actions/actionTypes.js ***!
  \****************************************************/
/*! exports provided: THESAURI_SAVED, EDIT_THESAURI, THESAURI_DELETED, SET_THESAURIS, RESET_THESAURI */function(e,t,n){"use strict";n.r(t),n.d(t,"THESAURI_SAVED",function(){return o}),n.d(t,"EDIT_THESAURI",function(){return s}),n.d(t,"THESAURI_DELETED",function(){return r}),n.d(t,"SET_THESAURIS",function(){return a}),n.d(t,"RESET_THESAURI",function(){return i});const o="THESAURI_SAVED",s="EDIT_THESAURI",r="THESAURI_DELETED",a="SET_THESAURIS",i="RESET_THESAURI"},"./app/react/Thesauris/actions/thesauriActions.js":
/*!********************************************************!*\
  !*** ./app/react/Thesauris/actions/thesauriActions.js ***!
  \********************************************************/
/*! exports provided: saveThesauri, importThesauri, sortValues, updateValues, addValue, addGroup, removeValue */function(e,t,n){"use strict";n.r(t),n.d(t,"saveThesauri",function(){return y}),n.d(t,"importThesauri",function(){return v}),n.d(t,"sortValues",function(){return b}),n.d(t,"updateValues",function(){return g}),n.d(t,"addValue",function(){return j}),n.d(t,"addGroup",function(){return S}),n.d(t,"removeValue",function(){return _});var o=n(/*! superagent */"./node_modules/superagent/lib/client.js"),s=n.n(o),r=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),a=n(/*! ../../I18N */"./app/react/I18N/index.js"),i=n(/*! ../../../shared/uniqueID */"./app/shared/uniqueID.js"),l=n(/*! ./actionTypes */"./app/react/Thesauris/actions/actionTypes.js"),c=n(/*! ../../config */"./app/react/config.js"),d=n(/*! ../ThesaurisAPI */"./app/react/Thesauris/ThesaurisAPI.js"),u=n(/*! ../../Notifications/actions/notificationsActions */"./app/react/Notifications/actions/notificationsActions.js"),p=n(/*! ../../utils/advancedSort */"./app/react/utils/advancedSort.js"),m=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js");function f(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){return t=>d.default.save(new m.RequestParams(e)).then(e=>{t({type:l.THESAURI_SAVED}),u.notify(Object(a.t)("System","Thesaurus saved",null,!1),"success")(t),t(r.actions.change("thesauri.data",e))})}function v(e,t){return n=>new Promise(o=>s.a.post(`${c.APIURL}thesauris`).set("Accept","application/json").set("X-Requested-With","XMLHttpRequest").field("thesauri",JSON.stringify(e)).attach("file",t,t.name).on("response",e=>{const t=JSON.parse(e.text);200===e.status?(n({type:l.THESAURI_SAVED}),u.notify(Object(a.t)("System","Data imported",null,!1),"success")(n),n(r.actions.change("thesauri.data",t))):u.notify(Object(a.t)("System",t.error,null,!1),"danger")(n),o()}).end())}function b(){return(e,t)=>{let n=t().thesauri.data.values.slice(0);n=(n=Object(p.advancedSort)(n,{property:"label"})).map(e=>{const t=Object.assign({},e);return t.values&&(t.values=t.values.slice(0),t.values=Object(p.advancedSort)(t.values,{property:"label"})),t}),e(r.actions.change("thesauri.data.values",n))}}function g(e,t){return(n,o)=>{const s=o().thesauri.data.values.slice(0),a=function(e){const t=[...e],n=t.reduce((e,n,o)=>!n.label&&o<t.length?e.concat([o]):e,[]);if(n.length>1)return null;if(1===n.length){const e=n[0],o=t[e];t.splice(e,1),t.push(o)}return t}(e);if(a){if(void 0!==t){if(function(e){return e.some(e=>e.values)}(a))return;return s[t]=function(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};f(n,!0).forEach(function(t){h(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):f(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}({},s[t],{values:a}),void n(r.actions.change("thesauri.data.values",s))}(function(e,t){return t.some(t=>!!t.values&&!e.some(e=>e.id===t.id))})(e,s)||n(r.actions.change("thesauri.data.values",a))}}}function j(e){return(t,n)=>{const o=n().thesauri.data.values.slice(0);void 0!==e?(o[e]=Object.assign({},o[e]),o[e].values=o[e].values.slice(0),o[e].values.push({label:"",id:Object(i.default)()})):o.push({label:"",id:Object(i.default)()}),t(r.actions.change("thesauri.data.values",o))}}function S(){return(e,t)=>{const n=t().thesauri.data.values.slice(0),o=n.length-1,s={label:"",id:Object(i.default)(),values:[{label:"",id:Object(i.default)()}]};n[o].values?n.push(s):n[o]=s,e(r.actions.change("thesauri.data.values",n))}}function _(e,t){return(n,o)=>{const s=o().thesauri.data.values.slice(0);"number"==typeof t?(s[t]=Object.assign({},s[t]),s[t].values=s[t].values.slice(0),s[t].values.splice(e,1)):s.splice(e,1),n(r.actions.change("thesauri.data.values",s))}}},"./app/react/Thesauris/actions/thesaurisActions.js":
/*!*********************************************************!*\
  !*** ./app/react/Thesauris/actions/thesaurisActions.js ***!
  \*********************************************************/
/*! exports provided: editThesauri, deleteThesauri, checkThesauriCanBeDeleted, reloadThesauris */function(e,t,n){"use strict";n.r(t),n.d(t,"editThesauri",function(){return l}),n.d(t,"deleteThesauri",function(){return c}),n.d(t,"checkThesauriCanBeDeleted",function(){return d}),n.d(t,"reloadThesauris",function(){return u});var o=n(/*! ../ThesaurisAPI */"./app/react/Thesauris/ThesaurisAPI.js"),s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),a=n(/*! ../../Templates/TemplatesAPI */"./app/react/Templates/TemplatesAPI.js"),i=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js");function l(e){return t=>{t(s.actions.reset("thesauri.data")),t(s.actions.load("thesauri.data",e))}}function c(e){return t=>o.default.delete(new i.RequestParams({_id:e._id})).then(()=>{t(r.actions.remove("dictionaries",e))})}function d(e){return()=>a.default.countByThesauri(new i.RequestParams({_id:e._id})).then(e=>e?Promise.reject():null)}function u(){return e=>o.default.get().then(t=>{e(r.actions.set("thesauris",t))})}},"./app/react/Thesauris/components/ThesauriForm.js":
/*!********************************************************!*\
  !*** ./app/react/Thesauris/components/ThesauriForm.js ***!
  \********************************************************/
/*! exports provided: ThesauriForm, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ThesauriForm",function(){return j}),n.d(t,"mapStateToProps",function(){return S});var o,s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! redux */"./node_modules/redux/es/index.js"),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),l=n.n(i),c=n(/*! ../../Layout */"./app/react/Layout/index.js"),d=n(/*! ../../Layout/DragAndDrop */"./app/react/Layout/DragAndDrop/index.js"),u=n(/*! ../../UI */"./app/react/UI/index.js"),p=n(/*! ../../Metadata/helpers/validator */"./app/react/Metadata/helpers/validator.js"),m=n(/*! ../actions/thesauriActions */"./app/react/Thesauris/actions/thesauriActions.js"),f=n(/*! ../../DocumentForm/components/FormGroup */"./app/react/DocumentForm/components/FormGroup.js"),h=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),y=n(/*! ./ThesauriFormItem */"./app/react/Thesauris/components/ThesauriFormItem.js");function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function b(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){const t=Object.assign({},e);return t.values=t.values.filter(e=>e.label).filter(e=>!e.values||e.values.length).map(e=>{const t=Object.assign({},e);return t.values&&(t.values=t.values.filter(e=>e.label)),t}),t}class j extends i.Component{static validation(e,t){return{name:{duplicated:n=>!e.find(e=>"template"!==e.type&&e._id!==t&&e.name.trim().toLowerCase()===n.trim().toLowerCase()),required:p.notEmpty}}}constructor(e){super(e),this.save=this.save.bind(this),this.renderItem=this.renderItem.bind(this),this.onChange=this.onChange.bind(this),this.onImportClicked=this.onImportClicked.bind(this),this.import=this.import.bind(this),this.fileInputRef=l.a.createRef(),this.fileFormRef=l.a.createRef()}componentWillMount(){this.firstLoad=!0}componentWillReceiveProps(e){e.thesauri.values.forEach((t,n)=>{!t.values||t.values.length&&""===t.values[t.values.length-1].label||e.addValue(n)}),e.thesauri.values.length&&""===e.thesauri.values[e.thesauri.values.length-1].label||e.addValue()}componentDidUpdate(e){if(this.firstLoad)return void(this.firstLoad=!1);const{values:t}=this.props.thesauri,n=e.thesauri.values,o=t.length>e.thesauri.values.length,s=t.length&&t[t.length-1].values,r=n.length&&n[n.length-1].values;!s||r&&!o||this.groups[this.groups.length-1].focus()}componentWillUnmount(){this.props.resetForm("thesauri.data"),this.props.setInitial("thesauri.data")}onChange(e,t){this.props.updateValues(e,t)}onImportClicked(){this.fileInputRef.current.click()}import(){const e=this.fileInputRef.current.files[0];this.fileFormRef.current.reset();const t=g(this.props.thesauri);e&&this.props.importThesauri(t,e)}save(e){const t=g(e);this.props.saveThesauri(t)}renderItem(e,t){return l.a.createElement(y.default,{ref:e=>this.groups.push(e),value:e,index:t,removeValue:this.props.removeValue,onChange:this.onChange})}render(){const e=this.props.new,t=this.props.thesauri._id,{values:n}=this.props.thesauri;return!(!e&&!t)&&(this.groups=[],b("div",{className:"thesauri"},void 0,b(s.Form,{model:"thesauri.data",onSubmit:this.save,validators:j.validation(this.props.thesauris.toJS(),this.props.thesauri._id)},void 0,b("div",{className:"panel panel-default thesauri"},void 0,b("div",{className:"panel-heading"},void 0,l.a.createElement(f.default,v({},this.props.state.name,{submitFailed:this.props.state.submitFailed}),b(s.Field,{model:".name"},void 0,b("input",{id:"thesauriName",className:"form-control",type:"text",placeholder:"Thesauri name"}),b(h.default,{if:this.props.state.$form.touched&&this.props.state.name&&this.props.state.name.errors.duplicated},void 0,b("div",{className:"validation-error"},void 0,b(u.Icon,{icon:"exclamation-triangle",size:"xs"})," Duplicated name"))))),b("div",{className:"thesauri-values"},void 0,b("div",{className:""},void 0,b("b",{},void 0,"Items:")),b(d.DragAndDropContainer,{onChange:this.onChange,renderItem:this.renderItem,items:n,iconHandle:!0})),b("div",{className:"settings-footer"},void 0,b(c.BackButton,{to:"/settings/dictionaries"}),b("a",{className:"btn btn-primary",onClick:this.props.addGroup},void 0,b(u.Icon,{icon:"plus"}),b("span",{className:"btn-label"},void 0,"Add group")),b("a",{className:"btn btn-primary",onClick:this.props.sortValues},void 0,b(u.Icon,{icon:"sort-alpha-down"}),b("span",{className:"btn-label"},void 0,"Sort")),b("button",{type:"button",className:"btn btn-primary import-template",onClick:this.onImportClicked},void 0,b(u.Icon,{icon:"upload"}),b("span",{className:"btn-label"},void 0,"Import")),b("button",{type:"submit",className:"btn btn-success save-template"},void 0,b(u.Icon,{icon:"save"}),b("span",{className:"btn-label"},void 0,"Save"))))),l.a.createElement("form",{ref:this.fileFormRef,style:{display:"none"}},l.a.createElement("input",{ref:this.fileInputRef,type:"file",accept:"text/csv",style:{display:"none"},onChange:this.import}))))}}function S(e){return{thesauri:e.thesauri.data,thesauris:e.thesauris,state:e.thesauri.formState}}j.defaultProps={new:!1},t.default=Object(a.connect)(S,function(e){return Object(r.bindActionCreators)({saveThesauri:m.saveThesauri,importThesauri:m.importThesauri,addValue:m.addValue,addGroup:m.addGroup,sortValues:m.sortValues,removeValue:m.removeValue,updateValues:m.updateValues,resetForm:s.actions.reset,setInitial:s.actions.setInitial,validate:s.actions.validate},e)},null,{withRef:!0})(j)},"./app/react/Thesauris/components/ThesauriFormField.js":
/*!*************************************************************!*\
  !*** ./app/react/Thesauris/components/ThesauriFormField.js ***!
  \*************************************************************/
/*! exports provided: ThesauriFormField, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ThesauriFormField",function(){return l});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),a=n(/*! ../../UI */"./app/react/UI/index.js");function i(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class l extends s.Component{constructor(e){super(e),this.focus=(()=>{this.groupInput.focus()})}renderValue(e,t,n){const{removeValue:o}=this.props;let s=`thesauri.data.values[${t}].label`;return void 0!==n&&(s=`thesauri.data.values[${n}].values[${t}].label`),i("div",{},`item-${n||""}${t}`,i(r.Field,{model:s},void 0,i("input",{className:"form-control",type:"text",placeholder:"Item name"}),i("button",{tabIndex:t+500,type:"button",className:"btn btn-xs btn-danger",onClick:o.bind(null,t,n)},void 0,i(a.Icon,{icon:"trash-alt"})," Delete")))}render(){const{value:e,index:t,groupIndex:n}=this.props;return this.renderValue(e,t,n)}}l.defaultProps={groupIndex:void 0},t.default=l},"./app/react/Thesauris/components/ThesauriFormGroup.js":
/*!*************************************************************!*\
  !*** ./app/react/Thesauris/components/ThesauriFormGroup.js ***!
  \*************************************************************/
/*! exports provided: ThesauriFormGroup, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ThesauriFormGroup",function(){return m});var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js")),i=n(/*! ../../Layout/DragAndDrop */"./app/react/Layout/DragAndDrop/index.js"),l=n(/*! ../../UI */"./app/react/UI/index.js"),c=n(/*! ../../DocumentForm/components/FormGroup */"./app/react/DocumentForm/components/FormGroup.js"),d=n(/*! ./ThesauriFormField */"./app/react/Thesauris/components/ThesauriFormField.js");function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}class m extends s.Component{constructor(e){super(e),this.focus=(()=>{this.groupInput.focus()}),this.renderItem=this.renderItem.bind(this),this.onChange=this.onChange.bind(this),this.removeGroup=this.removeGroup.bind(this)}onChange(e){const{index:t,onChange:n}=this.props;n(e,t)}removeGroup(){const{index:e,removeValue:t}=this.props;t(e)}renderItem(e,t){const{index:n}=this.props;return r.a.createElement(d.default,p({},this.props,{value:e,index:t,groupIndex:n}))}render(){const{value:e,index:t}=this.props;return u("div",{className:"group"},`group-${t}`,u(c.default,{},void 0,u(a.Field,{model:`thesauri.data.values[${t}].label`},void 0,r.a.createElement("input",{ref:e=>{this.groupInput=e},className:"form-control",type:"text",placeholder:"Group name"}),u("button",{tabIndex:t+500,type:"button",className:"btn btn-xs btn-danger",onClick:this.removeGroup},void 0,u(l.Icon,{icon:"trash-alt"})," Delete Group"))),u(i.DragAndDropContainer,{items:e.values,iconHandle:!0,renderItem:this.renderItem,onChange:this.onChange}))}}t.default=m},"./app/react/Thesauris/components/ThesauriFormItem.js":
/*!************************************************************!*\
  !*** ./app/react/Thesauris/components/ThesauriFormItem.js ***!
  \************************************************************/
/*! exports provided: ThesauriFormItem, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ThesauriFormItem",function(){return l});n(/*! prop-types */"./node_modules/prop-types/index.js");var o=n(/*! react */"./node_modules/react/index.js"),s=n.n(o),r=n(/*! ./ThesauriFormField */"./app/react/Thesauris/components/ThesauriFormField.js"),a=n(/*! ./ThesauriFormGroup */"./app/react/Thesauris/components/ThesauriFormGroup.js");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}class l extends o.Component{constructor(e){super(e),this.focus=(()=>this.groupItem&&this.groupItem.focus())}render(){const{value:e}=this.props;return e.values?s.a.createElement(a.default,i({ref:e=>{this.groupItem=e}},this.props)):s.a.createElement(r.default,this.props)}}t.default=l},"./app/react/Thesauris/reducers/reducer.js":
/*!*************************************************!*\
  !*** ./app/react/Thesauris/reducers/reducer.js ***!
  \*************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! redux */"./node_modules/redux/es/index.js"),s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),r=n(/*! ../../../shared/uniqueID */"./app/shared/uniqueID.js");t.default=Object(o.combineReducers)({data:Object(s.modelReducer)("thesauri.data",{name:"",values:[{label:"",id:Object(r.default)()}]}),formState:Object(s.formReducer)("thesauri.data",{name:"",values:[{label:"",id:Object(r.default)()}]})})},"./app/react/Timeline/components/TimelineViewer.js":
/*!*********************************************************!*\
  !*** ./app/react/Timeline/components/TimelineViewer.js ***!
  \*********************************************************/
/*! exports provided: TimelineViewer, default */function(e,t,n){"use strict";n.r(t),n.d(t,"TimelineViewer",function(){return C});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! ../../components/Elements/Loader */"./app/react/components/Elements/Loader.js"),i=n(/*! ../../I18N */"./app/react/I18N/index.js"),l=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),c=n(/*! ../../Documents/DocumentsAPI */"./app/react/Documents/DocumentsAPI.js"),d=n(/*! ../../Entities/EntitiesAPI */"./app/react/Entities/EntitiesAPI.js"),u=n(/*! ../../Viewer/referencesAPI */"./app/react/Viewer/referencesAPI.js"),p=n(/*! ../../Metadata/helpers/formater */"./app/react/Metadata/helpers/formater.js"),m=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js"),f=n(/*! ../../UI */"./app/react/UI/index.js"),h=n(/*! moment */"./node_modules/moment/moment.js"),y=n.n(h),v=n(/*! ../utils/timelineFixedData */"./app/react/Timeline/utils/timelineFixedData.js");function b(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const g=Object.keys(v.renderableTemplates).map(e=>v.renderableTemplates[e]),j=Object.keys(v.renderableTemplates).reduce((e,t)=>Object.assign(e,{[v.renderableTemplates[t]]:v.datePropertyOverrides[t]||"fecha"}),{}),S=e=>u.default.get(new m.RequestParams({sharedId:e})),_=(e,t)=>{let n=Promise.resolve([]);const o=e.find(e=>e.entityData.template===t);return o&&(n=S(o.entityData.sharedId)),n},x=e=>{const t=e.map(e=>{return("document"===e.entityData.type?c.default.get:d.default.get)(new m.RequestParams({sharedId:e.entityData.sharedId}))});return Promise.all(t)},w=(e,t,n)=>{const o=y.a.utc(1e3*t).format("YYYY");e[o]=e[o]||[],e[o].push(n)},O=e=>{const t=Number(y()().format("YYYY")),{minYear:n,maxYear:o}=Object.keys(e).reduce((e,t)=>(e.minYear=Math.min(e.minYear,Number(t)),e.maxYear=Math.max(e.maxYear,Number(t)),e),{minYear:t,maxYear:0});for(let s=n-3;s<(o||t)+3;s+=1)e[s]=e[s]||[];return e},T=e=>["main","related"].reduce((t,n)=>(t[n]=Object.keys(e).reduce((t,o)=>(t.years[o]=e[o].filter(e=>"main"===n?"related"!==e.origin:"related"===e.origin),t),{years:{},label:"",className:""}),t),{main:{},related:{}});class C extends s.Component{getTemplateType(e){return this.plainTemplates.reduce((t,n,o)=>n._id===e?`timeline-item-type-${o}`:t,"")}getDates(e,t){const n=this.props.templates.reduce((e,t)=>(t.get("properties").forEach(t=>{"multidate"!==t.get("type")&&"date"!==t.get("type")||e.push(t.get("name"))}),e),[]);return e.metadata.reduce((e,o)=>(-1!==n.indexOf(o.name)&&("date"===o.type&&e.push({label:o.label,timestamp:o.timestamp,origin:t}),"multidate"===o.type&&o.value.forEach(n=>{e.push({label:o.label,timestamp:n.timestamp,origin:t})})),e),[])}assignActiveYears(e){return Object.keys(e).forEach(t=>{e[t].active=Object.keys(e[t].years).reduce((n,o)=>(e[t].years[o].length&&(n.start||(n.start=o),n.end=o),n),{start:null,end:null})}),e}sortEvents(e){return Object.keys(e).reduce((t,n)=>(e[n].sort((e,t)=>Number(e.timestamp)>Number(t.timestamp)),!t&&e[n].length?(e[n][0].firstMilestone=!0,!0):t),null),e}arrangeTracks(e,t,n){const o={};e.forEach(e=>{const t=g.indexOf(-1!==e.data.template),n=null!==e.data.metadata[j[e.data.template]];t&&n&&(w(o,e.data.metadata[j[e.data.template]],e),this.assignAdditionalData(e))}),t.forEach(e=>{w(o,e.timestamp,e)});const s=this.assignActiveYears(T(O(this.sortEvents(o))));return n||delete s.related,s}assignTrackLabels(e,t){const n=this.plainTemplates.find(e=>e._id===(t?v.matterTemplate:v.caseTemplate));if(e.main.label=Object(i.t)(n._id,n.name),e.main.className=this.getTemplateType(n._id),e.related){const t=this.plainTemplates.find(e=>e._id===v.matterTemplate);e.related.label=Object(i.t)(t._id,t.name),e.related.className=this.getTemplateType(t._id)}return e}getRelatedEntity(e,t){let n=Promise.resolve(null);const o=e.find(e=>e.entityData.template===(t?v.matterTemplate:v.caseTemplate));return o&&(n=d.default.get(new m.RequestParams({sharedId:o.entityData.sharedId})).then(e=>p.default.prepareMetadata(e[0],this.props.templates,this.props.thesauris))),n}getTimelineInfo(e){let t;const n=e.template===v.caseTemplate;this.plainTemplates=this.props.templates.toJS(),this.plainThesauris=this.props.thesauris.toJS(),S(e.sharedId).then(e=>{const t=_(e,n?v.matterTemplate:v.caseTemplate);return Promise.all([this.getRelatedEntity(e,n),e,t])}).then(([o,s,r])=>(t=this.filterUsefulReferences(e,s,r,n),Promise.all([o,x(t),r]))).then(([o,s,r])=>{const a=t.map((e,t)=>{const{parentTemplate:n,origin:o}=e;return{reference:e,parentTemplate:n,origin:o,data:s[t][0]}});let i=n?"main":"related";i=n||o?i:"main";const l=this.getDates(e,i),c=o?this.getDates(o,n?"related":"main"):[],d=l.concat(c),u=!n&&!o;this.setState({references:a,tracks:this.assignTrackLabels(this.arrangeTracks(a,d,r.length),u)})})}assignAdditionalData(e){Object.keys(v.renderableTemplates).forEach(t=>{e.data.template===v.renderableTemplates[t]&&(e.additionalData={type:t})}),e.additionalData.className=this.getTemplateType(e.data.template),e.additionalData.date=e.data.metadata[j[e.data.template]],e.timestamp=e.data.metadata[j[e.data.template]]}filterUsefulReferences(e,t,n,o){const s=this.plainTemplates.find(t=>t._id===e.template).name,r=this.getTemplateType(e.template),a=this.plainTemplates.find(e=>e._id===(o?v.matterTemplate:v.caseTemplate)).name,i=this.getTemplateType(o?v.matterTemplate:v.caseTemplate);return t.map(e=>(e.parentTemplate={label:s,className:r},e.origin=o||!n.length?"main":"related",e)).concat(n.map(e=>(e.parentTemplate={label:a,className:i},e.origin=o?"related":"main",e))).filter(e=>-1!==g.indexOf(e.entityData.template))}componentDidMount(){this.getTimelineInfo(this.props.entity)}componentWillReceiveProps(e){this.props.entity._id!==e.entity._id&&this.setState({tracks:null},()=>{this.getTimelineInfo(e.entity)})}render(){const e={keys:["main"],main:"",related:"",axis:""};return this.state&&this.state.tracks&&(-1!==Object.keys(this.state.tracks).indexOf("related")&&e.keys.push("related"),e.keys.forEach(t=>{const n=this.state.tracks[t];e[t]=Object.keys(n.years).map(e=>{const t=e%5==0?"nth5":"",o=`timeline-year-active ${n.className.replace("timeline-item-","")}`;return b("div",{className:`timeline-year ${t} ${e>=n.active.start&&e<=n.active.end?o:""}`},e,b(l.default,{if:e===n.active.start},void 0,b("span",{className:`timeline-track-label item-type__name ${n.className}`},void 0,n.label)),n.years[e].map((e,t)=>{if(e.reference){const n=e.reference.entityData.file?"document":"entity";return b(i.I18NLink,{to:`/${n}/${e.data.sharedId}`,className:`timeline-item ${e.additionalData.className}`,"data-toggle":"tooltip","data-placement":"top","data-animation":"false",title:`${y.a.utc(1e3*e.additionalData.date).format("ll")}\n${e.data.title}`},t,b(l.default,{if:e.firstMilestone},void 0,b("span",{className:"timeline-milestone "},void 0,b("span",{},void 0,`${y.a.utc(1e3*e.additionalData.date).format("MMM YYYY")}`))),b(l.default,{if:"judgement"===e.additionalData.type},void 0,b(f.Icon,{icon:"gavel"})))}if(!e.reference)return b("span",{className:"timeline-item","data-toggle":"tooltip","data-placement":"top","data-animation":"false",title:`${y.a.utc(1e3*e.timestamp).format("ll")}\n${e.label}`},t,b(l.default,{if:e.firstMilestone},void 0,b("span",{className:"timeline-milestone "},void 0,b("span",{},void 0,`${y.a.utc(1e3*e.timestamp).format("MMM YYYY")}`))))}))})}),e.axis=Object.keys(this.state.tracks.main.years).map(e=>b("div",{className:"timeline-year"},e,b("div",{className:`timeline-label ${e%5==0?"timeline-label-text":""}`},void 0,b("span",{},void 0,e))))),b("div",{className:"timeline"},void 0,(()=>this.state&&this.state.tracks?null:b(a.default,{}))(),b(l.default,{if:Boolean(this.state&&this.state.tracks&&this.state.tracks.related)},void 0,b("div",{className:"timeline-track"},void 0,e.related)),b("div",{className:"timeline-track"},void 0,e.main),b("div",{className:"timeline-track"},void 0,e.axis))}}t.default=Object(r.connect)(function({templates:e,thesauris:t},{entity:n}){return{templates:e,thesauris:t,entity:p.default.prepareMetadata(n,e,t)}})(C)},"./app/react/Timeline/utils/timelineFixedData.js":
/*!*******************************************************!*\
  !*** ./app/react/Timeline/utils/timelineFixedData.js ***!
  \*******************************************************/
/*! exports provided: caseTemplate, matterTemplate, renderableTemplates, datePropertyOverrides */function(e,t,n){"use strict";n.r(t),n.d(t,"caseTemplate",function(){return o}),n.d(t,"matterTemplate",function(){return s}),n.d(t,"renderableTemplates",function(){return r}),n.d(t,"datePropertyOverrides",function(){return a});const o="58b2f3a35d59f31e1345b48a",s="58b2f3a35d59f31e1345b4a4",r={judgement:"58b2f3a35d59f31e1345b4ac",admissibilityReport:"58b2f3a35d59f31e1345b479",orderOfThePresident:"58b2f3a35d59f31e1345b482",orderOfTheCourt:"58b2f3a35d59f31e1345b471",letterOfSubmission:"59ee461f40f4a54920bd9b87",meritsReport:"59ee427f40f4a54920bd9b67",hearing:"5a68ba41e1525a0c66291e22"},a={hearing:"fecha_de_la_audiencia"}},"./app/react/UI/Icon/Icon.js":
/*!***********************************!*\
  !*** ./app/react/UI/Icon/Icon.js ***!
  \***********************************/
/*! exports provided: mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"mapStateToProps",function(){return u});n(/*! prop-types */"./node_modules/prop-types/index.js");var o=n(/*! react */"./node_modules/react/index.js"),s=n.n(o),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! @fortawesome/react-fontawesome */"./node_modules/@fortawesome/react-fontawesome/index.es.js"),i=n(/*! ../../../shared/languagesList */"./app/shared/languagesList.ts");function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,o,s=function(e,t){if(null==e)return{};var n,o,s={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}const d=e=>{let{locale:t,directionAware:n}=e,o=c(e,["locale","directionAware"]);const r=i.allLanguages.find(e=>e.key===t);return s.a.createElement(a.FontAwesomeIcon,l({},o,{flip:r&&r.rtl?"horizontal":null}))};d.defaultProps={locale:"",directionAware:!1};const u=({locale:e})=>({locale:e});t.default=Object(r.connect)(u,()=>({}))(d)},"./app/react/UI/Icon/library.js":
/*!**************************************!*\
  !*** ./app/react/UI/Icon/library.js ***!
  \**************************************/
/*! exports provided: loadIcons, iconNames */function(e,t,n){"use strict";n.r(t),n.d(t,"loadIcons",function(){return Ee}),n.d(t,"iconNames",function(){return Re});var o=n(/*! @fortawesome/fontawesome-svg-core */"./node_modules/@fortawesome/fontawesome-svg-core/index.es.js"),s=n(/*! @fortawesome/free-solid-svg-icons/faAngleLeft */"./node_modules/@fortawesome/free-solid-svg-icons/faAngleLeft.js"),r=n(/*! @fortawesome/free-solid-svg-icons/faAngleRight */"./node_modules/@fortawesome/free-solid-svg-icons/faAngleRight.js"),a=n(/*! @fortawesome/free-solid-svg-icons/faArrowLeft */"./node_modules/@fortawesome/free-solid-svg-icons/faArrowLeft.js"),i=n(/*! @fortawesome/free-solid-svg-icons/faArrowRight */"./node_modules/@fortawesome/free-solid-svg-icons/faArrowRight.js"),l=n(/*! @fortawesome/free-solid-svg-icons/faBars */"./node_modules/@fortawesome/free-solid-svg-icons/faBars.js"),c=n(/*! @fortawesome/free-solid-svg-icons/faBook */"./node_modules/@fortawesome/free-solid-svg-icons/faBook.js"),d=n(/*! @fortawesome/free-solid-svg-icons/faBullhorn */"./node_modules/@fortawesome/free-solid-svg-icons/faBullhorn.js"),u=n(/*! @fortawesome/free-solid-svg-icons/faCalculator */"./node_modules/@fortawesome/free-solid-svg-icons/faCalculator.js"),p=n(/*! @fortawesome/free-solid-svg-icons/faCalendar */"./node_modules/@fortawesome/free-solid-svg-icons/faCalendar.js"),m=n(/*! @fortawesome/free-solid-svg-icons/faCaretDown */"./node_modules/@fortawesome/free-solid-svg-icons/faCaretDown.js"),f=n(/*! @fortawesome/free-solid-svg-icons/faCaretUp */"./node_modules/@fortawesome/free-solid-svg-icons/faCaretUp.js"),h=n(/*! @fortawesome/free-solid-svg-icons/faChartBar */"./node_modules/@fortawesome/free-solid-svg-icons/faChartBar.js"),y=n(/*! @fortawesome/free-solid-svg-icons/faCheck */"./node_modules/@fortawesome/free-solid-svg-icons/faCheck.js"),v=n(/*! @fortawesome/free-solid-svg-icons/faCheckCircle */"./node_modules/@fortawesome/free-solid-svg-icons/faCheckCircle.js"),b=n(/*! @fortawesome/free-solid-svg-icons/faChevronLeft */"./node_modules/@fortawesome/free-solid-svg-icons/faChevronLeft.js"),g=n(/*! @fortawesome/free-solid-svg-icons/faChevronRight */"./node_modules/@fortawesome/free-solid-svg-icons/faChevronRight.js"),j=n(/*! @fortawesome/free-solid-svg-icons/faCircle */"./node_modules/@fortawesome/free-solid-svg-icons/faCircle.js"),S=n(/*! @fortawesome/free-solid-svg-icons/faClock */"./node_modules/@fortawesome/free-solid-svg-icons/faClock.js"),_=n(/*! @fortawesome/free-solid-svg-icons/faClone */"./node_modules/@fortawesome/free-solid-svg-icons/faClone.js"),x=n(/*! @fortawesome/free-solid-svg-icons/faCloudUploadAlt */"./node_modules/@fortawesome/free-solid-svg-icons/faCloudUploadAlt.js"),w=n(/*! @fortawesome/free-solid-svg-icons/faCoffee */"./node_modules/@fortawesome/free-solid-svg-icons/faCoffee.js"),O=n(/*! @fortawesome/free-solid-svg-icons/faCog */"./node_modules/@fortawesome/free-solid-svg-icons/faCog.js"),T=n(/*! @fortawesome/free-solid-svg-icons/faComment */"./node_modules/@fortawesome/free-solid-svg-icons/faComment.js"),C=n(/*! @fortawesome/free-solid-svg-icons/faCubes */"./node_modules/@fortawesome/free-solid-svg-icons/faCubes.js"),N=n(/*! @fortawesome/free-solid-svg-icons/faEnvelope */"./node_modules/@fortawesome/free-solid-svg-icons/faEnvelope.js"),I=n(/*! @fortawesome/free-solid-svg-icons/faExchangeAlt */"./node_modules/@fortawesome/free-solid-svg-icons/faExchangeAlt.js"),P=n(/*! @fortawesome/free-solid-svg-icons/faExclamationTriangle */"./node_modules/@fortawesome/free-solid-svg-icons/faExclamationTriangle.js"),k=n(/*! @fortawesome/free-solid-svg-icons/faFile */"./node_modules/@fortawesome/free-solid-svg-icons/faFile.js"),E=n(/*! @fortawesome/free-solid-svg-icons/faFlask */"./node_modules/@fortawesome/free-solid-svg-icons/faFlask.js"),R=n(/*! @fortawesome/free-solid-svg-icons/faFilter */"./node_modules/@fortawesome/free-solid-svg-icons/faFilter.js"),A=n(/*! @fortawesome/free-solid-svg-icons/faFilePdf */"./node_modules/@fortawesome/free-solid-svg-icons/faFilePdf.js"),D=n(/*! @fortawesome/free-solid-svg-icons/faFont */"./node_modules/@fortawesome/free-solid-svg-icons/faFont.js"),L=n(/*! @fortawesome/free-solid-svg-icons/faGavel */"./node_modules/@fortawesome/free-solid-svg-icons/faGavel.js"),M=n(/*! @fortawesome/free-solid-svg-icons/faHome */"./node_modules/@fortawesome/free-solid-svg-icons/faHome.js"),F=n(/*! @fortawesome/free-solid-svg-icons/faImage */"./node_modules/@fortawesome/free-solid-svg-icons/faImage.js"),$=n(/*! @fortawesome/free-solid-svg-icons/faInfoCircle */"./node_modules/@fortawesome/free-solid-svg-icons/faInfoCircle.js"),U=n(/*! @fortawesome/free-solid-svg-icons/faLanguage */"./node_modules/@fortawesome/free-solid-svg-icons/faLanguage.js"),V=n(/*! @fortawesome/free-solid-svg-icons/faLightbulb */"./node_modules/@fortawesome/free-solid-svg-icons/faLightbulb.js"),B=n(/*! @fortawesome/free-solid-svg-icons/faLink */"./node_modules/@fortawesome/free-solid-svg-icons/faLink.js"),H=n(/*! @fortawesome/free-solid-svg-icons/faList */"./node_modules/@fortawesome/free-solid-svg-icons/faList.js"),q=n(/*! @fortawesome/free-solid-svg-icons/faLock */"./node_modules/@fortawesome/free-solid-svg-icons/faLock.js"),z=n(/*! @fortawesome/free-solid-svg-icons/faMapMarker */"./node_modules/@fortawesome/free-solid-svg-icons/faMapMarker.js"),G=n(/*! @fortawesome/free-solid-svg-icons/faPaperPlane */"./node_modules/@fortawesome/free-solid-svg-icons/faPaperPlane.js"),J=n(/*! @fortawesome/free-solid-svg-icons/faPaperclip */"./node_modules/@fortawesome/free-solid-svg-icons/faPaperclip.js"),K=n(/*! @fortawesome/free-solid-svg-icons/faParagraph */"./node_modules/@fortawesome/free-solid-svg-icons/faParagraph.js"),W=n(/*! @fortawesome/free-solid-svg-icons/faPassport */"./node_modules/@fortawesome/free-solid-svg-icons/faPassport.js"),Y=n(/*! @fortawesome/free-solid-svg-icons/faPencilAlt */"./node_modules/@fortawesome/free-solid-svg-icons/faPencilAlt.js"),Z=n(/*! @fortawesome/free-solid-svg-icons/faPlay */"./node_modules/@fortawesome/free-solid-svg-icons/faPlay.js"),X=n(/*! @fortawesome/free-solid-svg-icons/faPlus */"./node_modules/@fortawesome/free-solid-svg-icons/faPlus.js"),Q=n(/*! @fortawesome/free-solid-svg-icons/faPowerOff */"./node_modules/@fortawesome/free-solid-svg-icons/faPowerOff.js"),ee=n(/*! @fortawesome/free-solid-svg-icons/faQuestionCircle */"./node_modules/@fortawesome/free-solid-svg-icons/faQuestionCircle.js"),te=n(/*! @fortawesome/free-solid-svg-icons/faQuoteLeft */"./node_modules/@fortawesome/free-solid-svg-icons/faQuoteLeft.js"),ne=n(/*! @fortawesome/free-solid-svg-icons/faQuoteRight */"./node_modules/@fortawesome/free-solid-svg-icons/faQuoteRight.js"),oe=n(/*! @fortawesome/free-solid-svg-icons/faSave */"./node_modules/@fortawesome/free-solid-svg-icons/faSave.js"),se=n(/*! @fortawesome/free-solid-svg-icons/faSearch */"./node_modules/@fortawesome/free-solid-svg-icons/faSearch.js"),re=n(/*! @fortawesome/free-solid-svg-icons/faServer */"./node_modules/@fortawesome/free-solid-svg-icons/faServer.js"),ae=n(/*! @fortawesome/free-solid-svg-icons/faSearchMinus */"./node_modules/@fortawesome/free-solid-svg-icons/faSearchMinus.js"),ie=n(/*! @fortawesome/free-solid-svg-icons/faSearchPlus */"./node_modules/@fortawesome/free-solid-svg-icons/faSearchPlus.js"),le=n(/*! @fortawesome/free-solid-svg-icons/faSitemap */"./node_modules/@fortawesome/free-solid-svg-icons/faSitemap.js"),ce=n(/*! @fortawesome/free-solid-svg-icons/faSort */"./node_modules/@fortawesome/free-solid-svg-icons/faSort.js"),de=n(/*! @fortawesome/free-solid-svg-icons/faSortAlphaDown */"./node_modules/@fortawesome/free-solid-svg-icons/faSortAlphaDown.js"),ue=n(/*! @fortawesome/free-solid-svg-icons/faSpinner */"./node_modules/@fortawesome/free-solid-svg-icons/faSpinner.js"),pe=n(/*! @fortawesome/free-regular-svg-icons/faSquare */"./node_modules/@fortawesome/free-regular-svg-icons/faSquare.js"),me=n(/*! @fortawesome/free-solid-svg-icons/faStar */"./node_modules/@fortawesome/free-solid-svg-icons/faStar.js"),fe=n(/*! @fortawesome/free-solid-svg-icons/faStop */"./node_modules/@fortawesome/free-solid-svg-icons/faStop.js"),he=n(/*! @fortawesome/free-solid-svg-icons/faSync */"./node_modules/@fortawesome/free-solid-svg-icons/faSync.js"),ye=n(/*! @fortawesome/free-solid-svg-icons/faTag */"./node_modules/@fortawesome/free-solid-svg-icons/faTag.js"),ve=n(/*! @fortawesome/free-solid-svg-icons/faTerminal */"./node_modules/@fortawesome/free-solid-svg-icons/faTerminal.js"),be=n(/*! @fortawesome/free-solid-svg-icons/faTh */"./node_modules/@fortawesome/free-solid-svg-icons/faTh.js"),ge=n(/*! @fortawesome/free-solid-svg-icons/faTimes */"./node_modules/@fortawesome/free-solid-svg-icons/faTimes.js"),je=n(/*! @fortawesome/free-solid-svg-icons/faTimesCircle */"./node_modules/@fortawesome/free-solid-svg-icons/faTimesCircle.js"),Se=n(/*! @fortawesome/free-solid-svg-icons/faTrashAlt */"./node_modules/@fortawesome/free-solid-svg-icons/faTrashAlt.js"),_e=n(/*! @fortawesome/free-solid-svg-icons/faUndo */"./node_modules/@fortawesome/free-solid-svg-icons/faUndo.js"),xe=n(/*! @fortawesome/free-solid-svg-icons/faUpload */"./node_modules/@fortawesome/free-solid-svg-icons/faUpload.js"),we=n(/*! @fortawesome/free-solid-svg-icons/faVideo */"./node_modules/@fortawesome/free-solid-svg-icons/faVideo.js"),Oe=n(/*! @fortawesome/free-solid-svg-icons/faEye */"./node_modules/@fortawesome/free-solid-svg-icons/faEye.js"),Te=n(/*! @fortawesome/free-solid-svg-icons/faArrowsAlt */"./node_modules/@fortawesome/free-solid-svg-icons/faArrowsAlt.js"),Ce=n(/*! @fortawesome/free-solid-svg-icons/faEyeSlash */"./node_modules/@fortawesome/free-solid-svg-icons/faEyeSlash.js"),Ne=n(/*! @fortawesome/free-solid-svg-icons/faUsers */"./node_modules/@fortawesome/free-solid-svg-icons/faUsers.js"),Ie=n(/*! @fortawesome/free-solid-svg-icons/faUserTimes */"./node_modules/@fortawesome/free-solid-svg-icons/faUserTimes.js"),Pe=n(/*! @fortawesome/free-solid-svg-icons/faHandPaper */"./node_modules/@fortawesome/free-solid-svg-icons/faHandPaper.js");const ke={faAngleLeft:s.faAngleLeft,faAngleRight:r.faAngleRight,faArrowLeft:a.faArrowLeft,faArrowsAlt:Te.faArrowsAlt,faArrowRight:i.faArrowRight,faBars:l.faBars,faBook:c.faBook,faBullhorn:d.faBullhorn,faCalculator:u.faCalculator,faCalendar:p.faCalendar,faCaretDown:m.faCaretDown,faCaretUp:f.faCaretUp,faChartBar:h.faChartBar,faCheck:y.faCheck,faCheckCircle:v.faCheckCircle,faChevronLeft:b.faChevronLeft,faChevronRight:g.faChevronRight,faCircle:j.faCircle,faClock:S.faClock,faClone:_.faClone,faCloudUploadAlt:x.faCloudUploadAlt,faCoffee:w.faCoffee,faCog:O.faCog,faComment:T.faComment,faCubes:C.faCubes,faEnvelope:N.faEnvelope,faExchangeAlt:I.faExchangeAlt,faExclamationTriangle:P.faExclamationTriangle,faFlask:E.faFlask,faFile:k.faFile,faFilter:R.faFilter,faFilePdf:A.faFilePdf,faFont:D.faFont,faGavel:L.faGavel,faHome:M.faHome,faImage:F.faImage,faInfoCircle:$.faInfoCircle,faLanguage:U.faLanguage,faLightbulb:V.faLightbulb,faLink:B.faLink,faList:H.faList,faLock:q.faLock,faMapMarker:z.faMapMarker,faPaperPlane:G.faPaperPlane,faPaperclip:J.faPaperclip,faParagraph:K.faParagraph,faPassport:W.faPassport,faPencilAlt:Y.faPencilAlt,faPlay:Z.faPlay,faPlus:X.faPlus,faPowerOff:Q.faPowerOff,faQuestionCircle:ee.faQuestionCircle,faQuoteLeft:te.faQuoteLeft,faQuoteRight:ne.faQuoteRight,faSave:oe.faSave,faSearch:se.faSearch,faServer:re.faServer,faSearchMinus:ae.faSearchMinus,faSearchPlus:ie.faSearchPlus,faSitemap:le.faSitemap,faSort:ce.faSort,faSortAlphaDown:de.faSortAlphaDown,faSpinner:ue.faSpinner,faSquare:pe.faSquare,faStar:me.faStar,faStop:fe.faStop,faSync:he.faSync,faTag:ye.faTag,faTerminal:ve.faTerminal,faTh:be.faTh,faTimes:ge.faTimes,faTimesCircle:je.faTimesCircle,faTrashAlt:Se.faTrashAlt,faUndo:_e.faUndo,faUpload:xe.faUpload,faVideo:we.faVideo,faEye:Oe.faEye,faEyeSlash:Ce.faEyeSlash,faUsers:Ne.faUsers,faUserTimes:Ie.faUserTimes,faHandPaper:Pe.faHandPaper},Ee=()=>{o.library.add(...Object.keys(ke).map(e=>ke[e]))},Re=Object.keys(ke).map(e=>ke[e].iconName)},"./app/react/UI/ProgressBar/ProgressBar.js":
/*!*************************************************!*\
  !*** ./app/react/UI/ProgressBar/ProgressBar.js ***!
  \*************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o;n(/*! react */"./node_modules/react/index.js"),n(/*! prop-types */"./node_modules/prop-types/index.js");function s(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function r({max:e,value:t}){return s("div",{className:"uw-progress-bar--container"},void 0,s("div",{className:"uw-progress-bar"},void 0,s("div",{className:"uw-progress-bar--progress",style:{width:`${100*t/e}%`}})),s("div",{className:"uw-progress-bar--counter"},void 0,t,"/",e))}r.defaultProps={max:100,value:0},t.default=r},"./app/react/UI/index.js":
/*!*******************************!*\
  !*** ./app/react/UI/index.js ***!
  \*******************************/
/*! exports provided: Icon, ProgressBar */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./Icon/Icon */"./app/react/UI/Icon/Icon.js");n.d(t,"Icon",function(){return o.default});var s=n(/*! ./ProgressBar/ProgressBar */"./app/react/UI/ProgressBar/ProgressBar.js");n.d(t,"ProgressBar",function(){return s.default})},"./app/react/Uploads/UploadsRoute.js":
/*!*******************************************!*\
  !*** ./app/react/Uploads/UploadsRoute.js ***!
  \*******************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return I});n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! react-helmet */"./node_modules/react-helmet/lib/Helmet.js"),r=n.n(s),a=n(/*! rison */"./node_modules/rison/js/rison.js"),i=n.n(a),l=n(/*! ../Search/SearchAPI */"./app/react/Search/SearchAPI.js"),c=n(/*! ../App/RouteHandler */"./app/react/App/RouteHandler.js"),d=n(/*! ../Library/components/DocumentsList */"./app/react/Library/components/DocumentsList.js"),u=n(/*! ../Charts/components/LibraryCharts */"./app/react/Charts/components/LibraryCharts.js"),p=n(/*! ../Library/components/LibraryFilters */"./app/react/Library/components/LibraryFilters.js"),m=n(/*! ../Library/actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),f=n(/*! ../Library/helpers/libraryFilters */"./app/react/Library/helpers/libraryFilters.js"),h=n(/*! ../Library/components/SearchButton */"./app/react/Library/components/SearchButton.js"),y=n(/*! ../Library/components/ViewMetadataPanel */"./app/react/Library/components/ViewMetadataPanel.js"),v=n(/*! ../Library/containers/SelectMultiplePanelContainer */"./app/react/Library/containers/SelectMultiplePanelContainer.js"),b=n(/*! ../BasicReducer */"./app/react/BasicReducer/index.js"),g=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),j=n(/*! ../I18N */"./app/react/I18N/index.js"),S=n(/*! ../Multireducer */"./app/react/Multireducer/index.js"),_=n(/*! ./components/UploadBox */"./app/react/Uploads/components/UploadBox.js"),x=n(/*! ./components/UploadsHeader */"./app/react/Uploads/components/UploadsHeader.js"),w=n(/*! ./components/ImportPanel */"./app/react/Uploads/components/ImportPanel.js"),O=n(/*! ../utils/prioritySortingCriteria */"./app/react/utils/prioritySortingCriteria.js"),T=n(/*! ../socket */"./app/react/socket.js");function C(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const N=e=>t=>{const n=Object(S.wrapDispatch)(t,"uploads");n(Object(m.setDocuments)(e.uploads.documents)),n(b.actions.set("aggregations",e.uploads.aggregations)),n(g.actions.load("uploads.search",e.uploads.search)),n({type:"SET_LIBRARY_FILTERS",documentTypes:e.uploads.filters.documentTypes,libraryFilters:e.uploads.filters.properties})};class I extends c.default{constructor(e,t){super(e,t),this.superComponentWillReceiveProps=super.componentWillReceiveProps,this.refreshSearch=this.refreshSearch.bind(this)}static renderTools(){return C("div",{className:"searchBox"},void 0,C(h.default,{storeKey:"uploads"}))}urlHasChanged(e){return e.location.query.q!==this.props.location.query.q}static async requestState(e,t){const n=O.default.get({templates:t.templates}),o=i.a.decode(e.data.q||"()");o.order=o.order||n.order,o.sort=o.sort||n.sort,o.unpublished=!0;const s=await l.default.search(e.set(o)),r=f.default.URLQueryToState(o,t.templates.toJS(),t.thesauris.toJS(),t.relationTypes.toJS());return[N({uploads:{documents:s,filters:{documentTypes:o.types||[],properties:r.properties},aggregations:s.aggregations,search:r.search}})]}refreshSearch(){super.getClientState(this.props)}componentDidMount(){const e=Object(S.wrapDispatch)(this.context.store.dispatch,"uploads");T.default.on("IMPORT_CSV_END",this.refreshSearch),e(Object(m.enterLibrary)())}componentWillUnmount(){T.default.removeListener("IMPORT_CSV_END",this.refreshSearch)}componentWillReceiveProps(e){if(e.location.query.q!==this.props.location.query.q)return this.superComponentWillReceiveProps(e)}render(){const e=i.a.decode(this.props.location.query.q||"()"),t=C("chart"===this.props.location.query.view?u.default:d.default,{storeKey:"uploads"});return C("div",{className:"row panels-layout"},void 0,C(r.a,{title:Object(j.t)("System","Uploads",null,!1)}),C(x.default,{}),C("main",{className:"uploads-viewer document-viewer with-panel"},void 0,C(_.default,{}),t),C(p.default,{uploadsSection:!0,storeKey:"uploads"}),C(y.default,{storeKey:"uploads",searchTerm:e.searchTerm}),C(v.default,{storeKey:"uploads"}),C(w.default,{}))}}},"./app/react/Uploads/actions/actionTypes.js":
/*!**************************************************!*\
  !*** ./app/react/Uploads/actions/actionTypes.js ***!
  \**************************************************/
/*! exports provided: SET_UPLOADS, SET_THESAURIS_UPLOADS, SET_TEMPLATES_UPLOADS, NEW_UPLOAD_DOCUMENT, UPLOAD_PROGRESS, UPLOAD_COMPLETE, DOCUMENT_PROCESSED, DOCUMENT_PROCESS_ERROR, CONVERSION_COMPLETE, UPDATE_DOCUMENT, UPDATE_DOCUMENTS, ENTER_UPLOADS_SECTION, MOVED_TO_LIBRARY, ELEMENT_DELETED, REMOVE_DOCUMENT, ELEMENT_CREATED, SELECT_DOCUMENT, SELECT_DOCUMENTS, UNSELECT_DOCUMENT, UNSELECT_ALL_DOCUMENTS, UPDATE_SELECTED_ENTITIES */function(e,t,n){"use strict";n.r(t),n.d(t,"SET_UPLOADS",function(){return o}),n.d(t,"SET_THESAURIS_UPLOADS",function(){return s}),n.d(t,"SET_TEMPLATES_UPLOADS",function(){return r}),n.d(t,"NEW_UPLOAD_DOCUMENT",function(){return a}),n.d(t,"UPLOAD_PROGRESS",function(){return i}),n.d(t,"UPLOAD_COMPLETE",function(){return l}),n.d(t,"DOCUMENT_PROCESSED",function(){return c}),n.d(t,"DOCUMENT_PROCESS_ERROR",function(){return d}),n.d(t,"CONVERSION_COMPLETE",function(){return u}),n.d(t,"UPDATE_DOCUMENT",function(){return p}),n.d(t,"UPDATE_DOCUMENTS",function(){return m}),n.d(t,"ENTER_UPLOADS_SECTION",function(){return f}),n.d(t,"MOVED_TO_LIBRARY",function(){return h}),n.d(t,"ELEMENT_DELETED",function(){return y}),n.d(t,"REMOVE_DOCUMENT",function(){return v}),n.d(t,"ELEMENT_CREATED",function(){return b}),n.d(t,"SELECT_DOCUMENT",function(){return g}),n.d(t,"SELECT_DOCUMENTS",function(){return j}),n.d(t,"UNSELECT_DOCUMENT",function(){return S}),n.d(t,"UNSELECT_ALL_DOCUMENTS",function(){return _}),n.d(t,"UPDATE_SELECTED_ENTITIES",function(){return x});const o="SET_UPLOADS",s="SET_THESAURIS_UPLOADS",r="SET_TEMPLATES_UPLOADS",a="NEW_UPLOAD_DOCUMENT",i="UPLOAD_PROGRESS",l="UPLOAD_COMPLETE",c="DOCUMENT_PROCESSED",d="DOCUMENT_PROCESS_ERROR",u="CONVERSION_COMPLETE",p="UPLOADS/UPDATE_DOCUMENT",m="UPLOADS/UPDATE_DOCUMENTS",f="ENTER_UPLOADS_SECTION",h="MOVED_TO_LIBRARY",y="ELEMENT_DELETED",v="REMOVE_DOCUMENT",b="ELEMENT_CREATED",g="UPLOADS/SELECT_DOCUMENT",j="UPLOADS/SELECT_DOCUMENTS",S="UPLOADS/UNSELECT_DOCUMENT",_="UPLOADS/UNSELECT_ALL_DOCUMENTS",x="UPLOADS/UPDATE_SELECTED_ENTITIES"},"./app/react/Uploads/actions/uploadsActions.js":
/*!*****************************************************!*\
  !*** ./app/react/Uploads/actions/uploadsActions.js ***!
  \*****************************************************/
/*! exports provided: enterUploads, showImportPanel, closeImportPanel, closeImportProgress, newEntity, createDocument, importData, upload, publicSubmit, uploadCustom, deleteCustomUpload, uploadDocument, documentProcessed, documentProcessError, publishEntity, publishDocument, unpublishEntity, unpublishDocument, publish, unpublish, conversionComplete */function(e,t,n){"use strict";n.r(t),n.d(t,"enterUploads",function(){return b}),n.d(t,"showImportPanel",function(){return g}),n.d(t,"closeImportPanel",function(){return j}),n.d(t,"closeImportProgress",function(){return S}),n.d(t,"newEntity",function(){return _}),n.d(t,"createDocument",function(){return x}),n.d(t,"importData",function(){return w}),n.d(t,"upload",function(){return O}),n.d(t,"publicSubmit",function(){return T}),n.d(t,"uploadCustom",function(){return C}),n.d(t,"deleteCustomUpload",function(){return N}),n.d(t,"uploadDocument",function(){return I}),n.d(t,"documentProcessed",function(){return P}),n.d(t,"documentProcessError",function(){return k}),n.d(t,"publishEntity",function(){return E}),n.d(t,"publishDocument",function(){return R}),n.d(t,"unpublishEntity",function(){return A}),n.d(t,"unpublishDocument",function(){return D}),n.d(t,"publish",function(){return L}),n.d(t,"unpublish",function(){return M}),n.d(t,"conversionComplete",function(){return F});var o=n(/*! superagent */"./node_modules/superagent/lib/client.js"),s=n.n(o),r=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),a=n(/*! ../../Notifications */"./app/react/Notifications/index.js"),i=n(/*! ../../Library/actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),l=n(/*! ../../Metadata */"./app/react/Metadata/index.js"),c=n(/*! ./actionTypes */"./app/react/Uploads/actions/actionTypes.js"),d=n(/*! ../../Library/actions/actionTypes */"./app/react/Library/actions/actionTypes.js"),u=n(/*! ../../../shared/uniqueID */"./app/shared/uniqueID.js"),p=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js"),m=n(/*! ../../config.js */"./app/react/config.js"),f=n(/*! ../../utils/api */"./app/react/utils/api.js");function h(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function y(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};h(n,!0).forEach(function(t){v(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):h(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(){return{type:c.ENTER_UPLOADS_SECTION}}function g(){return e=>{e(r.actions.set("showImportPanel",!0))}}function j(){return e=>{e(r.actions.set("showImportPanel",!1))}}function S(){return e=>{e(r.actions.set("importProgress",0)),e(r.actions.set("importStart",!1)),e(r.actions.set("importEnd",!1)),e(r.actions.set("importError",{}))}}function _(){return(e,t)=>{const n={title:"",type:"entity"};e(l.actions.loadInReduxForm("uploads.sidepanel.metadata",n,t().templates.toJS())),e(Object(i.selectSingleDocument)(n))}}function x(e){return t=>f.default.post("documents",new p.RequestParams(e)).then(e=>{const n=e.json;return t({type:c.NEW_UPLOAD_DOCUMENT,doc:n.sharedId}),t({type:c.ELEMENT_CREATED,doc:n}),n})}function w([e],t){return n=>new Promise(o=>{s.a.post(`${m.APIURL}import`).set("Accept","application/json").set("X-Requested-With","XMLHttpRequest").field("template",t).attach("file",e,e.name).on("progress",e=>{n(r.actions.set("importUploadProgress",Math.floor(e.percent)))}).on("response",e=>{n(r.actions.set("importUploadProgress",0)),o(e)}).end()})}function O(e,t,n="upload"){return o=>new Promise(r=>{s.a.post(m.APIURL+n).set("Accept","application/json").set("X-Requested-With","XMLHttpRequest").field("document",e).attach("file",t,t.name).on("progress",t=>{o({type:c.UPLOAD_PROGRESS,doc:e,progress:Math.floor(t.percent)})}).on("response",t=>{const n={filename:t.body.filename,originalname:t.body.originalname,size:t.body.size};o({type:c.UPLOAD_COMPLETE,doc:e,file:n}),r(JSON.parse(t.text))}).end()})}function T(e,t=!1){return n=>new Promise(o=>{const r=s.a.post(t?`${m.APIURL}remotepublic`:`${m.APIURL}public`).set("Accept","application/json").set("X-Requested-With","XMLHttpRequest").field("captcha",e.captcha);let i,l;e.file&&r.attach("file",e.file),e.attachments&&e.attachments.forEach((e,t)=>{r.attach(`attachments[${t}]`,e)}),r.field("entity",JSON.stringify(Object.assign({},{title:e.title,template:e.template,metadata:e.metadata})));const c=new Promise((e,t)=>{i=e,l=t});r.on("progress",()=>{o({promise:c})}).on("response",e=>200===e.status?(n(a.notificationActions.notify("Success","success")),void i(e)):403===e.status?(n(a.notificationActions.notify(e.body.error,"danger")),void l(e)):(l(e),void n(a.notificationActions.notify("An error has ocurred","danger")))).end()})}function C(e){return t=>{return O(`customUpload_${Object(u.default)()}`,e,"customisation/upload")(t).then(e=>{t(r.actions.push("customUploads",e))})}}function N(e){return t=>f.default.delete("customisation/upload",new p.RequestParams({_id:e})).then(e=>{t(r.actions.remove("customUploads",e.json))})}function I(e,t){return n=>O(e,t)(n)}function P(e,t){return n=>{n({type:c.DOCUMENT_PROCESSED,sharedId:e}),f.default.get("entities",new p.RequestParams({sharedId:e})).then(e=>{const o=e.json.rows[0];n({type:d.UPDATE_DOCUMENT,doc:o,__reducerKey:t}),n({type:d.UNSELECT_ALL_DOCUMENTS,__reducerKey:t}),n({type:d.SELECT_DOCUMENT,doc:o,__reducerKey:t}),n(r.actions.set("entityView/entity",o)),n(r.actions.set("viewer/doc",o))})}}function k(e){return{type:c.DOCUMENT_PROCESS_ERROR,sharedId:e}}function E(e){return t=>f.default.post("entities",new p.RequestParams(y({},e,{published:!0}))).then(n=>{t(a.notificationActions.notify("Entity published","success")),t({type:c.REMOVE_DOCUMENT,doc:e}),t(r.actions.set("entityView/entity",n.json)),t(Object(i.unselectAllDocuments)())})}function R(e){return t=>f.default.post("documents",new p.RequestParams(y({},e,{published:!0}))).then(n=>{t(a.notificationActions.notify("Document published","success")),t({type:c.REMOVE_DOCUMENT,doc:e}),t(r.actions.set("viewer/doc",n.json)),t(Object(i.unselectAllDocuments)())})}function A(e){return t=>f.default.post("entities",new p.RequestParams(y({},e,{published:!0}))).then(n=>{t(a.notificationActions.notify("Entity unpublished","success")),t({type:c.REMOVE_DOCUMENT,doc:e}),t(r.actions.set("entityView/entity",n.json)),t(Object(i.unselectAllDocuments)())})}function D(e){return t=>f.default.post("documents",new p.RequestParams(y({},e,{published:!1}))).then(n=>{t(a.notificationActions.notify("Document unpublished","success")),t({type:c.REMOVE_DOCUMENT,doc:e}),t(r.actions.set("viewer/doc",n.json)),t(Object(i.unselectAllDocuments)())})}function L(e){return t=>e.file?t(R(e)):t(E(e))}function M(e){return t=>e.file?t(D(e)):t(A(e))}function F(e){return{type:c.CONVERSION_COMPLETE,doc:e}}},"./app/react/Uploads/components/ImportPanel.js":
/*!*****************************************************!*\
  !*** ./app/react/Uploads/components/ImportPanel.js ***!
  \*****************************************************/
/*! exports provided: ImportPanel, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ImportPanel",function(){return f}),n.d(t,"mapStateToProps",function(){return h});var o,s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=(n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! ../../I18N */"./app/react/I18N/index.js"),l=n(/*! ../../Layout/SidePanel */"./app/react/Layout/SidePanel.js"),c=n(/*! ../../UI */"./app/react/UI/index.js"),d=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),u=n(/*! ../actions/uploadsActions */"./app/react/Uploads/actions/uploadsActions.js"),p=n(/*! ./ImportProgress */"./app/react/Uploads/components/ImportProgress.js");function m(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class f extends r.Component{constructor(e){super(e),this.handleSubmit=this.handleSubmit.bind(this),this.close=this.close.bind(this)}close(){this.props.closeImportPanel()}handleSubmit(e){this.props.importData(e.file,e.template)}renderForm(){const{templates:e}=this.props,t=e.find(e=>e.get("default")).get("_id");return m("div",{},void 0,m("div",{className:"alert alert-info"},void 0,m(c.Icon,{icon:"info-circle",size:"2x"}),m("div",{className:"force-ltr"},void 0,m(i.Translate,{},void 0,"Upload a ZIP or CSV file.")," ",m("a",{rel:"noopener noreferrer",href:"https://github.com/huridocs/uwazi/wiki/Import-CSV",target:"_blank"},void 0,m(i.Translate,{},void 0,"Import instructions")))),m(d.LocalForm,{onSubmit:this.handleSubmit,id:"import",initialState:{template:t}},void 0,m("div",{className:"form-group"},void 0,m("ul",{className:"search__filter"},void 0,m("li",{},void 0,m("label",{htmlFor:"file"},void 0,m(i.Translate,{},void 0,"File"))),m("li",{className:"wide"},void 0,m(d.Control.file,{id:"file",model:".file",accept:".zip,.csv"})))),m("div",{className:"form-group"},void 0,m("ul",{className:"search__filter"},void 0,m("li",{},void 0,m("label",{htmlFor:"template"},void 0,m(i.Translate,{},void 0,"Template"))),m("li",{className:"wide"},void 0,m(d.Control.select,{id:"template",model:".template"},void 0,e.map(e=>m("option",{value:e.get("_id")},e.get("_id"),e.get("name"))))))),m("div",{className:"form-group"})),m("div",{className:"sidepanel-footer"},void 0,m("button",{form:"import",type:"submit",className:"btn btn-primary"},void 0,m(c.Icon,{icon:"upload"}),m("span",{className:"btn-label"},void 0,m(i.Translate,{},void 0,"Import")))))}renderUploadProgress(){const{uploadProgress:e}=this.props;return m("div",{className:"alert alert-info"},void 0,m(c.Icon,{icon:"info-circle",size:"2x"}),m("div",{className:"force-ltr"},void 0,"Uploading file ",e,"%"))}renderContents(){const{uploadProgress:e,importStart:t,importProgress:n}=this.props;return e?this.renderUploadProgress():t||n?m(p.default,{}):this.renderForm()}render(){const{open:e}=this.props;return m(l.default,{open:e,className:"metadata-sidepanel"},void 0,m("div",{className:"sidepanel-header"},void 0,m("button",{type:"button",className:"closeSidepanel close-modal",onClick:this.close},void 0,m(c.Icon,{icon:"times"}))),this.renderContents())}}f.defaultProps={open:!1,uploadProgress:0,importStart:!1,importProgress:0};const h=e=>({open:e.importEntities.showImportPanel,templates:e.templates,uploadProgress:e.importEntities.importUploadProgress,importStart:e.importEntities.importStart,importProgress:e.importEntities.importProgress});t.default=Object(s.connect)(h,function(e){return Object(a.bindActionCreators)({closeImportPanel:u.closeImportPanel,importData:u.importData},e)})(f)},"./app/react/Uploads/components/ImportProgress.js":
/*!********************************************************!*\
  !*** ./app/react/Uploads/components/ImportProgress.js ***!
  \********************************************************/
/*! exports provided: ImportProgress, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ImportProgress",function(){return p}),n.d(t,"mapStateToProps",function(){return m});var o,s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),a=n(/*! ../../I18N */"./app/react/I18N/index.js"),i=n(/*! ../../UI */"./app/react/UI/index.js"),l=n(/*! redux */"./node_modules/redux/es/index.js"),c=n(/*! ../actions/uploadsActions */"./app/react/Uploads/actions/uploadsActions.js"),d=(n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),n(/*! ../../components/Elements/StackTrace */"./app/react/components/Elements/StackTrace.js"));function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class p extends r.Component{render(){const{close:e,importState:{importStart:t,importProgress:n,importError:o,importEnd:s}}=this.props;return!(!t&&!n)&&(s?u("div",{className:"alert alert-info"},void 0,u(i.Icon,{icon:"check",size:"2x"}),u("div",{className:"force-ltr"},void 0,u(a.Translate,{},void 0,"Import completed:")," ",n," ",u(a.Translate,{},void 0,"created"),u("br",{}),u(a.Translate,{},void 0,"Indexing entities may take a few minutes")),u(i.Icon,{style:{cursor:"pointer"},icon:"times",onClick:e})):o.get("message")?u("div",{},void 0,u("div",{className:"alert alert-danger"},void 0,u(i.Icon,{icon:"exclamation-triangle",size:"2x"}),u("div",{className:"force-ltr"},void 0,u(a.Translate,{},void 0,"The import process threw an error:")),u(i.Icon,{style:{cursor:"pointer"},icon:"times",onClick:e})),u(d.default,{message:o.get("message")})):u("div",{className:"alert alert-info"},void 0,u(i.Icon,{icon:"cog",size:"2x"}),u("div",{className:"force-ltr"},void 0,u(a.Translate,{},void 0,"Importing data in progress"),": ",n)))}}const m=e=>({importState:e.importEntities});t.default=Object(s.connect)(m,function(e){return Object(l.bindActionCreators)({close:c.closeImportProgress},e)})(p)},"./app/react/Uploads/components/UploadBox.js":
/*!***************************************************!*\
  !*** ./app/react/Uploads/components/UploadBox.js ***!
  \***************************************************/
/*! exports provided: UploadBox, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"UploadBox",function(){return h}),n.d(t,"mapStateToProps",function(){return y});var o,s=n(/*! redux */"./node_modules/redux/es/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! react-dropzone */"./node_modules/react-dropzone/dist/es/index.js"),i=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),l=n(/*! ../../UI */"./app/react/UI/index.js"),c=n(/*! ../../Library/actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),d=n(/*! ../actions/uploadsActions */"./app/react/Uploads/actions/uploadsActions.js"),u=n(/*! ../../Multireducer */"./app/react/Multireducer/index.js"),p=n(/*! ../../socket */"./app/react/socket.js");function m(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const f=e=>{const t=e.name.replace(/\.[^/.]+$/,"").replace(/_/g," ").replace(/-/g," ").replace(/ {2}/g," ");return t.charAt(0).toUpperCase()+t.slice(1)};class h extends i.Component{constructor(e){super(e),this.onDrop=this.onDrop.bind(this),p.default.on("documentProcessed",e=>{this.props.documentProcessed(e,"uploads")}),p.default.on("conversionFailed",e=>{this.props.documentProcessError(e)})}onDrop(e){e.forEach(e=>{const t={title:f(e)};this.props.createDocument(t).then(t=>{this.props.uploadDocument(t.sharedId,e)})}),this.props.unselectAllDocuments()}render(){return m(a.default,{className:"upload-box force-ltr",style:{},onDrop:this.onDrop,accept:"application/pdf"},void 0,m("div",{className:"upload-box_wrapper"},void 0,m(l.Icon,{icon:"upload"}),m("button",{className:"upload-box_link"},void 0,"Browse your PDFs to upload"),m("span",{},void 0," or drop your files here.")),m("div",{className:"protip"},void 0,m(l.Icon,{icon:"lightbulb"}),m("b",{},void 0,"ProTip!"),m("span",{},void 0,"For better performance, upload your documents in batches of 50 or less.")))}}function y(){return{}}t.default=Object(r.connect)(y,function(e){return Object(s.bindActionCreators)({uploadDocument:d.uploadDocument,unselectAllDocuments:c.unselectAllDocuments,createDocument:d.createDocument,documentProcessed:d.documentProcessed,documentProcessError:d.documentProcessError},Object(u.wrapDispatch)(e,"uploads"))})(h)},"./app/react/Uploads/components/UploadsHeader.js":
/*!*******************************************************!*\
  !*** ./app/react/Uploads/components/UploadsHeader.js ***!
  \*******************************************************/
/*! exports provided: UploadsHeader, default */function(e,t,n){"use strict";n.r(t),n.d(t,"UploadsHeader",function(){return p});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! ../actions/uploadsActions */"./app/react/Uploads/actions/uploadsActions.js"),l=n(/*! ../../I18N */"./app/react/I18N/index.js"),c=n(/*! ../../Multireducer */"./app/react/Multireducer/index.js"),d=n(/*! ../../UI */"./app/react/UI/index.js");function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class p extends s.Component{render(){return u("div",{className:"content-header"},void 0,u("div",{className:"content-header-title"},void 0,u("h1",{className:"item-name"},void 0,Object(l.t)("System","My Files")),u("button",{type:"button",className:"btn btn-success btn-xs",onClick:this.props.newEntity},void 0,u(d.Icon,{icon:"plus"})," ",Object(l.t)("System","New entity")),u("button",{type:"button",className:"btn btn-success btn-xs",onClick:this.props.showImportPanel},void 0,u(d.Icon,{icon:"upload"})," ",Object(l.t)("System","Import"))))}}t.default=Object(r.connect)(null,function(e){return Object(a.bindActionCreators)({newEntity:i.newEntity,showImportPanel:i.showImportPanel},Object(c.wrapDispatch)(e,"uploads"))})(p)},"./app/react/Uploads/reducers/importReducer.js":
/*!*****************************************************!*\
  !*** ./app/react/Uploads/reducers/importReducer.js ***!
  \*****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! redux */"./node_modules/redux/es/index.js"),s=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js");t.default=Object(o.combineReducers)({showImportPanel:Object(s.default)("showImportPanel",!1),importUploadProgress:Object(s.default)("importUploadProgress",0),importProgress:Object(s.default)("importProgress",0),importStart:Object(s.default)("importStart",!1),importEnd:Object(s.default)("importEnd",!1),importError:Object(s.default)("importError",{})})},"./app/react/Uploads/reducers/progressReducer.js":
/*!*******************************************************!*\
  !*** ./app/react/Uploads/reducers/progressReducer.js ***!
  \*******************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return i});var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n.n(o),r=n(/*! ../actions/actionTypes */"./app/react/Uploads/actions/actionTypes.js");const a={};function i(e=a,t={}){return t.type===r.NEW_UPLOAD_DOCUMENT?e.set(t.doc,0):t.type===r.UPLOAD_PROGRESS?e.set(t.doc,t.progress):t.type===r.UPLOAD_COMPLETE?e.delete(t.doc):s.a.fromJS(e)}},"./app/react/Users/Login.js":
/*!**********************************!*\
  !*** ./app/react/Users/Login.js ***!
  \**********************************/
/*! exports provided: Login, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"Login",function(){return b}),n.d(t,"mapStateToProps",function(){return g});var o,s=n(/*! prop-types */"./node_modules/prop-types/index.js"),r=n.n(s),a=(n(/*! react */"./node_modules/react/index.js"),n(/*! react-router */"./node_modules/react-router/es/index.js")),i=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),l=n(/*! redux */"./node_modules/redux/es/index.js"),c=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),d=n(/*! ../I18N */"./app/react/I18N/index.js"),u=n(/*! ../socket */"./app/react/socket.js"),p=n(/*! ../App/RouteHandler */"./app/react/App/RouteHandler.js"),m=n(/*! ../App/ShowIf */"./app/react/App/ShowIf.js"),f=n(/*! ../Thesauris/actions/thesaurisActions */"./app/react/Thesauris/actions/thesaurisActions.js"),h=n(/*! ../Auth */"./app/react/Auth/index.js");function y(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const v=()=>{window.location.reload()};class b extends p.default{constructor(e,t){super(e,t),this.state={error:!1,recoverPassword:!1},this.submit=this.submit.bind(this)}submit(e){return this.state.recoverPassword?this.recoverPassword(e.username):this.login(e)}recoverPassword(e){return this.setState({recoverPassword:!1,error:!1}),this.props.reset("login.form"),this.props.recoverPassword(e)}login(e){return this.props.login(e).then(()=>{if(this.props.private)return a.browserHistory.push("/"),void v();Object(u.reconnectSocket)(),this.props.reloadThesauris(),a.browserHistory.push("/")}).catch(()=>{this.setState({error:!0})})}setRecoverPassword(){this.props.reset("login.form"),this.setState({recoverPassword:!0,error:!1})}setLogin(){this.props.reset("login.form"),this.setState({recoverPassword:!1,error:!1})}render(){return y("div",{className:"content login-content"},void 0,y("div",{className:"row"},void 0,y("div",{className:"col-xs-12 col-sm-4 col-sm-offset-4"},void 0,y("h1",{className:"login-title"},void 0,y("img",{src:"/public/logo.svg",title:"uwazi",alt:"uwazi"})),y(c.Form,{onSubmit:this.submit,model:"login.form"},void 0,y("div",{className:`form-group login-email${this.state.error?" has-error":""}`},void 0,y(c.Field,{model:"login.form.username"},void 0,y("label",{className:"form-group-label",htmlFor:"username"},void 0,this.state.recoverPassword?Object(d.t)("System","Email"):Object(d.t)("System","User")),y("input",{type:"text",name:"username",id:"username",className:"form-control"}))),y("div",{className:`form-group login-password ${this.state.error?"has-error":""}${this.state.recoverPassword?" is-hidden":""}`},void 0,y("label",{className:"form-group-label",htmlFor:"password"},void 0,Object(d.t)("System","Password")),y(c.Field,{model:"login.form.password"},void 0,y("input",{type:"password",name:"password",id:"password",className:"form-control"})),y("div",{className:"form-text"},void 0,this.state.error&&y("span",{},void 0,Object(d.t)("System","Login failed")," - "),y("a",{title:Object(d.t)("System","Forgot Password?",null,!1),onClick:this.setRecoverPassword.bind(this),className:this.state.error?"label-danger":""},void 0,Object(d.t)("System","Forgot Password?")))),y("p",{},void 0,y("button",{type:"submit",className:`btn btn-block btn-lg ${this.state.recoverPassword?"btn-success":"btn-primary"}`},void 0,this.state.recoverPassword?Object(d.t)("System","Send recovery email"):Object(d.t)("System","Login button","Login"))),y(m.default,{if:this.state.recoverPassword},void 0,y("div",{className:"form-text"},void 0,y("a",{title:Object(d.t)("System","Cancel",null,!1),onClick:this.setLogin.bind(this)},void 0,Object(d.t)("System","Cancel"))))))))}}function g({settings:e}){return{private:e.collection.get("private")}}b.propTypes={login:r.a.func,recoverPassword:r.a.func,reloadThesauris:r.a.func},t.default=Object(i.connect)(g,function(e){return Object(l.bindActionCreators)({login:h.default.actions.login,recoverPassword:h.default.actions.recoverPassword,reset:c.actions.reset,reloadThesauris:f.reloadThesauris},e)})(b)},"./app/react/Users/ResetPassword.js":
/*!******************************************!*\
  !*** ./app/react/Users/ResetPassword.js ***!
  \******************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! prop-types */"./node_modules/prop-types/index.js"),r=n.n(s),a=(n(/*! react */"./node_modules/react/index.js"),n(/*! react-redux */"./node_modules/react-redux/es/index.js")),i=n(/*! redux */"./node_modules/redux/es/index.js"),l=n(/*! react-router */"./node_modules/react-router/es/index.js"),c=n(/*! ../App/RouteHandler */"./app/react/App/RouteHandler.js"),d=n(/*! query-string */"./node_modules/query-string/index.js"),u=n.n(d),p=n(/*! ../UI */"./app/react/UI/index.js"),m=n(/*! ../Auth */"./app/react/Auth/index.js");function f(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class h extends c.default{constructor(e,t){super(e,t),this.state={error:!1,password:"",repeatPassword:""},this.submit=this.submit.bind(this),this.passwordChange=this.passwordChange.bind(this),this.repeatPasswordChange=this.repeatPasswordChange.bind(this)}passwordChange(e){this.setState({password:e.target.value}),this.setState({passwordError:!1})}repeatPasswordChange(e){this.setState({repeatPassword:e.target.value}),this.setState({passwordError:!1})}submit(e){e.preventDefault();const t=this.state.password!==this.state.repeatPassword;""===this.state.password.trim()||t?this.setState({error:!0}):(this.props.resetPassword(this.state.password,this.props.params.key).then(()=>{l.browserHistory.push("/login")}),this.setState({password:"",repeatPassword:""}))}render(){return f("div",{className:"content login-content"},void 0,f("div",{className:"row"},void 0,f("div",{className:"col-xs-12 col-sm-4 col-sm-offset-4"},void 0,"true"===u.a.parse(this.context.router.location.search).createAccount&&f("div",{className:"alert alert-info"},void 0,f(p.Icon,{icon:"info-circle"}),f("div",{},void 0,"To complete the account creation process, please create a password for your account")),f("form",{onSubmit:this.submit},void 0,f("div",{className:`form-group login-email ${this.state.error?"has-error":""}`},void 0,f("label",{className:"form-group-label",htmlFor:"password"},void 0,"Password"),f("input",{onChange:this.passwordChange,value:this.state.password,type:"password",name:"password",id:"password",className:"form-control"})),f("div",{className:`form-group login-password ${this.state.error?"has-error":""}`},void 0,f("label",{className:"form-group-label",htmlFor:"repeat-password"},void 0,"Repeat Password"),f("input",{value:this.state.repeatPassword,onChange:this.repeatPasswordChange,type:"password",name:"repeat-password",id:"repeat-password",className:"form-control"}),this.state.error&&f("div",{className:"required"},void 0,"Passwords don’t match")),f("button",{type:"submit",className:"btn btn-block btn-lg btn-primary"},void 0,"Save password")))))}}h.propTypes={resetPassword:r.a.func,params:r.a.shape({key:r.a.string})},t.default=Object(a.connect)(null,function(e){return Object(i.bindActionCreators)({resetPassword:m.default.actions.resetPassword},e)})(h)},"./app/react/Users/UnlockAccount.js":
/*!******************************************!*\
  !*** ./app/react/Users/UnlockAccount.js ***!
  \******************************************/
/*! exports provided: UnlockAccount, default */function(e,t,n){"use strict";n.r(t),n.d(t,"UnlockAccount",function(){return p});n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! prop-types */"./node_modules/prop-types/index.js"),r=n.n(s),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=n(/*! redux */"./node_modules/redux/es/index.js"),l=n(/*! react-router */"./node_modules/react-router/es/index.js"),c=n(/*! ../App/RouteHandler */"./app/react/App/RouteHandler.js"),d=n(/*! ../Auth */"./app/react/Auth/index.js");function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class p extends c.default{unlockAccount(){const{username:e,code:t}=this.props.params;this.props.unlockAccount({username:e,code:t}).then(()=>{l.browserHistory.push("/login")}).catch(()=>{l.browserHistory.push("/login")})}componentDidMount(){this.unlockAccount()}render(){return u("div",{className:"content login-content"},void 0,u("div",{className:"row"},void 0,u("div",{className:"col-xs-12 col-sm-4 col-sm-offset-4 text-center"},void 0,"Verifying...")))}}p.propTypes={unlockAccount:r.a.func,params:r.a.shape({username:r.a.string,code:r.a.string})},t.default=Object(a.connect)(null,function(e){return Object(i.bindActionCreators)({unlockAccount:d.default.actions.unlockAccount},e)})(p)},"./app/react/Users/Users.js":
/*!**********************************!*\
  !*** ./app/react/Users/Users.js ***!
  \**********************************/
/*! exports provided: Users, default */function(e,t,n){"use strict";n.r(t),n.d(t,"Users",function(){return l});n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! ../App/RouteHandler */"./app/react/App/RouteHandler.js"),r=n(/*! ../BasicReducer */"./app/react/BasicReducer/index.js"),a=n(/*! ./UsersAPI */"./app/react/Users/UsersAPI.js"),i=n(/*! ./components/UsersList */"./app/react/Users/components/UsersList.js");class l extends s.default{static async requestState(e){const t=await a.default.get(e);return[r.actions.set("users",t)]}render(){return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{})}}t.default=l},"./app/react/Users/UsersAPI.js":
/*!*************************************!*\
  !*** ./app/react/Users/UsersAPI.js ***!
  \*************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ../utils/api */"./app/react/utils/api.js");t.default={save:e=>o.default.post("users",e).then(e=>e.json),new:e=>o.default.post("users/new",e).then(e=>e.json),currentUser:e=>o.default.get("user",e).then(e=>e.json),get:e=>o.default.get("users",e).then(e=>e.json),getById:e=>o.default.get("users",e).then(e=>e.json[0]),delete:e=>o.default.delete("users",e).then(e=>e.json)}},"./app/react/Users/actions/actions.js":
/*!********************************************!*\
  !*** ./app/react/Users/actions/actions.js ***!
  \********************************************/
/*! exports provided: deleteUser, saveUser, newUser */function(e,t,n){"use strict";n.r(t),n.d(t,"deleteUser",function(){return i}),n.d(t,"saveUser",function(){return l}),n.d(t,"newUser",function(){return c});var o=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),s=n(/*! ../../Notifications */"./app/react/Notifications/index.js"),r=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js"),a=n(/*! ../UsersAPI */"./app/react/Users/UsersAPI.js");function i(e){return t=>a.default.delete(new r.RequestParams(e)).then(()=>{t(o.actions.remove("users",e)),t(s.notificationActions.notify("Deleted successfully.","success"))})}function l(e){return t=>a.default.save(new r.RequestParams(e)).then(()=>{t(o.actions.push("users",e)),t(s.notificationActions.notify("Saved successfully.","success"))})}function c(e){return t=>a.default.new(new r.RequestParams(e)).then(()=>{t(o.actions.push("users",e)),t(s.notificationActions.notify("Created successfully.","success"))})}},"./app/react/Users/components/EditUser.js":
/*!************************************************!*\
  !*** ./app/react/Users/components/EditUser.js ***!
  \************************************************/
/*! exports provided: EditUser, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"EditUser",function(){return u}),n.d(t,"mapStateToProps",function(){return p});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! redux */"./node_modules/redux/es/index.js"),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),l=n.n(i),c=n(/*! ../actions/actions */"./app/react/Users/actions/actions.js"),d=n(/*! ./UserForm */"./app/react/Users/components/UserForm.js");class u extends s.Component{render(){return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{submit:this.props.saveUser,user:this.props.user})}}function p({users:e},t){return{user:e.find(e=>e.get("_id")===t.params.userId)}}u.defaultProps={user:l.a.fromJS({})},t.default=Object(a.connect)(p,function(e){return Object(r.bindActionCreators)({saveUser:c.saveUser},e)})(u)},"./app/react/Users/components/NewUser.js":
/*!***********************************************!*\
  !*** ./app/react/Users/components/NewUser.js ***!
  \***********************************************/
/*! exports provided: NewUser, default */function(e,t,n){"use strict";n.r(t),n.d(t,"NewUser",function(){return c});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! redux */"./node_modules/redux/es/index.js"),a=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),i=n(/*! ../actions/actions */"./app/react/Users/actions/actions.js"),l=n(/*! ./UserForm */"./app/react/Users/components/UserForm.js");class c extends s.Component{render(){return function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{submit:this.props.newUser})}}t.default=Object(a.connect)(null,function(e){return Object(r.bindActionCreators)({newUser:i.newUser},e)})(c)},"./app/react/Users/components/UserForm.js":
/*!************************************************!*\
  !*** ./app/react/Users/components/UserForm.js ***!
  \************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),a=n.n(r),i=n(/*! ../../I18N */"./app/react/I18N/index.js"),l=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),c=n(/*! ../../Metadata/helpers/validator */"./app/react/Metadata/helpers/validator.js"),d=n(/*! ../../Forms */"./app/react/Forms/index.js"),u=n(/*! ../../Layout */"./app/react/Layout/index.js"),p=n(/*! ../../UI */"./app/react/UI/index.js");function m(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class f extends s.Component{static formGroup(e,t,n="text"){return m(d.FormGroup,{model:`.${e}`},void 0,m(l.Field,{model:`.${e}`},void 0,m("label",{className:"form-group-label",htmlFor:e},void 0,m("input",{type:n,id:e,className:"form-control"}),t)))}static footer(){return m("div",{className:"settings-footer"},void 0,m(u.BackButton,{to:"/settings/users"}),m("button",{type:"submit",className:"btn btn-success save-template"},void 0,m(p.Icon,{icon:"save"}),m("span",{className:"btn-label"},void 0,Object(i.t)("System","Save"))))}static getClassBasedOnRole(e){return`${"admin"===e?"label-success":"label-danger"}`}static getIconBasedOnRole(e){return`${"admin"===e?"check":"times"}`}static permissions(e,t){return m("div",{className:"col-sm-6"},void 0,m("div",{className:"well"},void 0,m("label",{htmlFor:e},void 0,m("input",{type:"radio",id:e,name:"role",value:e})," ",Object(i.t)("System",t)),m("hr",{}),m("p",{},void 0,m(p.Icon,{icon:"check",className:"label-success"})," ",Object(i.t)("System","Upload documents and create entities")),m("p",{},void 0,m(p.Icon,{icon:"check",className:"label-success"})," ",Object(i.t)("System","Delete documents and entities")),m("p",{},void 0,m(p.Icon,{icon:"check",className:"label-success"})," ",Object(i.t)("System","Apply properties to documents/entities")),m("p",{},void 0,m(p.Icon,{icon:"check",className:"label-success"})," ",Object(i.t)("System","Create connections and references")),m("p",{},void 0,m(p.Icon,{icon:"check",className:"label-success"})," ",Object(i.t)("System","Create a table of contents")),m("p",{},void 0,m(p.Icon,{icon:f.getIconBasedOnRole(e),className:f.getClassBasedOnRole(e)})," ",Object(i.t)("System","Manage site settings and configuration")),m("p",{},void 0,m(p.Icon,{icon:f.getIconBasedOnRole(e),className:f.getClassBasedOnRole(e)})," ",Object(i.t)("System","Add/delete users and assign roles")),m("p",{},void 0,m(p.Icon,{icon:f.getIconBasedOnRole(e),className:f.getClassBasedOnRole(e)})," ",Object(i.t)("System","Configure filters")),m("p",{},void 0,m(p.Icon,{icon:f.getIconBasedOnRole(e),className:f.getClassBasedOnRole(e)})," ",Object(i.t)("System","Add/edit translations")),m("p",{},void 0,m(p.Icon,{icon:f.getIconBasedOnRole(e),className:f.getClassBasedOnRole(e)})," ",Object(i.t)("System","Create document and entity types")),m("p",{},void 0,m(p.Icon,{icon:f.getIconBasedOnRole(e),className:f.getClassBasedOnRole(e)})," ",Object(i.t)("System","Create dictionaries")),m("p",{},void 0,m(p.Icon,{icon:f.getIconBasedOnRole(e),className:f.getClassBasedOnRole(e)})," ",Object(i.t)("System","Name connections"))))}constructor(e){super(e),this.submit=this.submit.bind(this)}submit(e){this.props.submit(e)}render(){const e={username:{required:c.notEmpty},email:{required:c.notEmpty},role:{required:c.notEmpty}};return m("div",{className:"user-creator"},void 0,m(l.LocalForm,{initialState:this.props.user.toJS(),onSubmit:this.props.submit,validators:e},void 0,m("div",{className:"panel-default panel"},void 0,m("div",{className:"panel-heading"},void 0,this.props.user.get("username")||"New User"),m("div",{className:"panel-body"},void 0,f.formGroup("username",Object(i.t)("System","Username")),f.formGroup("email",Object(i.t)("System","Email")),f.formGroup("password",Object(i.t)("System","Password"),"password"),m(d.FormGroup,{model:".role",className:"form-group-radio"},void 0,m(l.Field,{model:".role"},void 0,Object(i.t)("System","Role"),m("div",{className:"row"},void 0,f.permissions("admin","Admin"),f.permissions("editor","Editor"))))),f.footer())))}}f.defaultProps={user:a.a.fromJS({})},t.default=f},"./app/react/Users/components/UsersList.js":
/*!*************************************************!*\
  !*** ./app/react/Users/components/UsersList.js ***!
  \*************************************************/
/*! exports provided: UsersList, mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"UsersList",function(){return m}),n.d(t,"mapStateToProps",function(){return f});var o,s=n(/*! prop-types */"./node_modules/prop-types/index.js"),r=n.n(s),a=n(/*! react */"./node_modules/react/index.js"),i=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),l=n(/*! ../../I18N */"./app/react/I18N/index.js"),c=n(/*! redux */"./node_modules/redux/es/index.js"),d=n(/*! ../actions/actions */"./app/react/Users/actions/actions.js"),u=n(/*! ../../UI */"./app/react/UI/index.js");function p(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class m extends a.Component{deleteUser(e){return this.context.confirm({accept:()=>{this.props.deleteUser({_id:e.get("_id"),sharedId:e.get("sharedId")})},title:`Confirm delete user: ${e.get("username")}`,message:"Are you sure you want to delete this user?"})}render(){const{users:e}=this.props;return p("div",{className:"panel panel-default"},void 0,p("div",{className:"panel-heading"},void 0,Object(l.t)("System","Users")),p("ul",{className:"list-group users"},void 0,e.map((e,t)=>p("li",{className:"list-group-item"},t,p("span",{},void 0,e.get("username")),p("div",{className:"list-group-item-actions"},void 0,p(l.I18NLink,{to:`/settings/users/edit/${e.get("_id")}`,className:"btn btn-default btn-xs"},void 0,p(u.Icon,{icon:"pencil-alt"})," ",p("span",{},void 0,Object(l.t)("System","Edit"))),p("a",{onClick:this.deleteUser.bind(this,e),className:"btn btn-danger btn-xs template-remove"},void 0,p(u.Icon,{icon:"trash-alt"})," ",p("span",{},void 0,Object(l.t)("System","Delete"))))))),p("div",{className:"settings-footer"},void 0,p(l.I18NLink,{to:"/settings/users/new",className:"btn btn-success"},void 0,p(u.Icon,{icon:"plus"}),p("span",{className:"btn-label"},void 0,Object(l.t)("System","Add user")))))}}function f({users:e}){return{users:e}}m.contextTypes={confirm:r.a.func},t.default=Object(i.connect)(f,function(e){return Object(c.bindActionCreators)({deleteUser:d.deleteUser},e)})(m)},"./app/react/Users/index.js":
/*!**********************************!*\
  !*** ./app/react/Users/index.js ***!
  \**********************************/
/*! exports provided: Users, NewUser, EditUser */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./Users */"./app/react/Users/Users.js");n.d(t,"Users",function(){return o.default});var s=n(/*! ./components/NewUser */"./app/react/Users/components/NewUser.js");n.d(t,"NewUser",function(){return s.default});var r=n(/*! ./components/EditUser */"./app/react/Users/components/EditUser.js");n.d(t,"EditUser",function(){return r.default})},"./app/react/Users/reducers/login.js":
/*!*******************************************!*\
  !*** ./app/react/Users/reducers/login.js ***!
  \*******************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! redux */"./node_modules/redux/es/index.js"),s=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js");t.default=Object(o.combineReducers)({form:Object(s.modelReducer)("login.form",{username:"",password:""}),formState:Object(s.formReducer)("login.form")})},"./app/react/Viewer/ViewDocument.js":
/*!******************************************!*\
  !*** ./app/react/Viewer/ViewDocument.js ***!
  \******************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! react-helmet */"./node_modules/react-helmet/lib/Helmet.js"),r=n(/*! react-router */"./node_modules/react-router/es/index.js"),a=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),i=n(/*! react */"./node_modules/react/index.js"),l=n.n(i),c=n(/*! ../utils/RequestParams */"./app/react/utils/RequestParams.js"),d=n(/*! ../BasicReducer */"./app/react/BasicReducer/index.js"),u=n(/*! ../utils */"./app/react/utils/index.js"),p=n(/*! ../../shared/JSONRequest */"./app/shared/JSONRequest.js"),m=n(/*! ../App/RouteHandler */"./app/react/App/RouteHandler.js"),f=n(/*! ./components/Viewer */"./app/react/Viewer/components/Viewer.js"),h=n(/*! ../Entities/EntitiesAPI */"./app/react/Entities/EntitiesAPI.js"),y=n(/*! ../Relationships/utils/routeUtils */"./app/react/Relationships/utils/routeUtils.js"),v=n(/*! ./actions/referencesActions */"./app/react/Viewer/actions/referencesActions.js"),b=n(/*! ./actions/uiActions */"./app/react/Viewer/actions/uiActions.js"),g=n(/*! ./actions/routeActions */"./app/react/Viewer/actions/routeActions.js");function j(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){if(null==e)return{};var n,o,s=function(e,t){if(null==e)return{};var n,o,s={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}class w extends m.default{constructor(e,t){super(e,t),this.changeBrowserHistoryPage=this.changeBrowserHistoryPage.bind(this),this.changePage=this.changePage.bind(this),this.onDocumentReady=this.onDocumentReady.bind(this)}static async requestState(e,t){return Object(g.requestViewerState)(e.add({raw:"true"===e.data.raw||!u.isClient}),t)}componentWillUnmount(){this.emptyState()}componentWillMount(){this.props.location.query.searchTerm&&this.context.store.dispatch(d.actions.set("viewer.sidepanel.tab","text-search"))}componentWillReceiveProps(e){super.componentWillReceiveProps(e);const{query:t={}}=e.location;if(t.page!==this.props.location.query.page&&"true"!==t.raw&&this.changePage(t.page),(t.page!==this.props.location.query.page||t.raw!==this.props.location.query.raw)&&"true"===t.raw){const{sharedId:n}=e.params;return h.default.getRawPage(new c.RequestParams({sharedId:n,pageNumber:t.page})).then(e=>{this.context.store.dispatch(d.actions.set("viewer/rawText",e))})}}emptyState(){this.context.store.dispatch(d.actions.unset("viewer/doc")),this.context.store.dispatch(d.actions.unset("viewer/templates")),this.context.store.dispatch(d.actions.unset("viewer/thesauris")),this.context.store.dispatch(d.actions.unset("viewer/relationTypes")),this.context.store.dispatch(d.actions.unset("viewer/rawText")),this.context.store.dispatch(a.actions.reset("documentViewer.tocForm")),this.context.store.dispatch(d.actions.unset("viewer/targetDoc")),this.context.store.dispatch(Object(v.setReferences)([])),this.context.store.dispatch(y.emptyState())}changePage(e){return this.props.location.query.raw?this.changeBrowserHistoryPage(e):Object(b.scrollToPage)(e)}changeBrowserHistoryPage(e){const{query:{page:t}}=this.props.location,n=x(this.props.location.query,["page"]);n.raw=n.raw||void 0,r.browserHistory.push(`${this.props.location.pathname}${Object(p.toUrlParams)(function(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};S(n,!0).forEach(function(t){_(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):S(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}({},n,{page:e}))}`)}onDocumentReady(e){if(u.events.emit("documentLoaded"),"true"===this.props.location.query.raw)return;this.props.location.query.page&&Object(b.scrollToPage)(this.props.location.query.page,0);const{ref:t}=this.props.location.query;if(t){const n=e.get("relationships").find(e=>e.get("_id")===t);this.context.store.dispatch(Object(b.activateReference)(n.toJS(),e.get("pdfInfo").toJS()))}}render(){const{query:e={},pathname:t}=this.props.location,n="true"===e.raw||!u.isClient,o=Number(e.page||1);return j(l.a.Fragment,{},void 0,j(s.Helmet,{},void 0,n&&j("link",{rel:"canonical",href:`${t}?page=${o}`})),j(f.default,{raw:n,searchTerm:e.searchTerm,onPageChange:this.changeBrowserHistoryPage,onDocumentReady:this.onDocumentReady,changePage:this.changePage,page:o}))}}w.defaultProps={params:{}},t.default=w},"./app/react/Viewer/actions/actionTypes.js":
/*!*************************************************!*\
  !*** ./app/react/Viewer/actions/actionTypes.js ***!
  \*************************************************/
/*! exports provided: SET_REFERENCES, VIEWER_SET_TEMPLATES, VIEWER_SET_THESAURIS, SET_DOCUMENT, SET_TARGET_DOCUMENT, RESET_DOCUMENT_VIEWER, SET_SELECTION, UNSET_SELECTION, SET_TARGET_SELECTION, UNSET_TARGET_SELECTION, VIEWER_UPDATE_DOCUMENT, ADD_REFERENCE, REMOVE_REFERENCE, LOAD_DEFAULT_VIEWER_MENU, GO_TO_ACTIVE, OPEN_PANEL, PDF_READY, TARGET_PDF_READY, SHOW_TAB, CLOSE_PANEL, SELECT_TARGET_DOCUMENT, RESET_REFERENCE_CREATION, HIGHLIGHT_REFERENCE, ACTIVE_REFERENCE, DEACTIVATE_REFERENCE, SELECT_SNIPPET */function(e,t,n){"use strict";n.r(t),n.d(t,"SET_REFERENCES",function(){return o}),n.d(t,"VIEWER_SET_TEMPLATES",function(){return s}),n.d(t,"VIEWER_SET_THESAURIS",function(){return r}),n.d(t,"SET_DOCUMENT",function(){return a}),n.d(t,"SET_TARGET_DOCUMENT",function(){return i}),n.d(t,"RESET_DOCUMENT_VIEWER",function(){return l}),n.d(t,"SET_SELECTION",function(){return c}),n.d(t,"UNSET_SELECTION",function(){return d}),n.d(t,"SET_TARGET_SELECTION",function(){return u}),n.d(t,"UNSET_TARGET_SELECTION",function(){return p}),n.d(t,"VIEWER_UPDATE_DOCUMENT",function(){return m}),n.d(t,"ADD_REFERENCE",function(){return f}),n.d(t,"REMOVE_REFERENCE",function(){return h}),n.d(t,"LOAD_DEFAULT_VIEWER_MENU",function(){return y}),n.d(t,"GO_TO_ACTIVE",function(){return v}),n.d(t,"OPEN_PANEL",function(){return b}),n.d(t,"PDF_READY",function(){return g}),n.d(t,"TARGET_PDF_READY",function(){return j}),n.d(t,"SHOW_TAB",function(){return S}),n.d(t,"CLOSE_PANEL",function(){return _}),n.d(t,"SELECT_TARGET_DOCUMENT",function(){return x}),n.d(t,"RESET_REFERENCE_CREATION",function(){return w}),n.d(t,"HIGHLIGHT_REFERENCE",function(){return O}),n.d(t,"ACTIVE_REFERENCE",function(){return T}),n.d(t,"DEACTIVATE_REFERENCE",function(){return C}),n.d(t,"SELECT_SNIPPET",function(){return N});const o="SET_REFERENCES",s="VIEWER_SET_TEMPLATES",r="VIEWER_SET_THESAURIS",a="SET_DOCUMENT",i="SET_TARGET_DOCUMENT",l="RESET_DOCUMENT_VIEWER",c="SET_SELECTION",d="UNSET_SELECTION",u="SET_TARGET_SELECTION",p="UNSET_TARGET_SELECTION",m="VEWER_UPDATE_DOCUMENT",f="ADD_CREATED_REFERENCE",h="REMOVE_REFERENCE",y="LOAD_DEFAULT_VIEWER_MENU",v="GO_TO_ACTIVE",b="OPEN_PANEL",g="PDF_READY",j="TARGET_PDF_READY",S="SHOW_TAB",_="CLOSE_PANEL",x="SELECT_TARGET_DOCUMENT",w="RESET_REFERENCE_CREATION",O="HIGHLIGHT_REFERENCE",T="ACTIVE_REFERENCE",C="DEACTIVATE_REFERENCE",N="SELECT_SNIPPET"},"./app/react/Viewer/actions/documentActions.js":
/*!*****************************************************!*\
  !*** ./app/react/Viewer/actions/documentActions.js ***!
  \*****************************************************/
/*! exports provided: setDocument, resetDocumentViewer, loadDefaultViewerMenu, saveDocument, saveToc, deleteDocument, getDocument, loadTargetDocument, cancelTargetDocument, editToc, removeFromToc, indentTocElement, addToToc */function(e,t,n){"use strict";n.r(t),n.d(t,"setDocument",function(){return g}),n.d(t,"resetDocumentViewer",function(){return j}),n.d(t,"loadDefaultViewerMenu",function(){return S}),n.d(t,"saveDocument",function(){return _}),n.d(t,"saveToc",function(){return x}),n.d(t,"deleteDocument",function(){return w}),n.d(t,"getDocument",function(){return O}),n.d(t,"loadTargetDocument",function(){return T}),n.d(t,"cancelTargetDocument",function(){return C}),n.d(t,"editToc",function(){return N}),n.d(t,"removeFromToc",function(){return I}),n.d(t,"indentTocElement",function(){return P}),n.d(t,"addToToc",function(){return k});var o=n(/*! ../../utils/api */"./app/react/utils/api.js"),s=n(/*! ../referencesAPI */"./app/react/Viewer/referencesAPI.js"),r=n(/*! ./actionTypes */"./app/react/Viewer/actions/actionTypes.js"),a=n(/*! ../../Connections/actions/actionTypes */"./app/react/Connections/actions/actionTypes.js"),i=n(/*! ../../config.js */"./app/react/config.js"),l=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),c=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),d=n(/*! ../../Documents */"./app/react/Documents/index.js"),u=n(/*! ../../Notifications */"./app/react/Notifications/index.js"),p=n(/*! ../../Library/actions/libraryActions */"./app/react/Library/actions/libraryActions.js"),m=n(/*! ../../utils */"./app/react/utils/index.js"),f=n(/*! ../../Relationships */"./app/react/Relationships/index.js"),h=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js"),y=n(/*! ./selectionActions */"./app/react/Viewer/actions/selectionActions.js"),v=n(/*! ./uiActions */"./app/react/Viewer/actions/uiActions.js"),b=n(/*! ../../PDF */"./app/react/PDF/index.js");function g(e,t){return{type:r.SET_DOCUMENT,document:e,html:t}}function j(){return{type:r.RESET_DOCUMENT_VIEWER}}function S(){return{type:r.LOAD_DEFAULT_VIEWER_MENU}}function _(e){const t={};return Object.keys(e).forEach(n=>{"fullText"!==n&&(t[n]=e[n])}),n=>d.documentsApi.save(new h.RequestParams(t)).then(t=>{n(u.notificationActions.notify("Document updated","success")),n({type:r.VIEWER_UPDATE_DOCUMENT,doc:e}),n(c.actions.reset("documentViewer.sidepanel.metadata")),n(l.actions.set("viewer/doc",t)),n(f.actions.reloadRelationships(t.sharedId))})}function x(e){return(t,n)=>{const{_id:o,_rev:s,sharedId:r,file:a}=n().documentViewer.doc.toJS();return t(c.actions.reset("documentViewer.sidepanel.metadata")),t(l.actions.set("documentViewer/tocBeingEdited",!1)),t(_({_id:o,_rev:s,sharedId:r,toc:e,file:a}))}}function w(e){return t=>d.documentsApi.delete(new h.RequestParams({sharedId:e.sharedId})).then(()=>{t(u.notificationActions.notify("Document deleted","success")),t(j()),t(Object(p.removeDocument)(e)),t(Object(p.unselectAllDocuments)())})}function O(e){return o.default.get("entities",e).then(e=>{const t=e.json.rows[0];return m.isClient?t.pdfInfo||!t.file?t:b.PDFUtils.extractPDFInfo(`${i.APIURL}documents/download?_id=${t._id}`).then(e=>{const{_id:n,sharedId:s}=t;return o.default.post("documents/pdfInfo",new h.RequestParams({_id:n,sharedId:s,pdfInfo:e})).then(e=>e.json)}):t})}function T(e){return t=>Promise.all([O(new h.RequestParams({sharedId:e})),s.default.get(new h.RequestParams({sharedId:e}))]).then(([e,n])=>{t(l.actions.set("viewer/targetDoc",e)),t(l.actions.set("viewer/targetDocReferences",n))})}function C(){return e=>{e({type:a.CANCEL_RANGED_CONNECTION}),e(l.actions.unset("viewer/targetDoc")),e(l.actions.unset("viewer/targetDocReferences")),e(y.unsetTargetSelection()),e(v.openPanel("viewMetadataPanel"))}}function N(e){return t=>{t(l.actions.set("documentViewer/tocBeingEdited",!0)),t(c.actions.load("documentViewer.tocForm",e)),t(v.openPanel("viewMetadataPanel")),t(l.actions.set("viewer.sidepanel.tab","toc"))}}function I(e){return(t,n)=>{let o=n().documentViewer.tocForm;o=o.filter(t=>t!==e),t(c.actions.load("documentViewer.tocForm",o))}}function P(e,t){return(n,o)=>{const s=o().documentViewer.tocForm.map(n=>{const o=Object.assign({},n);return n===e&&(o.indentation=t),o});n(c.actions.load("documentViewer.tocForm",s))}}function k(e){return(t,n)=>{const o=n();let s=o.documentViewer.tocForm.concat();s.length||(s=o.documentViewer.doc.toJS().toc||[]);const r={range:{start:e.sourceRange.start,end:e.sourceRange.end},label:e.sourceRange.text,indentation:0};s.push(r),t(N(s=s.sort((e,t)=>e.range.start-t.range.start)))}}},"./app/react/Viewer/actions/referencesActions.js":
/*!*******************************************************!*\
  !*** ./app/react/Viewer/actions/referencesActions.js ***!
  \*******************************************************/
/*! exports provided: setReferences, loadReferences, addReference, saveTargetRangedReference, deleteReference */function(e,t,n){"use strict";n.r(t),n.d(t,"setReferences",function(){return m}),n.d(t,"loadReferences",function(){return f}),n.d(t,"addReference",function(){return h}),n.d(t,"saveTargetRangedReference",function(){return y}),n.d(t,"deleteReference",function(){return v});var o=n(/*! ./actionTypes */"./app/react/Viewer/actions/actionTypes.js"),s=n(/*! ../referencesAPI */"./app/react/Viewer/referencesAPI.js"),r=n(/*! ../../Notifications */"./app/react/Notifications/index.js"),a=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),i=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js"),l=n(/*! ../../Connections */"./app/react/Connections/index.js"),c=n(/*! ../../Relationships/actions/actions */"./app/react/Relationships/actions/actions.js"),d=n(/*! ./uiActions */"./app/react/Viewer/actions/uiActions.js");function u(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return{type:o.SET_REFERENCES,references:e}}function f(e){return t=>s.default.get(new i.RequestParams({sharedId:e})).then(e=>{t(m(e))})}function h(e,t,n){return(s,r)=>{s({type:o.ADD_REFERENCE,reference:e[0][1]}),s({type:o.ADD_REFERENCE,reference:e[0][0]}),s(a.actions.unset("viewer/targetDoc")),s(a.actions.unset("viewer/targetDocHTML")),s(a.actions.unset("viewer/targetDocReferences")),s(Object(c.reloadRelationships)(r().relationships.list.sharedId)),s(d.activateReference(e[0][0],t,"references",n))}}function y(e,t,n){return(o,s)=>{if(t.text)return o(a.actions.unset("viewer/targetDocReferences")),l.actions.saveConnection(function(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};u(n,!0).forEach(function(t){p(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):u(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}({},e,{targetRange:t}),n)(o,s)}}function v(e){const{_id:t}=e.associatedRelationship;return(n,a)=>s.default.delete(new i.RequestParams({_id:t})).then(()=>{n(Object(c.reloadRelationships)(a().relationships.list.sharedId)),n({type:o.REMOVE_REFERENCE,reference:e}),n(r.notificationActions.notify("Connection deleted","success"))})}},"./app/react/Viewer/actions/routeActions.js":
/*!**************************************************!*\
  !*** ./app/react/Viewer/actions/routeActions.js ***!
  \**************************************************/
/*! exports provided: setViewerState, requestViewerState */function(e,t,n){"use strict";n.r(t),n.d(t,"setViewerState",function(){return d}),n.d(t,"requestViewerState",function(){return u});var o=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),s=n(/*! ./documentActions */"./app/react/Viewer/actions/documentActions.js"),r=n(/*! ../referencesAPI */"./app/react/Viewer/referencesAPI.js"),a=n(/*! ../../RelationTypes/RelationTypesAPI */"./app/react/RelationTypes/RelationTypesAPI.js"),i=n(/*! ../../Relationships/utils/routeUtils */"./app/react/Relationships/utils/routeUtils.js"),l=n(/*! ./referencesActions */"./app/react/Viewer/actions/referencesActions.js"),c=n(/*! ../../Entities/EntitiesAPI */"./app/react/Entities/EntitiesAPI.js");function d(e){return t=>{const{documentViewer:n}=e;t(o.actions.set("relationTypes",e.relationTypes)),t(o.actions.set("viewer/doc",n.doc)),t(o.actions.set("viewer/relationTypes",n.relationTypes)),t(o.actions.set("viewer/rawText",n.rawText)),t(Object(l.setReferences)(n.references)),t(i.setReduxState(e))}}function u(e,t){const{sharedId:n,raw:o,page:l}=e.data;return Promise.all([Object(s.getDocument)(e.set({sharedId:n})),r.default.get(e.set({sharedId:n})),a.default.get(e.onlyHeaders()),i.requestState(e.set({sharedId:n}),t.templates),o?c.default.getRawPage(e.set({sharedId:n,pageNumber:l})):""]).then(([e,t,n,[o,s,r],a])=>[d({documentViewer:{doc:e,references:t,relationTypes:n,rawText:a},relationships:{list:{sharedId:e.sharedId,entity:e,connectionsGroups:o,searchResults:s,sort:r,filters:{},view:"graph"}},relationTypes:n})])}},"./app/react/Viewer/actions/selectionActions.js":
/*!******************************************************!*\
  !*** ./app/react/Viewer/actions/selectionActions.js ***!
  \******************************************************/
/*! exports provided: setSelection, setTargetSelection, unsetSelection, unsetTargetSelection */function(e,t,n){"use strict";n.r(t),n.d(t,"setSelection",function(){return s}),n.d(t,"setTargetSelection",function(){return r}),n.d(t,"unsetSelection",function(){return a}),n.d(t,"unsetTargetSelection",function(){return i});var o=n(/*! ./actionTypes */"./app/react/Viewer/actions/actionTypes.js");function s(e){return{type:o.SET_SELECTION,sourceRange:e}}function r(e){return{type:o.SET_TARGET_SELECTION,targetRange:e}}function a(){return{type:o.UNSET_SELECTION}}function i(){return{type:o.UNSET_TARGET_SELECTION}}},"./app/react/Viewer/actions/uiActions.js":
/*!***********************************************!*\
  !*** ./app/react/Viewer/actions/uiActions.js ***!
  \***********************************************/
/*! exports provided: closePanel, openPanel, resetReferenceCreation, selectTargetDocument, highlightReference, deactivateReference, goToActive, highlightSnippet, scrollToPage, scrollTomark, scrollTo, selectSnippet, activateReference, scrollToActive, selectReference */function(e,t,n){"use strict";n.r(t),n.d(t,"closePanel",function(){return c}),n.d(t,"openPanel",function(){return d}),n.d(t,"resetReferenceCreation",function(){return u}),n.d(t,"selectTargetDocument",function(){return p}),n.d(t,"highlightReference",function(){return m}),n.d(t,"deactivateReference",function(){return f}),n.d(t,"goToActive",function(){return h}),n.d(t,"highlightSnippet",function(){return y}),n.d(t,"scrollToPage",function(){return v}),n.d(t,"scrollTomark",function(){return b}),n.d(t,"scrollTo",function(){return g}),n.d(t,"selectSnippet",function(){return j}),n.d(t,"activateReference",function(){return S}),n.d(t,"scrollToActive",function(){return _}),n.d(t,"selectReference",function(){return x});var o=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),s=n(/*! ../../utils */"./app/react/utils/index.js"),r=n(/*! ./selectionActions */"./app/react/Viewer/actions/selectionActions.js"),a=n(/*! ../utils/Marker.js */"./app/react/Viewer/utils/Marker.js"),i=n(/*! ../utils/Scroller */"./app/react/Viewer/utils/Scroller.js"),l=n(/*! ./actionTypes */"./app/react/Viewer/actions/actionTypes.js");function c(){return{type:l.CLOSE_PANEL}}function d(e){return{type:l.OPEN_PANEL,panel:e}}function u(){return function(e){e({type:l.RESET_REFERENCE_CREATION}),e(o.actions.unset("viewer/targetDoc")),e(o.actions.unset("viewer/targetDocHTML")),e(o.actions.unset("viewer/targetDocReferences"))}}function p(e){return{type:l.SELECT_TARGET_DOCUMENT,id:e}}function m(e){return{type:l.HIGHLIGHT_REFERENCE,reference:e}}function f(){return{type:l.DEACTIVATE_REFERENCE}}function h(e=!0){return{type:l.GO_TO_ACTIVE,value:e}}function y(e){a.default.init(".document-viewer"),a.default.unmark();const t=e.get("text");if(!t)return;const n=e=>e.replace(/…/g,"...").replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&").replace(/<[^>]*>/g,"").replace(/\s+/g,"\\s*").replace(/\n/g,"\\s*"),o=t.match(/<b>(.|\n)*?<\/b>/g),s=o?o.map(e=>e.replace(/<.*?>/g,"")):[],r=n(t),i=()=>{a.default.init("mark"),a.default.mark(s,{className:"searchTerm",diacritics:!1,acrossElements:!1,separateWordSearch:!0,accuracy:"exactly"})},l=(e=20)=>{if(!e)return;const o=`${n(t.substring(0,e))}.{1,200}${n(t.substring(t.length-e-1,t.length-1))}`,s=new RegExp(o);a.default.markRegExp(s,{separateWordSearch:!1,acrossElements:!0,done:i,noMatch:l.bind(this,e-5)})},c=new RegExp(r);a.default.markRegExp(c,{separateWordSearch:!1,acrossElements:!0,done:i,noMatch:l.bind(this,20)})}function v(e,t=50){i.default.to(`.document-viewer div#page-${e}`,".document-viewer",{duration:t,dividerOffset:1,offset:50})}function b(){i.default.to(".document-viewer mark",".document-viewer",{duration:0})}function g(e,t,n="a"){const o=Object.keys(t).find(n=>t[n].chars>=e.range.start);if(window.document.querySelector(`.document-viewer ${n}[data-${e._id}="${e._id}"]`,".document-viewer"))i.default.to(`.document-viewer ${n}[data-${e._id}="${e._id}"]`,".document-viewer",{duration:50});else{const t=i.default.to(`.document-viewer div#page-${o}`,".document-viewer",{duration:0,dividerOffset:1});s.events.on("referenceRendered",o=>{o.ids.includes(e._id)&&window.document.querySelector(`.document-viewer ${n}[data-${e._id}="${e._id}"]`,".document-viewer")&&(window.clearInterval(t),i.default.to(`.document-viewer ${n}[data-${e._id}="${e._id}"]`,".document-viewer",{duration:50}),s.events.removeAllListeners("referenceRendered"))})}i.default.to(`.metadata-sidepanel .item-${e._id}`,".metadata-sidepanel .sidepanel-body",{duration:50})}function j(e,t){return v(e),setTimeout(()=>{b()},500),e=>{e({type:l.SELECT_SNIPPET,snippet:t})}}function S(e,t,n,r=!1){const a=n&&!Array.isArray(n)?n:"references";return s.events.removeAllListeners("referenceRendered"),n=>{n({type:l.ACTIVE_REFERENCE,reference:e._id}),r&&n(h()),n({type:l.OPEN_PANEL,panel:"viewMetadataPanel"}),n(o.actions.set("viewer.sidepanel.tab",a)),r||setTimeout(()=>{g(e,t)})}}function _(e,t,n,o){return s=>{o&&(s(h(!1)),s(S(e,t,n)))}}function x(e,t){return n=>{n(S(e,t)),n(Object(r.setTargetSelection)(e.range))}}},"./app/react/Viewer/components/ConfirmCloseForm.js":
/*!*********************************************************!*\
  !*** ./app/react/Viewer/components/ConfirmCloseForm.js ***!
  \*********************************************************/
/*! exports provided: ConfirmCloseForm, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ConfirmCloseForm",function(){return m});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),l=n(/*! ../../Modals/actions/modalActions */"./app/react/Modals/actions/modalActions.js"),c=n(/*! ../../Layout/Modal */"./app/react/Layout/Modal.js"),d=n(/*! ../../UI */"./app/react/UI/index.js"),u=n(/*! ../actions/uiActions */"./app/react/Viewer/actions/uiActions.js");function p(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class m extends s.Component{confirm(){this.props.hideModal("ConfirmCloseForm"),this.props.closePanel(),this.props.resetForm("documentViewer.sidepanel.metadata")}render(){if(!this.props.doc)return!1;const{doc:e}=this.props;return p(c.default,{isOpen:!!e,type:"danger"},void 0,p(c.default.Body,{},void 0,p("h4",{},void 0,"Confirm"),p("p",{},void 0,"All changes will be lost, are you sure you want to proceed?")),p(c.default.Footer,{},void 0,p("button",{type:"button",className:"btn btn-default cancel-button",onClick:()=>this.props.hideModal("ConfirmCloseForm")},void 0,p(d.Icon,{icon:"times"})," Cancel"),p("button",{type:"button",className:"btn btn-danger confirm-button",onClick:()=>this.confirm()},void 0,p(d.Icon,{icon:"trash-alt"})," Ok")))}}t.default=Object(r.connect)(e=>({doc:e.modals.get("ConfirmCloseForm")}),function(e){return Object(a.bindActionCreators)({closePanel:u.closePanel,hideModal:l.hideModal,resetForm:i.actions.reset},e)})(m)},"./app/react/Viewer/components/Connection.js":
/*!***************************************************!*\
  !*** ./app/react/Viewer/components/Connection.js ***!
  \***************************************************/
/*! exports provided: Connection, default */function(e,t,n){"use strict";n.r(t),n.d(t,"Connection",function(){return j});var o,s=n(/*! prop-types */"./node_modules/prop-types/index.js"),r=n.n(s),a=n(/*! react */"./node_modules/react/index.js"),i=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),l=n(/*! redux */"./node_modules/redux/es/index.js"),c=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),d=n(/*! ../../I18N */"./app/react/I18N/index.js"),u=n(/*! ../../Auth */"./app/react/Auth/index.js"),p=n(/*! ../../UI */"./app/react/UI/index.js"),m=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),f=n(/*! ../actions/referencesActions */"./app/react/Viewer/actions/referencesActions.js"),h=n(/*! ../actions/uiActions */"./app/react/Viewer/actions/uiActions.js"),y=n(/*! ../../Layout */"./app/react/Layout/index.js"),v=n(/*! reselect */"./node_modules/reselect/lib/index.js");function b(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const g=Object(v.createSelector)(e=>e.documentViewer.targetDoc,e=>e.documentViewer.doc,(e,t)=>e.get("_id")?e.toJS():t.toJS());class j extends a.Component{clickReference(e){this.props.readOnly||(this.props.targetDoc||this.props.activateReference(e,this.props.doc.pdfInfo,this.props.referencesSection),this.props.targetDoc&&void 0!==e.range.start&&this.props.selectReference(e,this.props.doc.pdfInfo))}deleteReference(e){this.context.confirm({accept:()=>{this.props.deleteReference(e)},title:"Confirm delete connection",message:"Are you sure you want to delete this connection?"})}relationType(e){const t=this.props.relationTypes.find(t=>t.get("_id")===e);if(t)return t.name}render(){const e=void 0===this.props.useSourceTargetIcons||this.props.useSourceTargetIcons,{reference:t}=this.props;let n="";const o=this.props.targetDoc&&void 0===t.range.start;this.props.highlighted&&(n="relationship-hover"),this.props.active&&(n="relationship-active"),this.props.active&&this.props.targetDoc&&this.props.targetRange&&(n="relationship-selected"),this.props.readOnly&&(n="");const s=Object(c.fromJS)(t.associatedRelationship.entityData);return b(y.Item,{onMouseEnter:this.props.highlightReference.bind(null,t._id),onMouseLeave:this.props.highlightReference.bind(null,null),onClick:this.clickReference.bind(this,t),doc:s,noMetadata:!0,className:`${n} item-${t._id} ${o?"disabled":""} ${this.props.readOnly?"readOnly":""}`,"data-id":t._id,additionalIcon:b(m.default,{if:e},void 0,b("span",{},void 0,b("i",{className:"fa fa-sign-out-alt"})," ")),additionalText:t.associatedRelationship.range?t.associatedRelationship.range.text:null,additionalMetadata:[{label:"Connection type",value:this.relationType(t.template)}],evalPublished:!0,buttons:b("div",{className:"item-shortcut-group"},void 0,b(m.default,{if:!this.props.targetDoc&&!this.props.readOnly},void 0,b(u.NeedAuthorization,{roles:["admin","editor"]},void 0,b("a",{className:"item-shortcut btn btn-default btn-hover-danger",onClick:this.deleteReference.bind(this,t)},void 0,b(p.Icon,{icon:"trash-alt"})))),b(m.default,{if:!this.props.targetDoc},void 0,b(d.I18NLink,{to:`/${s.get("file")?"document":"entity"}/${s.get("sharedId")}`,onClick:e=>e.stopPropagation(),className:"item-shortcut btn btn-default"},void 0,b(p.Icon,{icon:"file"}))))})}}j.contextTypes={confirm:r.a.func},j.defaultProps={targetDoc:!1,useSourceTargetIcons:!1};t.default=Object(i.connect)((e,t)=>{const{documentViewer:n}=e;return{highlighted:n.uiState.get("highlightedReference")===t.reference._id,active:n.uiState.get("activeReference")===t.reference._id,targetRange:n.uiState.get("reference").get("targetRange"),targetDoc:!!n.targetDoc.get("_id"),relationTypes:n.relationTypes,doc:g(e)}},function(e){return Object(l.bindActionCreators)({highlightReference:h.highlightReference,activateReference:h.activateReference,selectReference:h.selectReference,deactivateReference:h.deactivateReference,deleteReference:f.deleteReference},e)})(j)},"./app/react/Viewer/components/ConnectionsList.js":
/*!********************************************************!*\
  !*** ./app/react/Viewer/components/ConnectionsList.js ***!
  \********************************************************/
/*! exports provided: ConnectionsList, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ConnectionsList",function(){return p});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! ../../I18N */"./app/react/I18N/index.js"),l=n(/*! ../../UI */"./app/react/UI/index.js"),c=n(/*! ../actions/uiActions */"./app/react/Viewer/actions/uiActions.js"),d=n(/*! ./Connection */"./app/react/Viewer/components/Connection.js");n(/*! ../scss/viewReferencesPanel.scss */"./app/react/Viewer/scss/viewReferencesPanel.scss");function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class p extends s.Component{static blankStateMessage(e,t){return u("div",{className:"blank-state"},void 0,u(l.Icon,{icon:"sitemap"}),u("h4",{},void 0,Object(i.t)("System",e)),u("p",{},void 0,Object(i.t)("System",t)))}close(){this.props.closePanel(),this.props.deactivateReference()}render(){const e=this.props.references.toJS().sort((e,t)=>{return(void 0!==e.range.start?e.range.start:-1)-(void 0!==t.range.start?t.range.start:-1)});return!this.props.loading&&(this.props.references.size||"references"!==this.props.referencesSection?this.props.references.size?u("div",{className:"item-group"},void 0,(()=>e.map(e=>u(d.default,{readOnly:this.props.readOnly,reference:e},e._id)))()):p.blankStateMessage("No Connections","No Connections description"):p.blankStateMessage("No References","No References description"))}}t.default=Object(r.connect)(null,function(e){return Object(a.bindActionCreators)({closePanel:c.closePanel,deactivateReference:c.deactivateReference},e)})(p)},"./app/react/Viewer/components/Document.js":
/*!*************************************************!*\
  !*** ./app/react/Viewer/components/Document.js ***!
  \*************************************************/
/*! exports provided: Document, default */function(e,t,n){"use strict";n.r(t),n.d(t,"Document",function(){return y});n(/*! ../scss/conversion_base.scss */"./app/react/Viewer/scss/conversion_base.scss"),n(/*! ../scss/document.scss */"./app/react/Viewer/scss/document.scss"),n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=n(/*! ../../components/Elements/Loader */"./app/react/components/Elements/Loader.js"),i=n(/*! ../../PDF */"./app/react/PDF/index.js"),l=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),c=n(/*! ../utils/Text */"./app/react/Viewer/utils/Text.js"),d=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),u=n.n(d),p=n(/*! ../actions/uiActions */"./app/react/Viewer/actions/uiActions.js"),m=n(/*! ../utils/determineDirection */"./app/react/Viewer/utils/determineDirection.js"),f=n(/*! ../../config.js */"./app/react/config.js");function h(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class y extends s.Component{constructor(e){super(e),this.pages={1:0},this.previousMostVisible=e.page,this.pdfLoaded=this.pdfLoaded.bind(this),this.onDocumentReady=this.onDocumentReady.bind(this)}componentWillMount(){this.props.unsetSelection()}componentDidMount(){this.text=Object(c.default)(this.pagesContainer)}componentWillReceiveProps(e){this.props.doc.get("_id")!==e.doc.get("_id")&&this.props.unsetSelection()}componentDidUpdate(){this.text.renderReferences(this.props.references.toJS()),this.text.renderReferences(this.props.doc.toJS().toc||[],"toc-ref","span"),this.text.simulateSelection(this.props.selection,this.props.forceSimulateSelection),this.text.activate(this.props.activeReference),Object(p.highlightSnippet)(this.props.selectedSnippet,this.props.searchTerm)}onTextSelected(){this.props.setSelection(this.text.getSelection())}onDocumentReady(){this.props.onDocumentReady(this.props.doc)}handleOver(){}handleClick(e){if(e.target.className&&-1!==e.target.className.indexOf("reference")&&!this.text.selected()){const t=this.props.references.toJS();return this.props.activateReference(t.find(t=>t._id===e.target.getAttribute("data-id")),this.props.doc.get("pdfInfo").toJS(),t)}this.props.executeOnClickHandler&&this.props.onClick()}handleMouseUp(){this.props.disableTextSelection||(this.text.selected()?this.onTextSelected():this.props.unsetSelection())}pdfLoaded(e){if(this.props.doScrollToActive){const e=this.props.references.toJS();this.props.scrollToActive(e.find(e=>e._id===this.props.activeReference),this.props.doc.get("pdfInfo").toJS(),e,this.props.doScrollToActive)}this.text.reset(),this.text.reset("toc-ref"),this.text.range(e),this.componentDidUpdate()}render(){const e=this.props.doc.toJS(),t=this.props.header||function(){return!1};return h("div",{},void 0,h("div",{className:`_${e._id} document ${this.props.className} ${Object(m.default)(e.file||{})}`},void 0,h(t,{}),r.a.createElement("div",{className:"pages",ref:e=>this.pagesContainer=e,onMouseUp:this.handleMouseUp.bind(this),onTouchEnd:this.handleMouseUp.bind(this),onClick:this.handleClick.bind(this),onMouseOver:this.handleOver.bind(this)},h(l.default,{if:!e._id||!e.pdfInfo},void 0,h(a.default,{})),h(l.default,{if:!!e._id&&!!e.pdfInfo},void 0,h(i.default,{onPageChange:this.props.onPageChange,onPDFReady:this.onDocumentReady,pdfInfo:this.props.doc.get("pdfInfo"),onLoad:this.pdfLoaded,file:`${f.APIURL}documents/download?_id=${e._id}`,filename:e.file?e.file.filename:null})))))}}y.defaultProps={onDocumentReady:()=>{},onPageChange:()=>{},selectedSnippet:u.a.fromJS({})},t.default=y},"./app/react/Viewer/components/Paginator.js":
/*!**************************************************!*\
  !*** ./app/react/Viewer/components/Paginator.js ***!
  \**************************************************/
/*! exports provided: default, PaginatorWithPage */function(e,t,n){"use strict";n.r(t),n.d(t,"PaginatorWithPage",function(){return f});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n.n(s),a=n(/*! ../../I18N */"./app/react/I18N/index.js"),i=n(/*! react-router */"./node_modules/react-router/es/index.js"),l=n(/*! ../../Layout */"./app/react/Layout/index.js");function c(e,t){if(null==e)return{};var n,o,s=function(e,t){if(null==e)return{};var n,o,s={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function u(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const p=(e,t)=>({className:e===t?"btn disabled":"btn",rel:e===t?"nofollow":void 0}),m=({page:e,totalPages:t,onPageChange:n})=>{const o=e-1||1,s=e+1>t?t:e+1;return u("div",{className:"paginator"},void 0,r.a.createElement(l.CurrentLocationLink,d({queryParams:{page:o},onClick:e=>{e.preventDefault(),n(o)}},p(e,1)),u(a.Translate,{},void 0,"Previous")),u("span",{},void 0,` ${e} / ${t} `),r.a.createElement(l.CurrentLocationLink,d({queryParams:{page:s},onClick:e=>{e.preventDefault(),n(s)}},p(e,t)),u(a.Translate,{},void 0,"Next")))};m.defaultProps={page:1,totalPages:1,onPageChange:()=>{}},t.default=m;const f=Object(i.withRouter)(e=>{const{location:t}=e,n=c(e,["location"]);return r.a.createElement(m,d({},n,{page:Number(t.query.page||1)}))})},"./app/react/Viewer/components/SourceDocument.js":
/*!*******************************************************!*\
  !*** ./app/react/Viewer/components/SourceDocument.js ***!
  \*******************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),s=n(/*! redux */"./node_modules/redux/es/index.js"),r=n(/*! ../actions/selectionActions */"./app/react/Viewer/actions/selectionActions.js"),a=n(/*! ../actions/uiActions */"./app/react/Viewer/actions/uiActions.js"),i=n(/*! ./Document */"./app/react/Viewer/components/Document.js"),l=n(/*! reselect */"./node_modules/reselect/lib/index.js"),c=n(/*! ../selectors */"./app/react/Viewer/selectors.js");const d=Object(l.createSelector)(e=>e.uiState,e=>e.toJS().reference.sourceRange),u=Object(l.createSelector)(e=>e.uiState,e=>e.toJS().activeReference);t.default=Object(o.connect)(e=>{const{user:t,documentViewer:n}=e;return{selectedSnippet:n.uiState.get("snippet"),selection:d(n),doScrollToActive:n.uiState.get("goToActive"),doc:Object(c.selectDoc)(e),references:Object(c.selectReferences)(e),className:"sourceDocument",activeReference:u(n),executeOnClickHandler:!!n.targetDoc.get("_id"),disableTextSelection:!t.get("_id"),panelIsOpen:!!n.uiState.get("panel"),forceSimulateSelection:"targetReferencePanel"===n.uiState.get("panel")||"referencePanel"===n.uiState.get("panel")}},function(e){const t={setSelection:r.setSelection,unsetSelection:r.unsetSelection,onClick:a.resetReferenceCreation,highlightReference:a.highlightReference,activateReference:a.activateReference,scrollToActive:a.scrollToActive};return Object(s.bindActionCreators)(t,e)},function(e,t,n){return Object.assign({},e,t,n,{unsetSelection:t.unsetSelection})})(i.default)},"./app/react/Viewer/components/TargetDocument.js":
/*!*******************************************************!*\
  !*** ./app/react/Viewer/components/TargetDocument.js ***!
  \*******************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),s=n(/*! redux */"./node_modules/redux/es/index.js"),r=n(/*! ../actions/selectionActions */"./app/react/Viewer/actions/selectionActions.js"),a=n(/*! ../actions/uiActions */"./app/react/Viewer/actions/uiActions.js"),i=n(/*! ../selectors */"./app/react/Viewer/selectors.js"),l=n(/*! ./Document */"./app/react/Viewer/components/Document.js"),c=n(/*! ./TargetDocumentHeader */"./app/react/Viewer/components/TargetDocumentHeader.js");t.default=Object(o.connect)(e=>{const{documentViewer:t}=e,n=t.uiState.toJS();return{doc:Object(i.selectTargetDoc)(e),references:Object(i.selectTargetReferences)(e),docHTML:t.targetDocHTML,selection:n.reference.targetRange,className:"targetDocument",activeReference:n.activeReference,disableTextSelection:!1,header:c.default}},function(e){return Object(s.bindActionCreators)({setSelection:r.setTargetSelection,unsetSelection:r.unsetTargetSelection,highlightReference:a.highlightReference,activateReference:a.selectReference},e)})(l.default)},"./app/react/Viewer/components/TargetDocumentHeader.js":
/*!*************************************************************!*\
  !*** ./app/react/Viewer/components/TargetDocumentHeader.js ***!
  \*************************************************************/
/*! exports provided: TargetDocumentHeader, default */function(e,t,n){"use strict";n.r(t),n.d(t,"TargetDocumentHeader",function(){return u});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! ../../UI */"./app/react/UI/index.js"),l=n(/*! ../actions/referencesActions */"./app/react/Viewer/actions/referencesActions.js"),c=n(/*! ../actions/documentActions */"./app/react/Viewer/actions/documentActions.js");function d(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class u extends s.Component{save(e,t){return this.props.saveTargetRangedReference(e.toJS(),t,e=>{this.props.addReference(e,this.props.pdfInfo.toJS(),!0)})}render(){const{targetDocument:e,reference:t,connection:n}=this.props,{targetRange:o}=t;let s="btn btn-default hidden";return e&&o&&(s="btn btn-success"),d("div",{},void 0,d("div",{className:"relationship-steps is-fixed"},void 0,d("button",{onClick:this.props.cancelTargetDocument,className:"btn btn-default"},void 0,d(i.Icon,{icon:"arrow-left"}),"Back"),d("h2",{},void 0,"Select target paragraph",d("small",{},void 0,"3"))),d("div",{className:"ContextMenu ContextMenu-center"},void 0,d("button",{onClick:this.save.bind(this,n,o),className:s},void 0,d(i.Icon,{icon:"save"}),d("span",{className:"ContextMenu-tooltip"},void 0,"Save"))))}}t.default=Object(r.connect)(function({documentViewer:e,connections:t}){return{connection:t.connection,reference:e.uiState.toJS().reference,targetDocument:e.targetDoc.get("_id"),pdfInfo:e.doc.get("pdfInfo")}},function(e){return Object(a.bindActionCreators)({saveTargetRangedReference:l.saveTargetRangedReference,cancelTargetDocument:c.cancelTargetDocument,addReference:l.addReference},e)})(u)},"./app/react/Viewer/components/ViewMetadataPanel.js":
/*!**********************************************************!*\
  !*** ./app/react/Viewer/components/ViewMetadataPanel.js ***!
  \**********************************************************/
/*! exports provided: mapStateToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"mapStateToProps",function(){return f});var o=n(/*! redux */"./node_modules/redux/es/index.js"),s=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),r=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),a=n(/*! ../../Documents */"./app/react/Documents/index.js"),i=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),l=n(/*! ../../Metadata */"./app/react/Metadata/index.js"),c=n(/*! ../../Connections */"./app/react/Connections/index.js"),d=n(/*! ../actions/documentActions */"./app/react/Viewer/actions/documentActions.js"),u=n(/*! ../../Modals */"./app/react/Modals/index.js"),p=n(/*! ../actions/uiActions */"./app/react/Viewer/actions/uiActions.js"),m=n(/*! ../containers/DocumentForm */"./app/react/Viewer/containers/DocumentForm.js");const f=e=>{const{documentViewer:t}=e,{templates:n}=e;let{doc:o}=t;t.targetDoc.get("_id")&&(o=t.targetDoc);const s=e.semanticSearch.selectedDocument;s.isEmpty()||s.get("sharedId")!==o.get("sharedId")||(o=o.set("semanticSearch",s.get("semanticSearch")));const r=t.tocForm||[];return{open:"viewMetadataPanel"===t.uiState.get("panel"),doc:o,templates:n,rawDoc:t.doc,docBeingEdited:!!t.sidepanel.metadata._id,formDirty:!t.sidepanel.metadataForm.$form.pristine,tab:t.sidepanel.tab,tocFormComponent:a.TocForm,tocForm:r,tocFormLength:r.length,tocBeingEdited:t.tocBeingEdited,tocFormState:t.tocFormState,isTargetDoc:!!t.targetDoc.get("_id"),formPath:"documentViewer.sidepanel.metadata",DocumentForm:m.default}};t.default=Object(s.connect)(f,function(e){return Object(o.bindActionCreators)({loadInReduxForm:l.actions.loadInReduxForm,showModal:u.default.actions.showModal,startNewConnection:c.actions.startNewConnection,closeConnectionsPanel:c.uiActions.closePanel,resetForm:r.actions.reset,closePanel:p.closePanel,deleteDocument:d.deleteDocument,saveToc:d.saveToc,editToc:d.editToc,removeFromToc:d.removeFromToc,indentTocElement:d.indentTocElement,showTab:e=>i.actions.set("viewer.sidepanel.tab",e)},e)})(a.DocumentSidePanel)},"./app/react/Viewer/components/Viewer.js":
/*!***********************************************!*\
  !*** ./app/react/Viewer/components/Viewer.js ***!
  \***********************************************/
/*! exports provided: Viewer, default */function(e,t,n){"use strict";n.r(t),n.d(t,"Viewer",function(){return U});var o,s=n(/*! redux */"./node_modules/redux/es/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! react-helmet */"./node_modules/react-helmet/lib/Helmet.js"),i=n.n(a),l=n(/*! prop-types */"./node_modules/prop-types/index.js"),c=n.n(l),d=n(/*! react */"./node_modules/react/index.js"),u=n.n(d),p=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),m=n(/*! ../../ConnectionsList */"./app/react/ConnectionsList/index.js"),f=n(/*! ../../Connections */"./app/react/Connections/index.js"),h=n(/*! ../../Layout */"./app/react/Layout/index.js"),y=n(/*! ../../Relationships */"./app/react/Relationships/index.js"),v=n(/*! ../../I18N */"./app/react/I18N/index.js"),b=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),g=n(/*! ../../Relationships/components/AddEntities */"./app/react/Relationships/components/AddEntities.js"),j=n(/*! ../../ContextMenu */"./app/react/ContextMenu/index.js"),S=n(/*! ../../App/Footer */"./app/react/App/Footer.js"),_=n(/*! ../utils/Marker */"./app/react/Viewer/utils/Marker.js"),x=n(/*! ../../Relationships/components/RelationshipMetadata */"./app/react/Relationships/components/RelationshipMetadata.js"),w=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),O=n(/*! ../../utils/RequestParams */"./app/react/utils/RequestParams.js"),T=n(/*! ./Paginator */"./app/react/Viewer/components/Paginator.js"),C=n(/*! ../actions/referencesActions */"./app/react/Viewer/actions/referencesActions.js"),N=n(/*! ../actions/documentActions */"./app/react/Viewer/actions/documentActions.js"),I=n(/*! ../actions/uiActions */"./app/react/Viewer/actions/uiActions.js"),P=n(/*! ../selectors */"./app/react/Viewer/selectors.js"),k=n(/*! ./ConfirmCloseForm */"./app/react/Viewer/components/ConfirmCloseForm.js"),E=n(/*! ./SourceDocument */"./app/react/Viewer/components/SourceDocument.js"),R=n(/*! ./TargetDocument */"./app/react/Viewer/components/TargetDocument.js"),A=n(/*! ./ViewMetadataPanel */"./app/react/Viewer/components/ViewMetadataPanel.js"),D=n(/*! ./ViewerDefaultMenu */"./app/react/Viewer/components/ViewerDefaultMenu.js"),L=n(/*! ./ViewerTextSelectedMenu */"./app/react/Viewer/components/ViewerTextSelectedMenu.js"),M=n(/*! ../utils/determineDirection */"./app/react/Viewer/utils/determineDirection.js"),F=n(/*! ../actions/routeActions */"./app/react/Viewer/actions/routeActions.js");function $(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class U extends d.Component{constructor(e){super(e),this.state={firstRender:!0},this.handlePlainTextClick=this.handlePlainTextClick.bind(this)}componentWillMount(){const{store:e}=this.context,{sidepanelTab:t}=this.props;e.dispatch(Object(I.openPanel)("viewMetadataPanel")),"connections"===t&&e.dispatch(b.actions.set("viewer.sidepanel.tab",""))}componentDidMount(){const{store:e}=this.context;e.dispatch(Object(N.loadDefaultViewerMenu)()),_.default.init("div.main-wrapper"),this.setState({firstRender:!1});const{templates:t,doc:n}=this.props;n.size&&!n.get("pdfInfo")&&Object(F.requestViewerState)(new O.RequestParams({sharedId:n.get("sharedId")}),{templates:t.toJS()}).then(t=>{t.forEach(t=>{e.dispatch(t)})})}handlePlainTextClick(){const{showTab:e}=this.props;e("metadata")}prepareClassName(){const{panelIsOpen:e,targetDoc:t,showConnections:n}=this.props;let o="document-viewer";return e&&(o+=" with-panel is-active"),t&&(o+=" show-target-document"),n&&(o+=" connections"),o}renderNoDoc(){const{doc:e}=this.props;return $("div",{className:"row"},void 0,$("div",{className:"content-header content-header-document"},void 0,$("div",{className:"content-header-title"},void 0,$(h.Icon,{icon:"lightbulb"}),$(v.Translate,{},void 0,"This entity has no document, you probably want to see the metadata")," ",$(v.I18NLink,{to:`/entity/${e.get("sharedId")}`},void 0,$(v.Translate,{},void 0,"view")))))}render(){const{doc:e,sidepanelTab:t,targetDoc:n,changePage:o,onPageChange:s,onDocumentReady:r,addReference:a,loadTargetDocument:l,panelIsOpen:c,showTextSelectMenu:d}=this.props,{firstRender:p}=this.state;if(e.get("_id")&&!e.get("file"))return this.renderNoDoc();const b=this.prepareClassName(),{raw:_,searchTerm:O,pageText:C,page:N}=this.props,I=e.get("title")?e.get("title"):"",P=e.get("file")?e.get("file").toJS():{};return $("div",{className:"row"},void 0,$(i.a,{title:`${I} • Page ${N}`}),$(w.default,{if:!n},void 0,$("div",{className:"content-header content-header-document"},void 0,$("div",{className:"content-header-title"},void 0,"connections"!==t&&$(u.a.Fragment,{},void 0,$(T.PaginatorWithPage,{totalPages:e.get("totalPages"),onPageChange:o}),$(h.CurrentLocationLink,{onClick:_?()=>{}:this.handlePlainTextClick,className:"btn btn-default",queryParams:{raw:_||p?"":"true"}},void 0,$(v.Translate,{},void 0,_||p?"Normal view":"Plain text")))))),$("main",{className:b},void 0,$("div",{className:"main-wrapper"},void 0,$(w.default,{if:"connections"!==t&&!n},void 0,_||p?$("pre",{className:Object(M.default)(P)},void 0,C):$(E.default,{searchTerm:O,onPageChange:s,onDocumentReady:r})),$(w.default,{if:"connections"===t},void 0,$(m.ConnectionsList,{hideFooter:!0,searchCentered:!0})),$(R.default,{}),$(S.default,{}))),$(k.default,{}),$(A.default,{raw:_||p,storeKey:"documentViewer",searchTerm:O}),$(f.CreateConnectionPanel,{containerId:n?"target":e.get("sharedId"),onCreate:a,onRangedConnect:l}),$(w.default,{if:"connections"===t},void 0,$(x.default,{})),$(w.default,{if:"connections"===t},void 0,$(g.default,{})),$(w.default,{if:"connections"===t},void 0,$("div",{className:"sidepanel-footer"},void 0,$(y.RelationshipsFormButtons,{}))),$(j.default,{align:"bottom",overrideShow:!0,show:!c},void 0,$(D.default,{})),$(j.default,{align:"center",overrideShow:!0,show:d},void 0,$(L.default,{})))}}U.defaultProps={searchTerm:"",raw:!1,onPageChange:()=>{},changePage:()=>{},onDocumentReady:()=>{},page:1,templates:Object(p.List)(),doc:Object(p.Map)()},U.contextTypes={store:c.a.object};t.default=Object(r.connect)(e=>{const{documentViewer:t}=e,n=t.uiState.toJS();return{pageText:t.rawText,doc:Object(P.selectDoc)(e),panelIsOpen:!!n.panel,targetDoc:!!t.targetDoc.get("_id"),templates:e.templates,sidepanelTab:t.sidepanel.tab,showConnections:"references"===t.sidepanel.tab,showTextSelectMenu:Boolean(!t.targetDoc.get("_id")&&n.reference&&n.reference.sourceRange)}},e=>Object(s.bindActionCreators)({addReference:C.addReference,loadTargetDocument:N.loadTargetDocument,showTab:e=>b.actions.set("viewer.sidepanel.tab",e)},e))(U)},"./app/react/Viewer/components/ViewerDefaultMenu.js":
/*!**********************************************************!*\
  !*** ./app/react/Viewer/components/ViewerDefaultMenu.js ***!
  \**********************************************************/
/*! exports provided: ViewerDefaultMenu, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ViewerDefaultMenu",function(){return m});var o,s=n(/*! prop-types */"./node_modules/prop-types/index.js"),r=n.n(s),a=n(/*! react */"./node_modules/react/index.js"),i=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),l=n(/*! redux */"./node_modules/redux/es/index.js"),c=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),d=n(/*! ../../UI */"./app/react/UI/index.js"),u=n(/*! ../actions/uiActions */"./app/react/Viewer/actions/uiActions.js");function p(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class m extends a.Component{render(){return p("div",{className:this.props.active?"active":""},void 0,p(c.default,{if:!this.props.panelIsOpen},void 0,p("div",{className:"btn btn-primary",onClick:this.props.openPanel.bind(null,"viewMetadataPanel")},void 0,p(d.Icon,{icon:"chart-bar"}))))}}m.contextTypes={confirm:r.a.func},t.default=Object(i.connect)(({documentViewer:e})=>({panelIsOpen:!!e.uiState.get("panel"),doc:e.doc,targetDoc:!!e.targetDoc.get("_id")}),function(e){return Object(l.bindActionCreators)({openPanel:u.openPanel},e)})(m)},"./app/react/Viewer/components/ViewerTextSelectedMenu.js":
/*!***************************************************************!*\
  !*** ./app/react/Viewer/components/ViewerTextSelectedMenu.js ***!
  \***************************************************************/
/*! exports provided: ViewerTextSelectedMenu, default */function(e,t,n){"use strict";n.r(t),n.d(t,"ViewerTextSelectedMenu",function(){return m});n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),a=n(/*! redux */"./node_modules/redux/es/index.js"),i=n(/*! ../../Connections */"./app/react/Connections/index.js"),l=n(/*! ../actions/uiActions */"./app/react/Viewer/actions/uiActions.js"),c=n(/*! ../../App/ShowIf */"./app/react/App/ShowIf.js"),d=n(/*! ../../UI */"./app/react/UI/index.js"),u=n(/*! ../actions/documentActions */"./app/react/Viewer/actions/documentActions.js");function p(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class m extends s.Component{showPanel(e){this.props.openPanel("viewMetadataPanel"),this.props.startNewConnection(e,this.props.doc.get("sharedId"))}render(){return p("div",{className:this.props.active?"active":""},void 0,p(c.default,{if:this.props.hasRelationTypes},void 0,p("div",{className:"btn btn-primary",onClick:this.showPanel.bind(this,"targetRanged")},void 0,p("span",{className:"ContextMenu-tooltip"},void 0,"Connect to a paragraph"),p(d.Icon,{icon:"paragraph"}))),p(c.default,{if:this.props.hasRelationTypes},void 0,p("div",{className:"btn btn-primary",onClick:this.showPanel.bind(this,"ranged")},void 0,p("span",{className:"ContextMenu-tooltip"},void 0,"Connect to a document"),p(d.Icon,{icon:"file"}))),p("div",{className:"btn btn-primary",onClick:this.props.addToToc.bind(null,this.props.reference.toJS())},void 0,p("span",{className:"ContextMenu-tooltip"},void 0,"Add to table of contents"),p(d.Icon,{icon:"font"})))}}t.default=Object(r.connect)(function({documentViewer:e,relationTypes:t}){return{doc:e.doc,reference:e.uiState.get("reference"),hasRelationTypes:!!t.size}},function(e){return Object(a.bindActionCreators)({startNewConnection:i.actions.startNewConnection,openPanel:l.openPanel,addToToc:u.addToToc},e)})(m)},"./app/react/Viewer/containers/DocumentForm.js":
/*!*****************************************************!*\
  !*** ./app/react/Viewer/containers/DocumentForm.js ***!
  \*****************************************************/
/*! exports provided: mapDispatchToProps, default */function(e,t,n){"use strict";n.r(t),n.d(t,"mapDispatchToProps",function(){return l});var o=n(/*! react-redux */"./node_modules/react-redux/es/index.js"),s=n(/*! redux */"./node_modules/redux/es/index.js"),r=n(/*! ../../Metadata */"./app/react/Metadata/index.js"),a=n(/*! ../../Relationships */"./app/react/Relationships/index.js"),i=n(/*! ../actions/documentActions */"./app/react/Viewer/actions/documentActions.js");function l(e){return Object(s.bindActionCreators)({changeTemplate:r.actions.changeTemplate,onSubmit:e=>t=>Object(i.saveDocument)(e)(t).then(()=>{t(a.actions.reloadRelationships(e.sharedId))})},e)}t.default=Object(o.connect)(function({documentViewer:e,templates:t,thesauris:n}){return{model:"documentViewer.sidepanel.metadata",isEntity:!e.sidepanel.file,templateId:e.sidepanel.metadata.template,templates:t,thesauris:n}},l)(r.MetadataForm)},"./app/react/Viewer/index.js":
/*!***********************************!*\
  !*** ./app/react/Viewer/index.js ***!
  \***********************************/
/*! exports provided: selectors, referencesActions */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./selectors */"./app/react/Viewer/selectors.js");n.d(t,"selectors",function(){return o});var s=n(/*! ./actions/referencesActions */"./app/react/Viewer/actions/referencesActions.js");n.d(t,"referencesActions",function(){return s})},"./app/react/Viewer/reducers/reducer.js":
/*!**********************************************!*\
  !*** ./app/react/Viewer/reducers/reducer.js ***!
  \**********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! redux */"./node_modules/redux/es/index.js"),s=n(/*! ../../BasicReducer */"./app/react/BasicReducer/index.js"),r=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js"),a=n(/*! ../../Attachments */"./app/react/Attachments/index.js"),i=n(/*! ./referencesReducer */"./app/react/Viewer/reducers/referencesReducer.js"),l=n(/*! ./uiReducer */"./app/react/Viewer/reducers/uiReducer.js");t.default=Object(o.combineReducers)({doc:Object(a.manageAttachmentsReducer)(Object(s.default)("viewer/doc",{})),targetDoc:Object(s.default)("viewer/targetDoc",{}),rawText:Object(s.default)("viewer/rawText",""),targetDocReferences:Object(s.default)("viewer/targetDocReferences",[]),references:i.default,uiState:l.default,relationTypes:Object(s.default)("viewer/relationTypes",[]),tocForm:Object(r.modelReducer)("documentViewer.tocForm",[]),tocFormState:Object(r.formReducer)("documentViewer.tocForm"),tocBeingEdited:Object(s.default)("documentViewer/tocBeingEdited",!1),sidepanel:Object(o.combineReducers)({metadata:Object(r.modelReducer)("documentViewer.sidepanel.metadata"),metadataForm:Object(r.formReducer)("documentViewer.sidepanel.metadata"),snippets:Object(s.default)("documentViewer.sidepanel.snippets",{count:0,metadata:[],fullText:[]}),tab:Object(s.default)("viewer.sidepanel.tab","")})})},"./app/react/Viewer/reducers/referencesReducer.js":
/*!********************************************************!*\
  !*** ./app/react/Viewer/reducers/referencesReducer.js ***!
  \********************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return i});var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n.n(o),r=n(/*! ../actions/actionTypes */"./app/react/Viewer/actions/actionTypes.js");const a=[];function i(e=a,t={}){if(t.type===r.SET_REFERENCES)return s.a.fromJS(t.references);if(t.type===r.RESET_DOCUMENT_VIEWER)return s.a.fromJS(a);if(t.type===r.ADD_REFERENCE)return e.push(s.a.fromJS(t.reference));if(t.type===r.REMOVE_REFERENCE){return e.filter(e=>e.get("hub")===t.reference.hub).size<=2?e.filter(e=>e.get("hub")!==t.reference.hub):e.filter(e=>e.get("_id")!==t.reference.associatedRelationship._id)}return s.a.fromJS(e)}},"./app/react/Viewer/reducers/uiReducer.js":
/*!************************************************!*\
  !*** ./app/react/Viewer/reducers/uiReducer.js ***!
  \************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! immutable */"./node_modules/immutable/dist/immutable.js"),s=n.n(o),r=n(/*! ../actions/actionTypes */"./app/react/Viewer/actions/actionTypes.js");const a={reference:{},snippet:{}},i=["targetReferencePanel","referencePanel"];t.default=function(e=a,t={}){if(t.type===r.HIGHLIGHT_REFERENCE)return e.set("highlightedReference",t.reference);if(t.type===r.SELECT_SNIPPET)return e.set("snippet",t.snippet);if(t.type===r.GO_TO_ACTIVE)return e.set("goToActive",t.value);if(t.type===r.DEACTIVATE_REFERENCE)return e.remove("activeReference");if(t.type===r.ACTIVE_REFERENCE)return e.set("activeReference",t.reference);if(t.type===r.OPEN_PANEL)return e.set("panel",t.panel);if(t.type===r.RESET_REFERENCE_CREATION)return e.set("reference",s.a.fromJS({}));if(t.type===r.SET_SELECTION)return e.setIn(["reference","sourceRange"],t.sourceRange);if(t.type===r.SET_TARGET_SELECTION)return e.setIn(["reference","targetRange"],t.targetRange);if(t.type===r.UNSET_TARGET_SELECTION)return e.setIn(["reference","targetRange"],null);if(t.type===r.UNSET_SELECTION){const t=e.setIn(["reference","sourceRange"],null);return-1!==i.indexOf(e.get("panel"))?t.set("panel",!1):t}if("viewer/targetDocHTML/SET"===t.type||t.type===r.CLOSE_PANEL)return e.set("panel",!1);if(t.type===r.ADD_REFERENCE)return e.set("reference",s.a.fromJS({})).set("panel",!1);if("viewer/documentResults/SET"===t.type){let n=e;return t.value.find(t=>t._id===e.getIn(["reference","targetDocument"]))||(n=e.deleteIn(["reference","targetDocument"])),n.set("viewerSearching",!1)}return t.type===r.SELECT_TARGET_DOCUMENT?e.setIn(["reference","targetDocument"],t.id):t.type===r.RESET_DOCUMENT_VIEWER?s.a.fromJS(a):s.a.fromJS(e)}},"./app/react/Viewer/referencesAPI.js":
/*!*******************************************!*\
  !*** ./app/react/Viewer/referencesAPI.js ***!
  \*******************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ../utils/api */"./app/react/utils/api.js");t.default={get:e=>o.default.get("references/by_document",e).then(e=>e.json),getGroupedByConnection:e=>o.default.get("references/group_by_connection",e).then(e=>e.json),getInbound:e=>o.default.get("references/by_target/",e).then(e=>e.json.rows),search:e=>o.default.get("references/search",e).then(e=>e.json),save:e=>o.default.post("references",e).then(e=>e.json),delete:e=>o.default.delete("references",e).then(e=>e.json),countByRelationType:e=>o.default.get("references/count_by_relationtype",e).then(e=>e.json)}},"./app/react/Viewer/scss/conversion_base.scss":
/*!****************************************************!*\
  !*** ./app/react/Viewer/scss/conversion_base.scss ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){},"./app/react/Viewer/scss/document.scss":
/*!*********************************************!*\
  !*** ./app/react/Viewer/scss/document.scss ***!
  \*********************************************/
/*! no static exports found */function(e,t,n){},"./app/react/Viewer/scss/viewReferencesPanel.scss":
/*!********************************************************!*\
  !*** ./app/react/Viewer/scss/viewReferencesPanel.scss ***!
  \********************************************************/
/*! no static exports found */function(e,t,n){},"./app/react/Viewer/selectors.js":
/*!***************************************!*\
  !*** ./app/react/Viewer/selectors.js ***!
  \***************************************/
/*! exports provided: selectDoc, selectReferences, selectTargetDoc, selectTargetReferences, parseReferences */function(e,t,n){"use strict";n.r(t),n.d(t,"selectDoc",function(){return l}),n.d(t,"selectReferences",function(){return d}),n.d(t,"selectTargetDoc",function(){return u}),n.d(t,"selectTargetReferences",function(){return m}),n.d(t,"parseReferences",function(){return i});var o=n(/*! reselect */"./node_modules/reselect/lib/index.js"),s=n(/*! immutable */"./node_modules/immutable/dist/immutable.js");const r=e=>e.documentViewer;function a(e,t){return t.get("entity")===e.get("sharedId")&&void 0!==t.getIn(["range","start"])}const i=(e,t)=>t.filter(t=>a(e,t)).reduce((e,t)=>(-1===e.indexOf(t.get("hub"))&&e.push(t.get("hub")),e),[]).reduce((n,o)=>{let s=n;const r=t.find(t=>a(e,t)&&t.get("hub")===o);return t.filter(e=>e.get("_id")!==r.get("_id")&&e.get("hub")===o).forEach(e=>{s=s.push(r.set("associatedRelationship",e))}),s},Object(s.fromJS)([])),l=Object(o.createSelector)(e=>r(e).doc,e=>e),c=Object(o.createSelector)(e=>r(e).references,e=>e),d=Object(o.createSelector)(l,c,i),u=Object(o.createSelector)(e=>r(e).targetDoc,e=>e),p=Object(o.createSelector)(e=>r(e).targetDocReferences,e=>e),m=Object(o.createSelector)(u,p,i)},"./app/react/Viewer/utils/Marker.js":
/*!******************************************!*\
  !*** ./app/react/Viewer/utils/Marker.js ***!
  \******************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ../../utils */"./app/react/utils/index.js");let s,r;o.isClient&&(s=n(/*! mark.js */"./node_modules/mark.js/dist/mark.js"),window.Marker=s),t.default={init(e){r=new s(e),o.isClient&&(window.Marker=r)},markRegExp(e,t){r.markRegExp(e,t)},mark(e,t){r.mark(e,t)},unmark(){r.unmark()}}},"./app/react/Viewer/utils/Scroller.js":
/*!********************************************!*\
  !*** ./app/react/Viewer/utils/Scroller.js ***!
  \********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),t.default={getElement:e=>document.querySelector(e),isVisible(e,t){const n=this.getElement(e),o=this.getElement(t);if(!o||!n)return!1;const s=n.getBoundingClientRect(),r=o.getBoundingClientRect();return s.top<r.top&&s.bottom>r.top||s.top>r.top&&s.top<r.bottom},to(e,t,n={}){const o=this.getOptions(n);if(this.isVisible(e,t))return;const s=this.getElement(e),r=this.getElement(t);if(!r||!s)return;const a=this.getTargetScrollTop(s,r,o);this.animateScroll(r,a,o)},getTargetScrollTop(e,t,n){const o=e.getBoundingClientRect().top-t.getBoundingClientRect().top+t.scrollTop;return t.scrollHeight-t.offsetHeight-(t.scrollHeight-o)+n.offset+e.scrollHeight+(t.offsetHeight-e.offsetHeight)/n.dividerOffset},animateScroll(e,t,n){const o=e,s=Date.now(),r=window.setInterval(()=>{const e=(Date.now()-s)/n.duration,a=this[n.animation](e);o.scrollTop+=a*(t-o.scrollTop),a>=.9&&(o.scrollTop=t,window.clearInterval(r))},25);return r},getOptions:e=>Object.assign({duration:400,offset:0,animation:"easeIn",dividerOffset:2},e),easeIn:e=>e*e,easeOut:e=>e*(2-e)}},"./app/react/Viewer/utils/Text.js":
/*!****************************************!*\
  !*** ./app/react/Viewer/utils/Text.js ***!
  \****************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! batarange */"./node_modules/batarange/dist/TextRange.js"),s=n.n(o),r=n(/*! ../../utils/wrapper */"./app/react/utils/wrapper.js"),a=n(/*! ../../utils */"./app/react/utils/index.js");t.default=function(e){return{charRange:{start:null,end:null},container:e,renderedReferences:{},highlightedReference:null,selected:()=>""!==window.getSelection().toString(),range(e){this.charRange=e},getSelection(){const t=window.getSelection(),n=t.getRangeAt(0),o=s.a.serialize(n,e);return o.start+=this.charRange.start,o.end+=this.charRange.start,o.text=t.toString().replace(/\s+/g," "),o},searchRenderedReference(e){let t=null;return Object.keys(this.renderedReferences).forEach(n=>{this.renderedReferences[n][e]&&(t=this.renderedReferences[n][e])}),t},highlight(e){const t=this.searchRenderedReference(e),n=this.searchRenderedReference(this.highlightedReference);n&&n.nodes.forEach(e=>{e.classList.remove("highlighted")}),t&&t.nodes.forEach(e=>{e.classList.add("highlighted")}),this.highlightedReference=e},activate(e){const t=this.searchRenderedReference(e),n=this.searchRenderedReference(this.activeReference);n&&n.nodes.forEach(e=>{e.classList.remove("is-active")}),t&&t.nodes.forEach(e=>{e.classList.add("is-active")}),this.activeReference=e},isWithinCurrentRange(e){return e.start>=this.charRange.start&&e.start<=this.charRange.end||e.end<this.charRange.end&&e.end>this.charRange.start},wrapFakeSelection(t){const n=Object.assign({},t);n.start-=this.charRange.start,n.end-=this.charRange.start;const o=s.a.restore(n,e),a=document.createElement("span");a.classList.add("fake-selection"),this.fakeSelection=r.default.wrap(a,o)},simulateSelection(e,t){this.removeSimulatedSelection(),!e||this.selected()&&!t||this.isWithinCurrentRange(e)&&this.wrapFakeSelection(e)},removeSimulatedSelection(){this.fakeSelection&&(this.removeSelection(),this.fakeSelection.unwrap(),this.fakeSelection=null)},isSelectionOnContainer(){let e=window.getSelection().baseNode;for(;e&&e!==this.container&&"BODY"!==e.nodeName;)e=e.parentNode;return e===this.container},removeSelection(){this.selected()&&this.isSelectionOnContainer()&&window.getSelection&&(window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges())},filterInRangeReferences(e,t){return e.filter(e=>!!e[t]&&((null!==this.charRange.start||null!==this.charRange.end)&&(e[t].start>=this.charRange.start&&e[t].start<=this.charRange.end||e[t].end<=this.charRange.end&&e[t].end>=this.charRange.start)))},groupReferencesByRange(e,t){const n={};return e.forEach(e=>{const o=`${e[t].start}${e[t].end}`;n[o]||(n[o]=[]),n[o].push(e)}),Object.keys(n).map(e=>{const o=n[e],s={ids:o.map(e=>e._id)};return s[t]=o[0][t],s})},renderReferences(t,n="reference",o="a"){if(!e.innerHTML)throw new Error("Container does not have any html yet, make sure you are loading the html before the references");const i=[];this.renderedReferences[n]||(this.renderedReferences[n]={});const l=this.filterInRangeReferences(t,"range").filter(e=>(i.push(e._id),!this.renderedReferences[n][e._id]));this.groupReferencesByRange(l,"range").forEach(t=>{let i=t.range;this.charRange.start&&((i=Object.assign({},t.range)).start-=this.charRange.start,i.end-=this.charRange.start),i.start<0&&(i.start=0);const l=s.a.restore(i,e),c=document.createElement(o);c.classList.add(n),t.ids.forEach(e=>{c.setAttribute(`data-${e}`,e)}),c.setAttribute("data-id",t.ids[0]);const d=r.default.wrap(c,l);t.ids.forEach(e=>{this.renderedReferences[n][e]=d}),a.events.emit("referenceRendered",t)}),Object.keys(this.renderedReferences[n]).forEach(e=>{-1===i.indexOf(e)&&(this.renderedReferences[n][e].unwrap(),delete this.renderedReferences[n][e])})},reset(e="reference"){this.renderedReferences[e]||(this.renderedReferences[e]={}),Object.keys(this.renderedReferences[e]).forEach(t=>{this.renderedReferences[e][t].unwrap(),delete this.renderedReferences[e][t]})}}}},"./app/react/Viewer/utils/determineDirection.js":
/*!******************************************************!*\
  !*** ./app/react/Viewer/utils/determineDirection.js ***!
  \******************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ../../../shared/languagesList */"./app/shared/languagesList.ts");t.default=(({language:e})=>{const t=Object(o.default)(e,"ISO639_1");return`force-${(o.allLanguages.find(e=>e.key===t)||{}).rtl?"rtl":"ltr"}`})},"./app/react/components/Elements/Loader.js":
/*!*************************************************!*\
  !*** ./app/react/components/Elements/Loader.js ***!
  \*************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! react */"./node_modules/react/index.js");n(/*! ./scss/loader.scss */"./app/react/components/Elements/scss/loader.scss");function r(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=class extends s.Component{render(){return r("div",{className:"cs-loader"},void 0,r("div",{className:"cs-loader-inner"},void 0,r("label",{},void 0," ●"),r("label",{},void 0," ●"),r("label",{},void 0," ●")))}}},"./app/react/components/Elements/StackTrace.js":
/*!*****************************************************!*\
  !*** ./app/react/components/Elements/StackTrace.js ***!
  \*****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! prop-types */"./node_modules/prop-types/index.js");var o,s=n(/*! react */"./node_modules/react/index.js"),r=(n(/*! ./scss/stackTrace.scss */"./app/react/components/Elements/scss/stackTrace.scss"),n(/*! ../../UI */"./app/react/UI/index.js"));function a(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class i extends s.Component{constructor(e){super(e),this.state={expand:!1},this.toggle=this.toggle.bind(this)}toggle(){const{expand:e}=this.state;this.setState({expand:!e})}render(){const{message:e}=this.props,{expand:t}=this.state,n=t?e:`${e.substr(0,50)}...`;return a("div",{className:"stack-trace",onClick:this.toggle},void 0,a(r.Icon,{icon:"sort"})," ",a("span",{},void 0,n))}}i.defaultProps={message:""},t.default=i},"./app/react/components/Elements/scss/loader.scss":
/*!********************************************************!*\
  !*** ./app/react/components/Elements/scss/loader.scss ***!
  \********************************************************/
/*! no static exports found */function(e,t,n){},"./app/react/components/Elements/scss/stackTrace.scss":
/*!************************************************************!*\
  !*** ./app/react/components/Elements/scss/stackTrace.scss ***!
  \************************************************************/
/*! no static exports found */function(e,t,n){},"./app/react/config.js":
/*!*****************************!*\
  !*** ./app/react/config.js ***!
  \*****************************/
/*! exports provided: default, APIURL */function(e,t,n){"use strict";n.r(t),n.d(t,"APIURL",function(){return o});const o=Object({NODE_ENV:"production"}).API_URL||"/api/";t.default={APIURL:o}},"./app/react/index.js":
/*!****************************!*\
  !*** ./app/react/index.js ***!
  \****************************/
/*! no exports provided */function(e,t,n){"use strict";n.r(t);n(/*! react */"./node_modules/react/index.js");var o,s=n(/*! react-dom */"./node_modules/react-dom/index.js"),r=n.n(s),a=n(/*! react-hot-loader */"./node_modules/react-hot-loader/index.js"),i=n(/*! ./App.js */"./app/react/App.js");n(/*! ./App/sockets */"./app/react/App/sockets.js");function l(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(e=>{r.a.render(l(a.AppContainer,{},void 0,l(e,{})),document.getElementById("root"))})(i.default)},"./app/react/reducer.js":
/*!******************************!*\
  !*** ./app/react/reducer.js ***!
  \******************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! redux */"./node_modules/redux/es/index.js"),s=n(/*! ./BasicReducer */"./app/react/BasicReducer/index.js"),r=n(/*! ./Templates/reducers/reducer */"./app/react/Templates/reducers/reducer.js"),a=n(/*! ./Pages/reducers/reducer */"./app/react/Pages/reducers/reducer.js"),i=n(/*! ./Notifications/reducers/notificationsReducer */"./app/react/Notifications/reducers/notificationsReducer.js"),l=n(/*! ./Thesauris/reducers/reducer */"./app/react/Thesauris/reducers/reducer.js"),c=n(/*! ./Activitylog/reducer */"./app/react/Activitylog/reducer.js"),d=n(/*! ./Viewer/reducers/reducer */"./app/react/Viewer/reducers/reducer.js"),u=n(/*! ./Entities/reducers/reducer */"./app/react/Entities/reducers/reducer.js"),p=n(/*! ./ContextMenu/reducers/contextMenuReducer */"./app/react/ContextMenu/reducers/contextMenuReducer.js"),m=n(/*! ./Connections/reducers/reducer */"./app/react/Connections/reducers/reducer.js"),f=n(/*! ./Relationships/reducers/reducer */"./app/react/Relationships/reducers/reducer.js"),h=n(/*! ./ConnectionsList/reducers/reducer */"./app/react/ConnectionsList/reducers/reducer.js"),y=n(/*! ./Attachments */"./app/react/Attachments/index.js"),v=n(/*! ./SemanticSearch/reducers/reducer */"./app/react/SemanticSearch/reducers/reducer.js"),b=n(/*! ./Library/reducers/reducer */"./app/react/Library/reducers/reducer.js"),g=n(/*! ./Modals/reducers/modalsReducer */"./app/react/Modals/reducers/modalsReducer.js"),j=n(/*! ./Uploads/reducers/progressReducer */"./app/react/Uploads/reducers/progressReducer.js"),S=n(/*! ./Uploads/reducers/importReducer */"./app/react/Uploads/reducers/importReducer.js"),_=n(/*! ./Auth/reducer */"./app/react/Auth/reducer.js"),x=n(/*! ./Settings/reducers/reducer */"./app/react/Settings/reducers/reducer.js"),w=n(/*! ./Users/reducers/login */"./app/react/Users/reducers/login.js"),O=n(/*! ./Metadata/reducer */"./app/react/Metadata/reducer.js"),T=n(/*! ./I18N/reducer */"./app/react/I18N/reducer.js"),C=n(/*! ./I18N/inlineEditReducer */"./app/react/I18N/inlineEditReducer.js"),N=n(/*! react-redux-form */"./node_modules/react-redux-form/lib/index.js");t.default=Object(o.combineReducers)({notifications:i.default,library:Object(b.default)("library"),uploads:Object(b.default)("uploads"),progress:j.default,importEntities:S.default,locale:T.default,inlineEdit:C.default,semanticSearch:v.default,activitylog:c.default,inlineEditForm:Object(N.formReducer)("inlineEditModel",{}),inlineEditModel:Object(N.modelReducer)("inlineEditModel",{}),template:r.default,page:a.default,thesauri:l.default,entityView:u.default,thesauris:Object(s.default)("thesauris",[]),customUploads:Object(s.default)("customUploads",[]),dictionaries:Object(s.default)("dictionaries",[]),relationTypes:Object(s.default)("relationTypes",[]),relationType:Object(N.modelReducer)("relationType",{name:""}),relationTypeForm:Object(N.formReducer)("relationType",{name:""}),templates:Object(s.default)("templates",[]),translations:Object(s.default)("translations",[]),translationsForm:Object(N.modelReducer)("translationsForm",[]),translationsFormState:Object(N.formReducer)("translationsForm"),pages:Object(s.default)("pages",[]),users:Object(s.default)("users",[]),documentViewer:d.default,contextMenu:p.default,connections:m.default,connectionsList:h.default,relationships:f.default,attachments:y.reducer,modals:g.default,user:_.default,login:w.default,settings:x.default,metadata:O.default})},"./app/react/socket.js":
/*!*****************************!*\
  !*** ./app/react/socket.js ***!
  \*****************************/
/*! exports provided: default, reconnectSocket */function(e,t,n){"use strict";n.r(t),n.d(t,"reconnectSocket",function(){return a});var o=n(/*! socket.io-client */"./node_modules/socket.io-client/lib/index.js"),s=n.n(o);let r={on:()=>{}};n(/*! ./utils */"./app/react/utils/index.js").isClient&&(r=s()()),t.default=r;const a=()=>{r.disconnect(),r.connect()}},"./app/react/store.js":
/*!****************************!*\
  !*** ./app/react/store.js ***!
  \****************************/
/*! exports provided: default, store */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return u}),n.d(t,"store",function(){return d});var o=n(/*! ./utils */"./app/react/utils/index.js"),s=n(/*! redux-thunk */"./node_modules/redux-thunk/lib/index.js"),r=n.n(s),a=n(/*! redux-devtools-extension */"./node_modules/redux-devtools-extension/index.js"),i=n(/*! redux */"./node_modules/redux/es/index.js"),l=n(/*! ./reducer */"./app/react/reducer.js");const c=o.isClient&&window.__reduxData__?window.__reduxData__:{};let d;function u(e=c){return d=Object(i.createStore)(l.default,e,Object(a.composeWithDevTools)(Object(i.applyMiddleware)(r.a)))}d||(d=u())},"./app/react/utils/RequestParams.js":
/*!******************************************!*\
  !*** ./app/react/utils/RequestParams.js ***!
  \******************************************/
/*! exports provided: RequestParams */function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,"RequestParams",function(){return r});class r{constructor(e,t={}){this.data=e,this.headers=t}add(e){return new r(function(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};o(n,!0).forEach(function(t){s(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):o(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}({},this.data,{},e),this.headers)}set(e){return new r(e,this.headers)}onlyHeaders(){return new r(void 0,this.headers)}}},"./app/react/utils/SafeHTML.js":
/*!*************************************!*\
  !*** ./app/react/utils/SafeHTML.js ***!
  \*************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o,s=n(/*! html-to-react */"./node_modules/html-to-react/index.js"),r=(n(/*! prop-types */"./node_modules/prop-types/index.js"),n(/*! react */"./node_modules/react/index.js")),a=n.n(r);const i=new s.Parser;t.default=(({children:e})=>(function(e,t,n,s){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=s;else if(a>1){for(var l=new Array(a),c=0;c<a;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}})(a.a.Fragment,{},void 0,(e=>i.parse(e))(e)))},"./app/react/utils/advancedSort.js":
/*!*****************************************!*\
  !*** ./app/react/utils/advancedSort.js ***!
  \*****************************************/
/*! exports provided: advancedSort */function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.r(t),n.d(t,"advancedSort",function(){return a});const s=(e,t,n)=>{const o="desc"===n.order?t:e,s="desc"===n.order?e:t;return"number"===n.treatAs?Number(o)-Number(s):"dottedList"===n.treatAs?((e,t,n)=>{const o=e.split("."),s=t.split(".");return n.listTypes.reduce((e,t,n)=>{if(o.length>n&&s.length<=n)return e.push(1),e;if(o.length<=n&&s.length>n)return e.push(-1),e;if(o.length>n&&s.length>n){const r=t(o[n]),a=t(s[n]);if(r!==a)return e.push(r<a?-1:1),e}return e.push(0),e},[]).reduce((e,t)=>!e&&t?t:e,0)})(o,s,n):((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase()))(o,s)},r=(e,t)=>"object"===o(e)&&null!==e&&-1!==Object.keys(e).indexOf(t),a=(e,t={})=>{t.order=t.order||"asc";const n=(e=>e.concat())(e);return t.property&&n.sort((e,n)=>{let o,a;return Array.isArray(t.property)||(o=e[t.property],a=n[t.property]),Array.isArray(t.property)&&(o=t.property.reduce((e,t)=>r(e,t)?e[t]:null,e),a=t.property.reduce((e,t)=>r(e,t)?e[t]:null,n)),o?a?s(o,a,t):-1:1}),t.property||n.sort((e,n)=>s(e,n,t)),n}},"./app/react/utils/api.js":
/*!********************************!*\
  !*** ./app/react/utils/api.js ***!
  \********************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! react-router */"./node_modules/react-router/es/index.js"),s=n(/*! ./ */"./app/react/utils/index.js"),r=n(/*! ../Notifications/actions/notificationsActions */"./app/react/Notifications/actions/notificationsActions.js"),a=n(/*! ../store */"./app/react/store.js"),i=n(/*! ../App/LoadingProgressBar */"./app/react/App/LoadingProgressBar.js"),l=n(/*! ../config.js */"./app/react/config.js"),c=n(/*! ../../shared/JSONRequest */"./app/shared/JSONRequest.js");function d(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let p,m=l.APIURL;const f=e=>(i.default.done(),e),h=(e,t,n)=>(i.default.start(),c.default[n](m+e,t.data,function(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};d(n,!0).forEach(function(t){u(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):d(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}({"Content-Language":p},t.headers,{"X-Requested-With":"XMLHttpRequest"})).then(f).catch(t=>((e,t)=>{const n=e;return n.endpoint=t,s.isClient?(f(),401===n.status&&o.browserHistory.replace("/login"),404===n.status&&o.browserHistory.replace("/404"),500===n.status&&a.store.dispatch(Object(r.notify)("An error has occurred","danger")),[500,404,401].includes(n.status)||a.store.dispatch(Object(r.notify)(n.json.error,"danger")),Promise.reject(n)):Promise.reject(n)})(t,{url:e,method:n})));t.default={get:(e,t={})=>h(e,t,"get"),post:(e,t={})=>h(e,t,"post"),delete:(e,t={})=>h(e,t,"delete"),cookie(e){c.default.cookie(e)},locale(e){p=e},APIURL(e){m=e}}},"./app/react/utils/colors.js":
/*!***********************************!*\
  !*** ./app/react/utils/colors.js ***!
  \***********************************/
/*! exports provided: COLORS, default */function(e,t,n){"use strict";n.r(t),n.d(t,"COLORS",function(){return o});const o=["#C03B22","#D9534F","#E91E63","#A03AB1","#6F46B8","#3F51B5","#2196F3","#37BDCf","#359990","#5CB85C","#8BC34A","#CDDC39","#CCBC2F","#F0AD4E","#EC9920","#E46841","#795548","#9E9E9E","#607D8B"];t.default=o},"./app/react/utils/debounce.js":
/*!*************************************!*\
  !*** ./app/react/utils/debounce.js ***!
  \*************************************/
/*! exports provided: default */function(e,t,n){"use strict";function o(e,t,n){let o;return function(){const s=arguments,r=n&&!o;if(clearTimeout(o),o=setTimeout(()=>{if(o=null,!n)return e.apply(this,s)},t),r)return e.apply(this,s)}}n.r(t),n.d(t,"default",function(){return o})},"./app/react/utils/index.js":
/*!**********************************!*\
  !*** ./app/react/utils/index.js ***!
  \**********************************/
/*! exports provided: getPropsFromRoute, isClient, events */function(e,t,n){"use strict";n.r(t),n.d(t,"getPropsFromRoute",function(){return s}),n.d(t,"isClient",function(){return r}),n.d(t,"events",function(){return a});var o=n(/*! jvent */"./node_modules/jvent/index.js");function s({routes:e},t){const n={},o=e[e.length-1];return e.reduceRight((e,o)=>{t.forEach(e=>{!n[e]&&o.component&&o.component[e]&&(n[e]=o.component[e])})},o),n}const r="undefined"!=typeof document,a=new(n.n(o).a)},"./app/react/utils/markdownEscapedValues.js":
/*!**************************************************!*\
  !*** ./app/react/utils/markdownEscapedValues.js ***!
  \**************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),t.default=function(){const e=/^([\S\s]+?)\.\.\.([\S\s]+)/,t=/[-[\]{}()*+?.\\^$|,]/g,n=function(e){return e.replace(t,"\\$&")};return function(t,o,s=""){const r=e.exec(o);if(!r)throw new Error('format must include start and end tokens separated by "..."');if(r[1]===r[2])throw new Error("start and end format tokens cannot be identical");const a=r[1],i=r[2],l=new RegExp(5===o.length?`[${n(a+i)}]`:`${n(a)}|${n(i)}`,"g"),c=[];let d,u,p;do{for(d=0;null!==(p=l.exec(t));)p[0]===a?(d||(u=l.lastIndex),d+=1):d&&((d-=1)||t.slice(u-s.length-a.length,u-a.length)===s&&c.push(t.slice(u,p.index)))}while(d&&(l.lastIndex=u));return c}}()},"./app/react/utils/objectWithoutKeys.js":
/*!**********************************************!*\
  !*** ./app/react/utils/objectWithoutKeys.js ***!
  \**********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),t.default=function(e,t=[]){const n=Object.assign({},e);return t.forEach(e=>{delete n[e]}),n}},"./app/react/utils/prioritySortingCriteria.js":
/*!****************************************************!*\
  !*** ./app/react/utils/prioritySortingCriteria.js ***!
  \****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";function o(e,t,n=!0){const o=n?`metadata.${t.get("name")}`:t.get("name");Object.keys(e).includes(o)||(e[o]={type:t.get("type"),ocurrs:0}),e[o].ocurrs+=1}n.r(t),t.default={get:(e={})=>{if(e.override)return e.override;let t={sort:"creationDate",order:"desc",treatAs:"number"},n=[],s={};if(e.templates){if(n=e.templates.map(e=>e.get("commonProperties")?e:e.set("commonProperties",[])),e.filteredTemplates&&e.filteredTemplates.length&&(n=n.filter(t=>e.filteredTemplates.includes(t.get("_id")))),s=function(e,t){return e.forEach(e=>{e.get("commonProperties").forEach(e=>{e.get("prioritySorting")&&o(t,e,!1)}),e.get("properties").forEach(e=>{e.get("filter")&&("text"===e.get("type")||"date"===e.get("type")||"numeric"===e.get("type")||"select"===e.get("type"))&&e.get("prioritySorting")&&o(t,e)})}),t}(n,s),Object.keys(s).length){const e=Object.keys(s).map(e=>{const{type:t,ocurrs:n}=s[e];return{name:e,type:t,ocurrs:n}}).reduce((e,t)=>e.ocurrs>=t.ocurrs?e:t);t={sort:e.name,order:"date"!==e.type?"asc":"desc",treatAs:"date"!==e.type?"string":"number"}}if(e.currentCriteria){e.selectedSorting&&e.selectedSorting.size?e.currentCriteria=e.selectedSorting.toJS():e.currentCriteria=t;let o="title"===e.currentCriteria.sort||"creationDate"===e.currentCriteria.sort;if(o||(o=function(e,t){return e.reduce((e,n)=>{let o=e;return n.get("properties").forEach(e=>{const n=e.get("filter")&&("text"===e.get("type")||"date"===e.get("type"));o=Boolean(o||n&&`metadata.${e.get("name")}`===t.currentCriteria.sort)}),o},!1)}(n,e)),o)return e.currentCriteria}}return t}}},"./app/react/utils/wrapper.js":
/*!************************************!*\
  !*** ./app/react/utils/wrapper.js ***!
  \************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! wrap-range-text */"./node_modules/wrap-range-text/index.js"),s=n.n(o);t.default={wrap:(e,t)=>s()(e,t)}},"./app/shared/JSONRequest.js":
/*!***********************************!*\
  !*** ./app/shared/JSONRequest.js ***!
  \***********************************/
/*! exports provided: toUrlParams, default */function(e,t,n){"use strict";n.r(t),n.d(t,"toUrlParams",function(){return u});n(/*! isomorphic-fetch */"./node_modules/isomorphic-fetch/fetch-npm-browserify.js");var o=n(/*! superagent */"./node_modules/superagent/lib/client.js"),s=n.n(o),r=n(/*! url */"./node_modules/url/url.js"),a=n(/*! rison */"./node_modules/rison/js/rison.js"),i=n.n(a);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}let c;const d=e=>{const t=new i.a.parser(e=>{throw Error(`rison decoder error: ${e}`)});t.error=function(e){this.message=e},t.parse(e)};function u(e){const t=Object.assign({},e);return t&&0!==Object.keys(t).length?`?${Object.keys(t).map(e=>{if(void 0===t[e]||null===t[e])return;"object"===l(t[e])&&(t[e]=JSON.stringify(t[e]));let n=encodeURIComponent(t[e]);if("q"===encodeURIComponent(e))try{d(t[e]),n=t[e]}catch(o){n=encodeURIComponent(t[e])}return`${encodeURIComponent(e)}=${n}`}).filter(e=>e).join("&")}`:""}const p=(e,t,n,o)=>{let s,a,i="";const l=Object.assign({Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Cookie:c},o);return"GET"!==n&&"DELETE"!==n||(i=u(t)),"POST"!==n&&"PUT"!==n||(a=JSON.stringify(t)),r.URLSearchParams&&t instanceof r.URLSearchParams&&(a=t),fetch(e+i,{method:n,headers:l,credentials:"same-origin",body:a}).then(e=>{let t;return e.headers.get("set-cookie")&&(t=e.headers.get("set-cookie")),s=e,Promise.all([e.json(),t])}).then(([e,t])=>{const n={json:e,status:s.status,cookie:t};if(s.status>399)throw n;return n})};t.default={post:(e,t,n)=>p(e,t,"POST",n),put:(e,t,n)=>p(e,t,"PUT",n),get:(e,t,n)=>p(e,t,"GET",n),delete:(e,t,n)=>p(e,t,"DELETE",n),uploadFile:(e,t,n)=>new Promise((o,r)=>{s.a.post(e).set("Accept","application/json").set("X-Requested-With","XMLHttpRequest").set("Cookie",c||"").attach("file",n,t).then(()=>{o()}).catch(e=>{r(e)})}),cookie:e=>{c=e}}},"./app/shared/JSONUtils.js":
/*!*********************************!*\
  !*** ./app/shared/JSONUtils.js ***!
  \*********************************/
/*! exports provided: default */function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.r(t),t.default={parseNested(e){if("object"!==o(e))return e;const t=Object.assign({},e);return Object.keys(e).forEach(n=>{try{t[n]=JSON.parse(e[n])}catch(o){t[n]=e[n]}}),t}}},"./app/shared/comonProperties.js":
/*!***************************************!*\
  !*** ./app/shared/comonProperties.js ***!
  \***************************************/
/*! exports provided: default */function(e,t,n){"use strict";function o(e,t){return e.name===t.name&&e.type===t.type&&e.content===t.content}function s(e,t){return e.reduce((e,n)=>e&&function(e,t){return e.properties.filter(e=>o(e,t)).length}(n,t),!0)}n.r(t);const r=(e,t=[])=>{const n=[],r=e.filter(e=>t.includes(e._id.toString()));return r.length&&r[0].properties.forEach(e=>{if(s(r,e)){const t=r.reduce((t,n)=>{const s=n.properties.find(t=>o(t,e),{});return s.required?s:t},e);n.push(Object.assign({},t))}}),n},a=e=>e.reduce((e,t)=>(t.properties.forEach(t=>{e.find(e=>o(t,e))||e.push(t)}),e),[]).filter(e=>"relationshipfilter"!==e.type);t.default={comonProperties:r,comonFilters:(e,t,n=[])=>{const o=[];return r(e,n).filter(e=>e.filter||"relationshipfilter"===e.type).forEach(e=>{if("relationshipfilter"===e.type){const n=t.find(t=>t._id.toString()===e.relationType.toString());e.filters=n.properties.filter(e=>e.filter)}o.push(e)}),o},defaultFilters:e=>e.reduce((e,t)=>(t.properties.forEach(t=>{t.filter&&t.defaultfilter&&!e.find(e=>o(t,e))&&e.push(t)}),e),[]),allUniqueProperties:a,textFields:e=>a(e).filter(e=>"text"===e.type||"markdown"===e.type)}},"./app/shared/languagesList.ts":
/*!*************************************!*\
  !*** ./app/shared/languagesList.ts ***!
  \*************************************/
/*! exports provided: default, languages, allLanguages */function(e,t,n){"use strict";n.r(t),n.d(t,"languages",function(){return o}),n.d(t,"allLanguages",function(){return s});const o={arb:{franc:"arb",elastic:"arabic",ISO639_1:"ar"},bul:{franc:"bul",elastic:"bulgarian",ISO639_1:"bg"},cat:{franc:"cat",elastic:"catalan",ISO639_1:"ca"},cjk:{franc:"cjk",elastic:"cjk",ISO639_1:null},ckb:{franc:"ckb",elastic:"sorani",ISO639_1:null},ces:{franc:"ces",elastic:"czech",ISO639_1:"cs"},dan:{franc:"dan",elastic:"danish",ISO639_1:"da"},deu:{franc:"deu",elastic:"german",ISO639_1:"de"},ell:{franc:"ell",elastic:"greek",ISO639_1:"el"},eng:{franc:"eng",elastic:"english",ISO639_1:"en"},eus:{franc:"eus",elastic:"basque",ISO639_1:"eu"},fas:{franc:"fas",elastic:"persian",ISO639_1:"fa"},fin:{franc:"fin",elastic:"finnish",ISO639_1:"fi"},fra:{franc:"fra",elastic:"french",ISO639_1:"fr"},gle:{franc:"gle",elastic:"irish",ISO639_1:"ga"},glg:{franc:"glg",elastic:"galician",ISO639_1:"gl"},hin:{franc:"hin",elastic:"hindi",ISO639_1:"hi"},hun:{franc:"hun",elastic:"hungarian",ISO639_1:"hu"},hye:{franc:"hye",elastic:"armenian",ISO639_1:"hy"},ind:{franc:"ind",elastic:"indonesian",ISO639_1:"id"},ita:{franc:"ita",elastic:"italian",ISO639_1:"it"},lav:{franc:"lav",elastic:"latvian",ISO639_1:"lv"},lit:{franc:"lit",elastic:"lithuanian",ISO639_1:"lt"},nld:{franc:"nld",elastic:"dutch",ISO639_1:"nl"},nno:{franc:"nno",elastic:"norwegian",ISO639_1:"nn"},nob:{franc:"nob",elastic:"norwegian",ISO639_1:"nb"},por:{franc:"por",elastic:"portuguese",ISO639_1:"pt"},ron:{franc:"ron",elastic:"romanian",ISO639_1:"ro"},rus:{franc:"rus",elastic:"russian",ISO639_1:"ru"},spa:{franc:"spa",elastic:"spanish",ISO639_1:"es"},swe:{franc:"swe",elastic:"swedish",ISO639_1:"sv"},tha:{franc:"tha",elastic:"thai",ISO639_1:"th"},tur:{franc:"tur",elastic:"turkish",ISO639_1:"tr"}},s=[{label:"Abkhazian",key:"ab"},{label:"Afar",key:"aa"},{label:"Afrikaans",key:"af"},{label:"Akan",key:"ak"},{label:"Albanian",key:"sq"},{label:"Amharic",key:"am"},{label:"Arabic",key:"ar",rtl:!0},{label:"Aragonese",key:"an"},{label:"Armenian",key:"hy"},{label:"Assamese",key:"as"},{label:"Avaric",key:"av"},{label:"Avestan",key:"ae"},{label:"Aymara",key:"ay"},{label:"Azerbaijani",key:"az"},{label:"Bambara",key:"bm"},{label:"Bashkir",key:"ba"},{label:"Basque",key:"eu"},{label:"Belarusian",key:"be"},{label:"Bengali (Bangla)",key:"bn"},{label:"Bihari",key:"bh"},{label:"Bislama",key:"bi"},{label:"Bosnian",key:"bs"},{label:"Breton",key:"br"},{label:"Bulgarian",key:"bg"},{label:"Burmese",key:"my"},{label:"Catalan",key:"ca"},{label:"Chamorro",key:"ch"},{label:"Chechen",key:"ce"},{label:"Chichewa, Chewa, Nyanja",key:"ny"},{label:"Chinese",key:"zh"},{label:"Chinese (Simplified)",key:"zh-Hans"},{label:"Chinese (Traditional)",key:"zh-Hant"},{label:"Chuvash",key:"cv"},{label:"Cornish",key:"kw"},{label:"Corsican",key:"co"},{label:"Cree",key:"cr"},{label:"Croatian",key:"hr"},{label:"Czech",key:"cs"},{label:"Danish",key:"da"},{label:"Divehi, Dhivehi, Maldivian",key:"dv",rtl:!0},{label:"Dutch",key:"nl"},{label:"Dzongkha",key:"dz"},{label:"English",key:"en"},{label:"Esperanto",key:"eo"},{label:"Estonian",key:"et"},{label:"Ewe",key:"ee"},{label:"Faroese",key:"fo"},{label:"Fijian",key:"fj"},{label:"Finnish",key:"fi"},{label:"French",key:"fr"},{label:"Fula, Fulah, Pulaar, Pular",key:"ff"},{label:"Galician",key:"gl"},{label:"Gaelic Scottish",key:"gd"},{label:"Gaelic (Manx)",key:"gv"},{label:"Georgian",key:"ka"},{label:"German",key:"de"},{label:"Greek",key:"el"},{label:"Guarani",key:"gn"},{label:"Gujarati",key:"gu"},{label:"Haitian Creole",key:"ht"},{label:"Hausa",key:"ha",rtl:!0},{label:"Hebrew",key:"he",rtl:!0},{label:"Herero",key:"hz"},{label:"Hindi",key:"hi"},{label:"Hiri Motu",key:"ho"},{label:"Hungarian",key:"hu"},{label:"Icelandic",key:"is"},{label:"Ido",key:"io"},{label:"Igbo",key:"ig"},{label:"Indonesian",key:"in"},{label:"Interlingua",key:"ia"},{label:"Interlingue",key:"ie"},{label:"Inuktitut",key:"iu"},{label:"Inupiak",key:"ik"},{label:"Irish",key:"ga"},{label:"Italian",key:"it"},{label:"Japanese",key:"ja"},{label:"Javanese",key:"jv"},{label:"Kalaallisut, Greenlandic",key:"kl"},{label:"Kannada",key:"kn"},{label:"Kanuri",key:"kr"},{label:"Kashmiri",key:"ks",rtl:!0},{label:"Kazakh",key:"kk"},{label:"Khmer",key:"km"},{label:"Kikuyu",key:"ki"},{label:"Kinyarwanda (Rwanda)",key:"rw"},{label:"Kirundi",key:"rn"},{label:"Kyrgyz",key:"ky"},{label:"Komi",key:"kv"},{label:"Kongo",key:"kg"},{label:"Korean",key:"ko"},{label:"Kurdish",key:"ku",rtl:!0},{label:"Kwanyama",key:"kj"},{label:"Lao",key:"lo"},{label:"Latin",key:"la"},{label:"Latvian (Lettish)",key:"lv"},{label:"Limburgish (Limburger)",key:"li"},{label:"Lingala",key:"ln"},{label:"Lithuanian",key:"lt"},{label:"Luga-Katanga",key:"lu"},{label:"Luganda, Ganda",key:"lg"},{label:"Luxembourgish",key:"lb"},{label:"Macedonian",key:"mk"},{label:"Malagasy",key:"mg"},{label:"Malay",key:"ms"},{label:"Malayalam",key:"ml"},{label:"Maltese",key:"mt"},{label:"Maori",key:"mi"},{label:"Marathi",key:"mr"},{label:"Marshallese",key:"mh"},{label:"Moldavian",key:"mo"},{label:"Mongolian",key:"mn"},{label:"Nauru",key:"na"},{label:"Navajo",key:"nv"},{label:"Ndonga",key:"ng"},{label:"Northern Ndebele",key:"nd"},{label:"Nepali",key:"ne"},{label:"Norwegian",key:"no"},{label:"Norwegian bokmål",key:"nb"},{label:"Norwegian nynorsk",key:"nn"},{label:"Occitan",key:"oc"},{label:"Ojibwe",key:"oj"},{label:"Old Church Slavonic, Old Bulgarian",key:"cu"},{label:"Oriya",key:"or"},{label:"Oromo (Afaan Oromo)",key:"om"},{label:"Ossetian",key:"os"},{label:"Pāli",key:"pi"},{label:"Pashto, Pushto",key:"ps",rtl:!0},{label:"Persian (Farsi)",key:"fa",rtl:!0},{label:"Polish",key:"pl"},{label:"Portuguese",key:"pt"},{label:"Punjabi (Eastern)",key:"pa"},{label:"Quechua",key:"qu"},{label:"Romansh",key:"rm"},{label:"Romanian",key:"ro"},{label:"Russian",key:"ru"},{label:"Sami",key:"se"},{label:"Samoan",key:"sm"},{label:"Sango",key:"sg"},{label:"Sanskrit",key:"sa"},{label:"Serbian",key:"sr"},{label:"Serbo-Croatian",key:"sh"},{label:"Sesotho",key:"st"},{label:"Setswana",key:"tn"},{label:"Shona",key:"sn"},{label:"Sichuan Yi, Nuosu",key:"ii"},{label:"Sindhi",key:"sd"},{label:"Sinhalese",key:"si"},{label:"Siswati, Swati",key:"ss"},{label:"Slovak",key:"sk"},{label:"Slovenian",key:"sl"},{label:"Somali",key:"so"},{label:"Southern Ndebele",key:"nr"},{label:"Spanish",key:"es"},{label:"Sundanese",key:"su"},{label:"Swahili (Kiswahili)",key:"sw"},{label:"Swedish",key:"sv"},{label:"Tagalog",key:"tl"},{label:"Tahitian",key:"ty"},{label:"Tajik",key:"tg"},{label:"Tamil",key:"ta"},{label:"Tatar",key:"tt"},{label:"Telugu",key:"te"},{label:"Thai",key:"th"},{label:"Tibetan",key:"bo"},{label:"Tigrinya",key:"ti"},{label:"Tonga",key:"to"},{label:"Tsonga",key:"ts"},{label:"Turkish",key:"tr"},{label:"Turkmen",key:"tk"},{label:"Twi",key:"tw"},{label:"Uyghur",key:"ug"},{label:"Ukrainian",key:"uk"},{label:"Urdu",key:"ur",rtl:!0},{label:"Uzbek",key:"uz"},{label:"Venda",key:"ve"},{label:"Vietnamese",key:"vi"},{label:"Volapük",key:"vo"},{label:"Wallon",key:"wa"},{label:"Welsh",key:"cy"},{label:"Wolof",key:"wo"},{label:"Western Frisian",key:"fy"},{label:"Xhosa",key:"xh"},{label:"Yiddish",key:"yi",rtl:!0},{label:"Yoruba",key:"yo"},{label:"Zhuang, Chuang",key:"za"},{label:"Zulu",key:"zu"}];t.default=((e,t="elastic")=>{const n="ISO639_1"!==t?"other":null;return o[e]?o[e][t]:n})},"./app/shared/translate.js":
/*!*********************************!*\
  !*** ./app/shared/translate.js ***!
  \*********************************/
/*! exports provided: getLocaleTranslation, getContext, default */function(e,t,n){"use strict";function o(e,t){return e.find(e=>e.locale===t)||{contexts:[]}}function s(e,t){return e.contexts.find(e=>e.id===t)||{values:{}}}function r(e,t,n){return e.values[t]||n}n.r(t),n.d(t,"getLocaleTranslation",function(){return o}),n.d(t,"getContext",function(){return s}),n.d(t,"default",function(){return r})},"./app/shared/uniqueID.js":
/*!********************************!*\
  !*** ./app/shared/uniqueID.js ***!
  \********************************/
/*! exports provided: default, mockID */function(e,t,n){"use strict";function o(e="unique_id"){spyOn(Math,"uniqueID").and.returnValue(e)}n.r(t),n.d(t,"mockID",function(){return o}),Math.uniqueID=(()=>Math.random().toString(36).substr(2)),t.default=function(){return Math.uniqueID()}},"./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */function(e,t,n){var o={"./af":"./node_modules/moment/locale/af.js","./af.js":"./node_modules/moment/locale/af.js","./ar":"./node_modules/moment/locale/ar.js","./ar-dz":"./node_modules/moment/locale/ar-dz.js","./ar-dz.js":"./node_modules/moment/locale/ar-dz.js","./ar-kw":"./node_modules/moment/locale/ar-kw.js","./ar-kw.js":"./node_modules/moment/locale/ar-kw.js","./ar-ly":"./node_modules/moment/locale/ar-ly.js","./ar-ly.js":"./node_modules/moment/locale/ar-ly.js","./ar-ma":"./node_modules/moment/locale/ar-ma.js","./ar-ma.js":"./node_modules/moment/locale/ar-ma.js","./ar-sa":"./node_modules/moment/locale/ar-sa.js","./ar-sa.js":"./node_modules/moment/locale/ar-sa.js","./ar-tn":"./node_modules/moment/locale/ar-tn.js","./ar-tn.js":"./node_modules/moment/locale/ar-tn.js","./ar.js":"./node_modules/moment/locale/ar.js","./az":"./node_modules/moment/locale/az.js","./az.js":"./node_modules/moment/locale/az.js","./be":"./node_modules/moment/locale/be.js","./be.js":"./node_modules/moment/locale/be.js","./bg":"./node_modules/moment/locale/bg.js","./bg.js":"./node_modules/moment/locale/bg.js","./bm":"./node_modules/moment/locale/bm.js","./bm.js":"./node_modules/moment/locale/bm.js","./bn":"./node_modules/moment/locale/bn.js","./bn.js":"./node_modules/moment/locale/bn.js","./bo":"./node_modules/moment/locale/bo.js","./bo.js":"./node_modules/moment/locale/bo.js","./br":"./node_modules/moment/locale/br.js","./br.js":"./node_modules/moment/locale/br.js","./bs":"./node_modules/moment/locale/bs.js","./bs.js":"./node_modules/moment/locale/bs.js","./ca":"./node_modules/moment/locale/ca.js","./ca.js":"./node_modules/moment/locale/ca.js","./cs":"./node_modules/moment/locale/cs.js","./cs.js":"./node_modules/moment/locale/cs.js","./cv":"./node_modules/moment/locale/cv.js","./cv.js":"./node_modules/moment/locale/cv.js","./cy":"./node_modules/moment/locale/cy.js","./cy.js":"./node_modules/moment/locale/cy.js","./da":"./node_modules/moment/locale/da.js","./da.js":"./node_modules/moment/locale/da.js","./de":"./node_modules/moment/locale/de.js","./de-at":"./node_modules/moment/locale/de-at.js","./de-at.js":"./node_modules/moment/locale/de-at.js","./de-ch":"./node_modules/moment/locale/de-ch.js","./de-ch.js":"./node_modules/moment/locale/de-ch.js","./de.js":"./node_modules/moment/locale/de.js","./dv":"./node_modules/moment/locale/dv.js","./dv.js":"./node_modules/moment/locale/dv.js","./el":"./node_modules/moment/locale/el.js","./el.js":"./node_modules/moment/locale/el.js","./en-au":"./node_modules/moment/locale/en-au.js","./en-au.js":"./node_modules/moment/locale/en-au.js","./en-ca":"./node_modules/moment/locale/en-ca.js","./en-ca.js":"./node_modules/moment/locale/en-ca.js","./en-gb":"./node_modules/moment/locale/en-gb.js","./en-gb.js":"./node_modules/moment/locale/en-gb.js","./en-ie":"./node_modules/moment/locale/en-ie.js","./en-ie.js":"./node_modules/moment/locale/en-ie.js","./en-il":"./node_modules/moment/locale/en-il.js","./en-il.js":"./node_modules/moment/locale/en-il.js","./en-nz":"./node_modules/moment/locale/en-nz.js","./en-nz.js":"./node_modules/moment/locale/en-nz.js","./eo":"./node_modules/moment/locale/eo.js","./eo.js":"./node_modules/moment/locale/eo.js","./es":"./node_modules/moment/locale/es.js","./es-do":"./node_modules/moment/locale/es-do.js","./es-do.js":"./node_modules/moment/locale/es-do.js","./es-us":"./node_modules/moment/locale/es-us.js","./es-us.js":"./node_modules/moment/locale/es-us.js","./es.js":"./node_modules/moment/locale/es.js","./et":"./node_modules/moment/locale/et.js","./et.js":"./node_modules/moment/locale/et.js","./eu":"./node_modules/moment/locale/eu.js","./eu.js":"./node_modules/moment/locale/eu.js","./fa":"./node_modules/moment/locale/fa.js","./fa.js":"./node_modules/moment/locale/fa.js","./fi":"./node_modules/moment/locale/fi.js","./fi.js":"./node_modules/moment/locale/fi.js","./fo":"./node_modules/moment/locale/fo.js","./fo.js":"./node_modules/moment/locale/fo.js","./fr":"./node_modules/moment/locale/fr.js","./fr-ca":"./node_modules/moment/locale/fr-ca.js","./fr-ca.js":"./node_modules/moment/locale/fr-ca.js","./fr-ch":"./node_modules/moment/locale/fr-ch.js","./fr-ch.js":"./node_modules/moment/locale/fr-ch.js","./fr.js":"./node_modules/moment/locale/fr.js","./fy":"./node_modules/moment/locale/fy.js","./fy.js":"./node_modules/moment/locale/fy.js","./gd":"./node_modules/moment/locale/gd.js","./gd.js":"./node_modules/moment/locale/gd.js","./gl":"./node_modules/moment/locale/gl.js","./gl.js":"./node_modules/moment/locale/gl.js","./gom-latn":"./node_modules/moment/locale/gom-latn.js","./gom-latn.js":"./node_modules/moment/locale/gom-latn.js","./gu":"./node_modules/moment/locale/gu.js","./gu.js":"./node_modules/moment/locale/gu.js","./he":"./node_modules/moment/locale/he.js","./he.js":"./node_modules/moment/locale/he.js","./hi":"./node_modules/moment/locale/hi.js","./hi.js":"./node_modules/moment/locale/hi.js","./hr":"./node_modules/moment/locale/hr.js","./hr.js":"./node_modules/moment/locale/hr.js","./hu":"./node_modules/moment/locale/hu.js","./hu.js":"./node_modules/moment/locale/hu.js","./hy-am":"./node_modules/moment/locale/hy-am.js","./hy-am.js":"./node_modules/moment/locale/hy-am.js","./id":"./node_modules/moment/locale/id.js","./id.js":"./node_modules/moment/locale/id.js","./is":"./node_modules/moment/locale/is.js","./is.js":"./node_modules/moment/locale/is.js","./it":"./node_modules/moment/locale/it.js","./it.js":"./node_modules/moment/locale/it.js","./ja":"./node_modules/moment/locale/ja.js","./ja.js":"./node_modules/moment/locale/ja.js","./jv":"./node_modules/moment/locale/jv.js","./jv.js":"./node_modules/moment/locale/jv.js","./ka":"./node_modules/moment/locale/ka.js","./ka.js":"./node_modules/moment/locale/ka.js","./kk":"./node_modules/moment/locale/kk.js","./kk.js":"./node_modules/moment/locale/kk.js","./km":"./node_modules/moment/locale/km.js","./km.js":"./node_modules/moment/locale/km.js","./kn":"./node_modules/moment/locale/kn.js","./kn.js":"./node_modules/moment/locale/kn.js","./ko":"./node_modules/moment/locale/ko.js","./ko.js":"./node_modules/moment/locale/ko.js","./ky":"./node_modules/moment/locale/ky.js","./ky.js":"./node_modules/moment/locale/ky.js","./lb":"./node_modules/moment/locale/lb.js","./lb.js":"./node_modules/moment/locale/lb.js","./lo":"./node_modules/moment/locale/lo.js","./lo.js":"./node_modules/moment/locale/lo.js","./lt":"./node_modules/moment/locale/lt.js","./lt.js":"./node_modules/moment/locale/lt.js","./lv":"./node_modules/moment/locale/lv.js","./lv.js":"./node_modules/moment/locale/lv.js","./me":"./node_modules/moment/locale/me.js","./me.js":"./node_modules/moment/locale/me.js","./mi":"./node_modules/moment/locale/mi.js","./mi.js":"./node_modules/moment/locale/mi.js","./mk":"./node_modules/moment/locale/mk.js","./mk.js":"./node_modules/moment/locale/mk.js","./ml":"./node_modules/moment/locale/ml.js","./ml.js":"./node_modules/moment/locale/ml.js","./mr":"./node_modules/moment/locale/mr.js","./mr.js":"./node_modules/moment/locale/mr.js","./ms":"./node_modules/moment/locale/ms.js","./ms-my":"./node_modules/moment/locale/ms-my.js","./ms-my.js":"./node_modules/moment/locale/ms-my.js","./ms.js":"./node_modules/moment/locale/ms.js","./mt":"./node_modules/moment/locale/mt.js","./mt.js":"./node_modules/moment/locale/mt.js","./my":"./node_modules/moment/locale/my.js","./my.js":"./node_modules/moment/locale/my.js","./nb":"./node_modules/moment/locale/nb.js","./nb.js":"./node_modules/moment/locale/nb.js","./ne":"./node_modules/moment/locale/ne.js","./ne.js":"./node_modules/moment/locale/ne.js","./nl":"./node_modules/moment/locale/nl.js","./nl-be":"./node_modules/moment/locale/nl-be.js","./nl-be.js":"./node_modules/moment/locale/nl-be.js","./nl.js":"./node_modules/moment/locale/nl.js","./nn":"./node_modules/moment/locale/nn.js","./nn.js":"./node_modules/moment/locale/nn.js","./pa-in":"./node_modules/moment/locale/pa-in.js","./pa-in.js":"./node_modules/moment/locale/pa-in.js","./pl":"./node_modules/moment/locale/pl.js","./pl.js":"./node_modules/moment/locale/pl.js","./pt":"./node_modules/moment/locale/pt.js","./pt-br":"./node_modules/moment/locale/pt-br.js","./pt-br.js":"./node_modules/moment/locale/pt-br.js","./pt.js":"./node_modules/moment/locale/pt.js","./ro":"./node_modules/moment/locale/ro.js","./ro.js":"./node_modules/moment/locale/ro.js","./ru":"./node_modules/moment/locale/ru.js","./ru.js":"./node_modules/moment/locale/ru.js","./sd":"./node_modules/moment/locale/sd.js","./sd.js":"./node_modules/moment/locale/sd.js","./se":"./node_modules/moment/locale/se.js","./se.js":"./node_modules/moment/locale/se.js","./si":"./node_modules/moment/locale/si.js","./si.js":"./node_modules/moment/locale/si.js","./sk":"./node_modules/moment/locale/sk.js","./sk.js":"./node_modules/moment/locale/sk.js","./sl":"./node_modules/moment/locale/sl.js","./sl.js":"./node_modules/moment/locale/sl.js","./sq":"./node_modules/moment/locale/sq.js","./sq.js":"./node_modules/moment/locale/sq.js","./sr":"./node_modules/moment/locale/sr.js","./sr-cyrl":"./node_modules/moment/locale/sr-cyrl.js","./sr-cyrl.js":"./node_modules/moment/locale/sr-cyrl.js","./sr.js":"./node_modules/moment/locale/sr.js","./ss":"./node_modules/moment/locale/ss.js","./ss.js":"./node_modules/moment/locale/ss.js","./sv":"./node_modules/moment/locale/sv.js","./sv.js":"./node_modules/moment/locale/sv.js","./sw":"./node_modules/moment/locale/sw.js","./sw.js":"./node_modules/moment/locale/sw.js","./ta":"./node_modules/moment/locale/ta.js","./ta.js":"./node_modules/moment/locale/ta.js","./te":"./node_modules/moment/locale/te.js","./te.js":"./node_modules/moment/locale/te.js","./tet":"./node_modules/moment/locale/tet.js","./tet.js":"./node_modules/moment/locale/tet.js","./tg":"./node_modules/moment/locale/tg.js","./tg.js":"./node_modules/moment/locale/tg.js","./th":"./node_modules/moment/locale/th.js","./th.js":"./node_modules/moment/locale/th.js","./tl-ph":"./node_modules/moment/locale/tl-ph.js","./tl-ph.js":"./node_modules/moment/locale/tl-ph.js","./tlh":"./node_modules/moment/locale/tlh.js","./tlh.js":"./node_modules/moment/locale/tlh.js","./tr":"./node_modules/moment/locale/tr.js","./tr.js":"./node_modules/moment/locale/tr.js","./tzl":"./node_modules/moment/locale/tzl.js","./tzl.js":"./node_modules/moment/locale/tzl.js","./tzm":"./node_modules/moment/locale/tzm.js","./tzm-latn":"./node_modules/moment/locale/tzm-latn.js","./tzm-latn.js":"./node_modules/moment/locale/tzm-latn.js","./tzm.js":"./node_modules/moment/locale/tzm.js","./ug-cn":"./node_modules/moment/locale/ug-cn.js","./ug-cn.js":"./node_modules/moment/locale/ug-cn.js","./uk":"./node_modules/moment/locale/uk.js","./uk.js":"./node_modules/moment/locale/uk.js","./ur":"./node_modules/moment/locale/ur.js","./ur.js":"./node_modules/moment/locale/ur.js","./uz":"./node_modules/moment/locale/uz.js","./uz-latn":"./node_modules/moment/locale/uz-latn.js","./uz-latn.js":"./node_modules/moment/locale/uz-latn.js","./uz.js":"./node_modules/moment/locale/uz.js","./vi":"./node_modules/moment/locale/vi.js","./vi.js":"./node_modules/moment/locale/vi.js","./x-pseudo":"./node_modules/moment/locale/x-pseudo.js","./x-pseudo.js":"./node_modules/moment/locale/x-pseudo.js","./yo":"./node_modules/moment/locale/yo.js","./yo.js":"./node_modules/moment/locale/yo.js","./zh-cn":"./node_modules/moment/locale/zh-cn.js","./zh-cn.js":"./node_modules/moment/locale/zh-cn.js","./zh-hk":"./node_modules/moment/locale/zh-hk.js","./zh-hk.js":"./node_modules/moment/locale/zh-hk.js","./zh-tw":"./node_modules/moment/locale/zh-tw.js","./zh-tw.js":"./node_modules/moment/locale/zh-tw.js"};function s(e){var t=r(e);return n(t)}function r(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}s.keys=function(){return Object.keys(o)},s.resolve=r,e.exports=s,s.id="./node_modules/moment/locale sync recursive ^\\.\\/.*$"},"./node_modules/react-datepicker/node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!********************************************************************************!*\
  !*** ./node_modules/react-datepicker/node_modules/moment/locale sync ^\.\/.*$ ***!
  \********************************************************************************/
/*! no static exports found */function(e,t,n){var o={"./af":"./node_modules/react-datepicker/node_modules/moment/locale/af.js","./af.js":"./node_modules/react-datepicker/node_modules/moment/locale/af.js","./ar":"./node_modules/react-datepicker/node_modules/moment/locale/ar.js","./ar-dz":"./node_modules/react-datepicker/node_modules/moment/locale/ar-dz.js","./ar-dz.js":"./node_modules/react-datepicker/node_modules/moment/locale/ar-dz.js","./ar-kw":"./node_modules/react-datepicker/node_modules/moment/locale/ar-kw.js","./ar-kw.js":"./node_modules/react-datepicker/node_modules/moment/locale/ar-kw.js","./ar-ly":"./node_modules/react-datepicker/node_modules/moment/locale/ar-ly.js","./ar-ly.js":"./node_modules/react-datepicker/node_modules/moment/locale/ar-ly.js","./ar-ma":"./node_modules/react-datepicker/node_modules/moment/locale/ar-ma.js","./ar-ma.js":"./node_modules/react-datepicker/node_modules/moment/locale/ar-ma.js","./ar-sa":"./node_modules/react-datepicker/node_modules/moment/locale/ar-sa.js","./ar-sa.js":"./node_modules/react-datepicker/node_modules/moment/locale/ar-sa.js","./ar-tn":"./node_modules/react-datepicker/node_modules/moment/locale/ar-tn.js","./ar-tn.js":"./node_modules/react-datepicker/node_modules/moment/locale/ar-tn.js","./ar.js":"./node_modules/react-datepicker/node_modules/moment/locale/ar.js","./az":"./node_modules/react-datepicker/node_modules/moment/locale/az.js","./az.js":"./node_modules/react-datepicker/node_modules/moment/locale/az.js","./be":"./node_modules/react-datepicker/node_modules/moment/locale/be.js","./be.js":"./node_modules/react-datepicker/node_modules/moment/locale/be.js","./bg":"./node_modules/react-datepicker/node_modules/moment/locale/bg.js","./bg.js":"./node_modules/react-datepicker/node_modules/moment/locale/bg.js","./bm":"./node_modules/react-datepicker/node_modules/moment/locale/bm.js","./bm.js":"./node_modules/react-datepicker/node_modules/moment/locale/bm.js","./bn":"./node_modules/react-datepicker/node_modules/moment/locale/bn.js","./bn.js":"./node_modules/react-datepicker/node_modules/moment/locale/bn.js","./bo":"./node_modules/react-datepicker/node_modules/moment/locale/bo.js","./bo.js":"./node_modules/react-datepicker/node_modules/moment/locale/bo.js","./br":"./node_modules/react-datepicker/node_modules/moment/locale/br.js","./br.js":"./node_modules/react-datepicker/node_modules/moment/locale/br.js","./bs":"./node_modules/react-datepicker/node_modules/moment/locale/bs.js","./bs.js":"./node_modules/react-datepicker/node_modules/moment/locale/bs.js","./ca":"./node_modules/react-datepicker/node_modules/moment/locale/ca.js","./ca.js":"./node_modules/react-datepicker/node_modules/moment/locale/ca.js","./cs":"./node_modules/react-datepicker/node_modules/moment/locale/cs.js","./cs.js":"./node_modules/react-datepicker/node_modules/moment/locale/cs.js","./cv":"./node_modules/react-datepicker/node_modules/moment/locale/cv.js","./cv.js":"./node_modules/react-datepicker/node_modules/moment/locale/cv.js","./cy":"./node_modules/react-datepicker/node_modules/moment/locale/cy.js","./cy.js":"./node_modules/react-datepicker/node_modules/moment/locale/cy.js","./da":"./node_modules/react-datepicker/node_modules/moment/locale/da.js","./da.js":"./node_modules/react-datepicker/node_modules/moment/locale/da.js","./de":"./node_modules/react-datepicker/node_modules/moment/locale/de.js","./de-at":"./node_modules/react-datepicker/node_modules/moment/locale/de-at.js","./de-at.js":"./node_modules/react-datepicker/node_modules/moment/locale/de-at.js","./de-ch":"./node_modules/react-datepicker/node_modules/moment/locale/de-ch.js","./de-ch.js":"./node_modules/react-datepicker/node_modules/moment/locale/de-ch.js","./de.js":"./node_modules/react-datepicker/node_modules/moment/locale/de.js","./dv":"./node_modules/react-datepicker/node_modules/moment/locale/dv.js","./dv.js":"./node_modules/react-datepicker/node_modules/moment/locale/dv.js","./el":"./node_modules/react-datepicker/node_modules/moment/locale/el.js","./el.js":"./node_modules/react-datepicker/node_modules/moment/locale/el.js","./en-SG":"./node_modules/react-datepicker/node_modules/moment/locale/en-SG.js","./en-SG.js":"./node_modules/react-datepicker/node_modules/moment/locale/en-SG.js","./en-au":"./node_modules/react-datepicker/node_modules/moment/locale/en-au.js","./en-au.js":"./node_modules/react-datepicker/node_modules/moment/locale/en-au.js","./en-ca":"./node_modules/react-datepicker/node_modules/moment/locale/en-ca.js","./en-ca.js":"./node_modules/react-datepicker/node_modules/moment/locale/en-ca.js","./en-gb":"./node_modules/react-datepicker/node_modules/moment/locale/en-gb.js","./en-gb.js":"./node_modules/react-datepicker/node_modules/moment/locale/en-gb.js","./en-ie":"./node_modules/react-datepicker/node_modules/moment/locale/en-ie.js","./en-ie.js":"./node_modules/react-datepicker/node_modules/moment/locale/en-ie.js","./en-il":"./node_modules/react-datepicker/node_modules/moment/locale/en-il.js","./en-il.js":"./node_modules/react-datepicker/node_modules/moment/locale/en-il.js","./en-nz":"./node_modules/react-datepicker/node_modules/moment/locale/en-nz.js","./en-nz.js":"./node_modules/react-datepicker/node_modules/moment/locale/en-nz.js","./eo":"./node_modules/react-datepicker/node_modules/moment/locale/eo.js","./eo.js":"./node_modules/react-datepicker/node_modules/moment/locale/eo.js","./es":"./node_modules/react-datepicker/node_modules/moment/locale/es.js","./es-do":"./node_modules/react-datepicker/node_modules/moment/locale/es-do.js","./es-do.js":"./node_modules/react-datepicker/node_modules/moment/locale/es-do.js","./es-us":"./node_modules/react-datepicker/node_modules/moment/locale/es-us.js","./es-us.js":"./node_modules/react-datepicker/node_modules/moment/locale/es-us.js","./es.js":"./node_modules/react-datepicker/node_modules/moment/locale/es.js","./et":"./node_modules/react-datepicker/node_modules/moment/locale/et.js","./et.js":"./node_modules/react-datepicker/node_modules/moment/locale/et.js","./eu":"./node_modules/react-datepicker/node_modules/moment/locale/eu.js","./eu.js":"./node_modules/react-datepicker/node_modules/moment/locale/eu.js","./fa":"./node_modules/react-datepicker/node_modules/moment/locale/fa.js","./fa.js":"./node_modules/react-datepicker/node_modules/moment/locale/fa.js","./fi":"./node_modules/react-datepicker/node_modules/moment/locale/fi.js","./fi.js":"./node_modules/react-datepicker/node_modules/moment/locale/fi.js","./fo":"./node_modules/react-datepicker/node_modules/moment/locale/fo.js","./fo.js":"./node_modules/react-datepicker/node_modules/moment/locale/fo.js","./fr":"./node_modules/react-datepicker/node_modules/moment/locale/fr.js","./fr-ca":"./node_modules/react-datepicker/node_modules/moment/locale/fr-ca.js","./fr-ca.js":"./node_modules/react-datepicker/node_modules/moment/locale/fr-ca.js","./fr-ch":"./node_modules/react-datepicker/node_modules/moment/locale/fr-ch.js","./fr-ch.js":"./node_modules/react-datepicker/node_modules/moment/locale/fr-ch.js","./fr.js":"./node_modules/react-datepicker/node_modules/moment/locale/fr.js","./fy":"./node_modules/react-datepicker/node_modules/moment/locale/fy.js","./fy.js":"./node_modules/react-datepicker/node_modules/moment/locale/fy.js","./ga":"./node_modules/react-datepicker/node_modules/moment/locale/ga.js","./ga.js":"./node_modules/react-datepicker/node_modules/moment/locale/ga.js","./gd":"./node_modules/react-datepicker/node_modules/moment/locale/gd.js","./gd.js":"./node_modules/react-datepicker/node_modules/moment/locale/gd.js","./gl":"./node_modules/react-datepicker/node_modules/moment/locale/gl.js","./gl.js":"./node_modules/react-datepicker/node_modules/moment/locale/gl.js","./gom-latn":"./node_modules/react-datepicker/node_modules/moment/locale/gom-latn.js","./gom-latn.js":"./node_modules/react-datepicker/node_modules/moment/locale/gom-latn.js","./gu":"./node_modules/react-datepicker/node_modules/moment/locale/gu.js","./gu.js":"./node_modules/react-datepicker/node_modules/moment/locale/gu.js","./he":"./node_modules/react-datepicker/node_modules/moment/locale/he.js","./he.js":"./node_modules/react-datepicker/node_modules/moment/locale/he.js","./hi":"./node_modules/react-datepicker/node_modules/moment/locale/hi.js","./hi.js":"./node_modules/react-datepicker/node_modules/moment/locale/hi.js","./hr":"./node_modules/react-datepicker/node_modules/moment/locale/hr.js","./hr.js":"./node_modules/react-datepicker/node_modules/moment/locale/hr.js","./hu":"./node_modules/react-datepicker/node_modules/moment/locale/hu.js","./hu.js":"./node_modules/react-datepicker/node_modules/moment/locale/hu.js","./hy-am":"./node_modules/react-datepicker/node_modules/moment/locale/hy-am.js","./hy-am.js":"./node_modules/react-datepicker/node_modules/moment/locale/hy-am.js","./id":"./node_modules/react-datepicker/node_modules/moment/locale/id.js","./id.js":"./node_modules/react-datepicker/node_modules/moment/locale/id.js","./is":"./node_modules/react-datepicker/node_modules/moment/locale/is.js","./is.js":"./node_modules/react-datepicker/node_modules/moment/locale/is.js","./it":"./node_modules/react-datepicker/node_modules/moment/locale/it.js","./it-ch":"./node_modules/react-datepicker/node_modules/moment/locale/it-ch.js","./it-ch.js":"./node_modules/react-datepicker/node_modules/moment/locale/it-ch.js","./it.js":"./node_modules/react-datepicker/node_modules/moment/locale/it.js","./ja":"./node_modules/react-datepicker/node_modules/moment/locale/ja.js","./ja.js":"./node_modules/react-datepicker/node_modules/moment/locale/ja.js","./jv":"./node_modules/react-datepicker/node_modules/moment/locale/jv.js","./jv.js":"./node_modules/react-datepicker/node_modules/moment/locale/jv.js","./ka":"./node_modules/react-datepicker/node_modules/moment/locale/ka.js","./ka.js":"./node_modules/react-datepicker/node_modules/moment/locale/ka.js","./kk":"./node_modules/react-datepicker/node_modules/moment/locale/kk.js","./kk.js":"./node_modules/react-datepicker/node_modules/moment/locale/kk.js","./km":"./node_modules/react-datepicker/node_modules/moment/locale/km.js","./km.js":"./node_modules/react-datepicker/node_modules/moment/locale/km.js","./kn":"./node_modules/react-datepicker/node_modules/moment/locale/kn.js","./kn.js":"./node_modules/react-datepicker/node_modules/moment/locale/kn.js","./ko":"./node_modules/react-datepicker/node_modules/moment/locale/ko.js","./ko.js":"./node_modules/react-datepicker/node_modules/moment/locale/ko.js","./ku":"./node_modules/react-datepicker/node_modules/moment/locale/ku.js","./ku.js":"./node_modules/react-datepicker/node_modules/moment/locale/ku.js","./ky":"./node_modules/react-datepicker/node_modules/moment/locale/ky.js","./ky.js":"./node_modules/react-datepicker/node_modules/moment/locale/ky.js","./lb":"./node_modules/react-datepicker/node_modules/moment/locale/lb.js","./lb.js":"./node_modules/react-datepicker/node_modules/moment/locale/lb.js","./lo":"./node_modules/react-datepicker/node_modules/moment/locale/lo.js","./lo.js":"./node_modules/react-datepicker/node_modules/moment/locale/lo.js","./lt":"./node_modules/react-datepicker/node_modules/moment/locale/lt.js","./lt.js":"./node_modules/react-datepicker/node_modules/moment/locale/lt.js","./lv":"./node_modules/react-datepicker/node_modules/moment/locale/lv.js","./lv.js":"./node_modules/react-datepicker/node_modules/moment/locale/lv.js","./me":"./node_modules/react-datepicker/node_modules/moment/locale/me.js","./me.js":"./node_modules/react-datepicker/node_modules/moment/locale/me.js","./mi":"./node_modules/react-datepicker/node_modules/moment/locale/mi.js","./mi.js":"./node_modules/react-datepicker/node_modules/moment/locale/mi.js","./mk":"./node_modules/react-datepicker/node_modules/moment/locale/mk.js","./mk.js":"./node_modules/react-datepicker/node_modules/moment/locale/mk.js","./ml":"./node_modules/react-datepicker/node_modules/moment/locale/ml.js","./ml.js":"./node_modules/react-datepicker/node_modules/moment/locale/ml.js","./mn":"./node_modules/react-datepicker/node_modules/moment/locale/mn.js","./mn.js":"./node_modules/react-datepicker/node_modules/moment/locale/mn.js","./mr":"./node_modules/react-datepicker/node_modules/moment/locale/mr.js","./mr.js":"./node_modules/react-datepicker/node_modules/moment/locale/mr.js","./ms":"./node_modules/react-datepicker/node_modules/moment/locale/ms.js","./ms-my":"./node_modules/react-datepicker/node_modules/moment/locale/ms-my.js","./ms-my.js":"./node_modules/react-datepicker/node_modules/moment/locale/ms-my.js","./ms.js":"./node_modules/react-datepicker/node_modules/moment/locale/ms.js","./mt":"./node_modules/react-datepicker/node_modules/moment/locale/mt.js","./mt.js":"./node_modules/react-datepicker/node_modules/moment/locale/mt.js","./my":"./node_modules/react-datepicker/node_modules/moment/locale/my.js","./my.js":"./node_modules/react-datepicker/node_modules/moment/locale/my.js","./nb":"./node_modules/react-datepicker/node_modules/moment/locale/nb.js","./nb.js":"./node_modules/react-datepicker/node_modules/moment/locale/nb.js","./ne":"./node_modules/react-datepicker/node_modules/moment/locale/ne.js","./ne.js":"./node_modules/react-datepicker/node_modules/moment/locale/ne.js","./nl":"./node_modules/react-datepicker/node_modules/moment/locale/nl.js","./nl-be":"./node_modules/react-datepicker/node_modules/moment/locale/nl-be.js","./nl-be.js":"./node_modules/react-datepicker/node_modules/moment/locale/nl-be.js","./nl.js":"./node_modules/react-datepicker/node_modules/moment/locale/nl.js","./nn":"./node_modules/react-datepicker/node_modules/moment/locale/nn.js","./nn.js":"./node_modules/react-datepicker/node_modules/moment/locale/nn.js","./pa-in":"./node_modules/react-datepicker/node_modules/moment/locale/pa-in.js","./pa-in.js":"./node_modules/react-datepicker/node_modules/moment/locale/pa-in.js","./pl":"./node_modules/react-datepicker/node_modules/moment/locale/pl.js","./pl.js":"./node_modules/react-datepicker/node_modules/moment/locale/pl.js","./pt":"./node_modules/react-datepicker/node_modules/moment/locale/pt.js","./pt-br":"./node_modules/react-datepicker/node_modules/moment/locale/pt-br.js","./pt-br.js":"./node_modules/react-datepicker/node_modules/moment/locale/pt-br.js","./pt.js":"./node_modules/react-datepicker/node_modules/moment/locale/pt.js","./ro":"./node_modules/react-datepicker/node_modules/moment/locale/ro.js","./ro.js":"./node_modules/react-datepicker/node_modules/moment/locale/ro.js","./ru":"./node_modules/react-datepicker/node_modules/moment/locale/ru.js","./ru.js":"./node_modules/react-datepicker/node_modules/moment/locale/ru.js","./sd":"./node_modules/react-datepicker/node_modules/moment/locale/sd.js","./sd.js":"./node_modules/react-datepicker/node_modules/moment/locale/sd.js","./se":"./node_modules/react-datepicker/node_modules/moment/locale/se.js","./se.js":"./node_modules/react-datepicker/node_modules/moment/locale/se.js","./si":"./node_modules/react-datepicker/node_modules/moment/locale/si.js","./si.js":"./node_modules/react-datepicker/node_modules/moment/locale/si.js","./sk":"./node_modules/react-datepicker/node_modules/moment/locale/sk.js","./sk.js":"./node_modules/react-datepicker/node_modules/moment/locale/sk.js","./sl":"./node_modules/react-datepicker/node_modules/moment/locale/sl.js","./sl.js":"./node_modules/react-datepicker/node_modules/moment/locale/sl.js","./sq":"./node_modules/react-datepicker/node_modules/moment/locale/sq.js","./sq.js":"./node_modules/react-datepicker/node_modules/moment/locale/sq.js","./sr":"./node_modules/react-datepicker/node_modules/moment/locale/sr.js","./sr-cyrl":"./node_modules/react-datepicker/node_modules/moment/locale/sr-cyrl.js","./sr-cyrl.js":"./node_modules/react-datepicker/node_modules/moment/locale/sr-cyrl.js","./sr.js":"./node_modules/react-datepicker/node_modules/moment/locale/sr.js","./ss":"./node_modules/react-datepicker/node_modules/moment/locale/ss.js","./ss.js":"./node_modules/react-datepicker/node_modules/moment/locale/ss.js","./sv":"./node_modules/react-datepicker/node_modules/moment/locale/sv.js","./sv.js":"./node_modules/react-datepicker/node_modules/moment/locale/sv.js","./sw":"./node_modules/react-datepicker/node_modules/moment/locale/sw.js","./sw.js":"./node_modules/react-datepicker/node_modules/moment/locale/sw.js","./ta":"./node_modules/react-datepicker/node_modules/moment/locale/ta.js","./ta.js":"./node_modules/react-datepicker/node_modules/moment/locale/ta.js","./te":"./node_modules/react-datepicker/node_modules/moment/locale/te.js","./te.js":"./node_modules/react-datepicker/node_modules/moment/locale/te.js","./tet":"./node_modules/react-datepicker/node_modules/moment/locale/tet.js","./tet.js":"./node_modules/react-datepicker/node_modules/moment/locale/tet.js","./tg":"./node_modules/react-datepicker/node_modules/moment/locale/tg.js","./tg.js":"./node_modules/react-datepicker/node_modules/moment/locale/tg.js","./th":"./node_modules/react-datepicker/node_modules/moment/locale/th.js","./th.js":"./node_modules/react-datepicker/node_modules/moment/locale/th.js","./tl-ph":"./node_modules/react-datepicker/node_modules/moment/locale/tl-ph.js","./tl-ph.js":"./node_modules/react-datepicker/node_modules/moment/locale/tl-ph.js","./tlh":"./node_modules/react-datepicker/node_modules/moment/locale/tlh.js","./tlh.js":"./node_modules/react-datepicker/node_modules/moment/locale/tlh.js","./tr":"./node_modules/react-datepicker/node_modules/moment/locale/tr.js","./tr.js":"./node_modules/react-datepicker/node_modules/moment/locale/tr.js","./tzl":"./node_modules/react-datepicker/node_modules/moment/locale/tzl.js","./tzl.js":"./node_modules/react-datepicker/node_modules/moment/locale/tzl.js","./tzm":"./node_modules/react-datepicker/node_modules/moment/locale/tzm.js","./tzm-latn":"./node_modules/react-datepicker/node_modules/moment/locale/tzm-latn.js","./tzm-latn.js":"./node_modules/react-datepicker/node_modules/moment/locale/tzm-latn.js","./tzm.js":"./node_modules/react-datepicker/node_modules/moment/locale/tzm.js","./ug-cn":"./node_modules/react-datepicker/node_modules/moment/locale/ug-cn.js","./ug-cn.js":"./node_modules/react-datepicker/node_modules/moment/locale/ug-cn.js","./uk":"./node_modules/react-datepicker/node_modules/moment/locale/uk.js","./uk.js":"./node_modules/react-datepicker/node_modules/moment/locale/uk.js","./ur":"./node_modules/react-datepicker/node_modules/moment/locale/ur.js","./ur.js":"./node_modules/react-datepicker/node_modules/moment/locale/ur.js","./uz":"./node_modules/react-datepicker/node_modules/moment/locale/uz.js","./uz-latn":"./node_modules/react-datepicker/node_modules/moment/locale/uz-latn.js","./uz-latn.js":"./node_modules/react-datepicker/node_modules/moment/locale/uz-latn.js","./uz.js":"./node_modules/react-datepicker/node_modules/moment/locale/uz.js","./vi":"./node_modules/react-datepicker/node_modules/moment/locale/vi.js","./vi.js":"./node_modules/react-datepicker/node_modules/moment/locale/vi.js","./x-pseudo":"./node_modules/react-datepicker/node_modules/moment/locale/x-pseudo.js","./x-pseudo.js":"./node_modules/react-datepicker/node_modules/moment/locale/x-pseudo.js","./yo":"./node_modules/react-datepicker/node_modules/moment/locale/yo.js","./yo.js":"./node_modules/react-datepicker/node_modules/moment/locale/yo.js","./zh-cn":"./node_modules/react-datepicker/node_modules/moment/locale/zh-cn.js","./zh-cn.js":"./node_modules/react-datepicker/node_modules/moment/locale/zh-cn.js","./zh-hk":"./node_modules/react-datepicker/node_modules/moment/locale/zh-hk.js","./zh-hk.js":"./node_modules/react-datepicker/node_modules/moment/locale/zh-hk.js","./zh-tw":"./node_modules/react-datepicker/node_modules/moment/locale/zh-tw.js","./zh-tw.js":"./node_modules/react-datepicker/node_modules/moment/locale/zh-tw.js"};function s(e){var t=r(e);return n(t)}function r(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}s.keys=function(){return Object.keys(o)},s.resolve=r,e.exports=s,s.id="./node_modules/react-datepicker/node_modules/moment/locale sync recursive ^\\.\\/.*$"},0:
/*!********************!*\
  !*** ws (ignored) ***!
  \********************/
/*! no static exports found */function(e,t){},1:
/*!**********************!*\
  !*** zlib (ignored) ***!
  \**********************/
/*! no static exports found */function(e,t){},2:
/*!********************!*\
  !*** fs (ignored) ***!
  \********************/
/*! no static exports found */function(e,t){},3:
/*!**********************!*\
  !*** http (ignored) ***!
  \**********************/
/*! no static exports found */function(e,t){},4:
/*!***********************!*\
  !*** https (ignored) ***!
  \***********************/
/*! no static exports found */function(e,t){}});